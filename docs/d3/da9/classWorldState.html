<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>AzerothCore Doxygen</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d3/da9/classWorldState.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../de/d5a/classWorldState-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">WorldState Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="../../">WorldState.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad14e01bcb94b4edea5d2515cf6cf0868" id="r_ad14e01bcb94b4edea5d2515cf6cf0868"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ad14e01bcb94b4edea5d2515cf6cf0868">WorldState</a> ()</td></tr>
<tr class="separator:ad14e01bcb94b4edea5d2515cf6cf0868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae529d95330f8037a21cea02cc079b0cd" id="r_ae529d95330f8037a21cea02cc079b0cd"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ae529d95330f8037a21cea02cc079b0cd">~WorldState</a> ()</td></tr>
<tr class="separator:ae529d95330f8037a21cea02cc079b0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f34655557b5a170b61e8b15ad07d6a" id="r_a92f34655557b5a170b61e8b15ad07d6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a92f34655557b5a170b61e8b15ad07d6a">Load</a> ()</td></tr>
<tr class="separator:a92f34655557b5a170b61e8b15ad07d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd94cb3de9e3064b01114156333d61dc" id="r_afd94cb3de9e3064b01114156333d61dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#afd94cb3de9e3064b01114156333d61dc">LoadWorldStates</a> ()</td></tr>
<tr class="separator:afd94cb3de9e3064b01114156333d61dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944f5cb17580e70671d45d49b3d2138a" id="r_a944f5cb17580e70671d45d49b3d2138a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a944f5cb17580e70671d45d49b3d2138a">setWorldState</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> index, <a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> value)</td></tr>
<tr class="separator:a944f5cb17580e70671d45d49b3d2138a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c0fb89d452d67fff79fe92070b831f" id="r_a43c0fb89d452d67fff79fe92070b831f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a43c0fb89d452d67fff79fe92070b831f">getWorldState</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> index) const</td></tr>
<tr class="separator:a43c0fb89d452d67fff79fe92070b831f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3f1594b47259d2f8b128781e08dbd1" id="r_a1b3f1594b47259d2f8b128781e08dbd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a> saveId)</td></tr>
<tr class="separator:a1b3f1594b47259d2f8b128781e08dbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bc6726c3515b63dbbd28072b36f108" id="r_aa0bc6726c3515b63dbbd28072b36f108"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa0bc6726c3515b63dbbd28072b36f108">SaveHelper</a> (std::string &amp;stringToSave, <a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a> saveId)</td></tr>
<tr class="separator:aa0bc6726c3515b63dbbd28072b36f108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adea39d5d407e56368e4a67dd959d0c78" id="r_adea39d5d407e56368e4a67dd959d0c78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#adea39d5d407e56368e4a67dd959d0c78">HandlePlayerEnterZone</a> (<a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *player, <a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a> zoneId)</td></tr>
<tr class="separator:adea39d5d407e56368e4a67dd959d0c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaccc044b7005ac0a58304310ee549fbc" id="r_aaccc044b7005ac0a58304310ee549fbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aaccc044b7005ac0a58304310ee549fbc">HandlePlayerLeaveZone</a> (<a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *player, <a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a> zoneId)</td></tr>
<tr class="separator:aaccc044b7005ac0a58304310ee549fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa773eb6445da16f9e7eb5cb1344e6fa6" id="r_aa773eb6445da16f9e7eb5cb1344e6fa6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa773eb6445da16f9e7eb5cb1344e6fa6">IsConditionFulfilled</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a> conditionId, <a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a> state=<a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>) const</td></tr>
<tr class="separator:aa773eb6445da16f9e7eb5cb1344e6fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210ba9c92b727b3a0bb18b59194cc70a" id="r_a210ba9c92b727b3a0bb18b59194cc70a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a210ba9c92b727b3a0bb18b59194cc70a">HandleConditionStateChange</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a> conditionId, <a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a> state)</td></tr>
<tr class="separator:a210ba9c92b727b3a0bb18b59194cc70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade529a26b08fca422a215c5aac78bb52" id="r_ade529a26b08fca422a215c5aac78bb52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ade529a26b08fca422a215c5aac78bb52">HandleExternalEvent</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266">WorldStateEvent</a> eventId, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> param)</td></tr>
<tr class="separator:ade529a26b08fca422a215c5aac78bb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392dd15b70d42ff2ce9f74605d495513" id="r_a392dd15b70d42ff2ce9f74605d495513"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a392dd15b70d42ff2ce9f74605d495513">Update</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> diff)</td></tr>
<tr class="separator:a392dd15b70d42ff2ce9f74605d495513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfad77c7558a708b61ee9999766dbd43" id="r_abfad77c7558a708b61ee9999766dbd43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#abfad77c7558a708b61ee9999766dbd43">AddSunwellGateProgress</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</td></tr>
<tr class="separator:abfad77c7558a708b61ee9999766dbd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9226767ddacaf1bbdbfc911e5f63956" id="r_ab9226767ddacaf1bbdbfc911e5f63956"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ab9226767ddacaf1bbdbfc911e5f63956">AddSunsReachProgress</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</td></tr>
<tr class="separator:ab9226767ddacaf1bbdbfc911e5f63956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023a69d9e9608aa7dde3cb769f76e1fc" id="r_a023a69d9e9608aa7dde3cb769f76e1fc"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a023a69d9e9608aa7dde3cb769f76e1fc">GetSunsReachPrintout</a> ()</td></tr>
<tr class="separator:a023a69d9e9608aa7dde3cb769f76e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41ca189b0ec20d9dc3f78d7f191011e" id="r_af41ca189b0ec20d9dc3f78d7f191011e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#af41ca189b0ec20d9dc3f78d7f191011e">FillInitialWorldStates</a> (<a class="el" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html">WorldPackets::WorldState::InitWorldStates</a> &amp;packet, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>)</td></tr>
<tr class="separator:af41ca189b0ec20d9dc3f78d7f191011e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1123ff0edde32f57a1cc13b275c2e956" id="r_a1123ff0edde32f57a1cc13b275c2e956"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newPhase)</td></tr>
<tr class="separator:a1123ff0edde32f57a1cc13b275c2e956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0cf4fec23a9aa71346996c46d38c58b" id="r_aa0cf4fec23a9aa71346996c46d38c58b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a> (<a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> subPhaseMask, bool initial=false)</td></tr>
<tr class="separator:aa0cf4fec23a9aa71346996c46d38c58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c189d45ab5f01e820ff001a7427b77" id="r_a67c189d45ab5f01e820ff001a7427b77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a67c189d45ab5f01e820ff001a7427b77">SetSunsReachCounter</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211c">SunsReachCounters</a> index, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value)</td></tr>
<tr class="separator:a67c189d45ab5f01e820ff001a7427b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45877b4064df238a02c64f33990fba4" id="r_aa45877b4064df238a02c64f33990fba4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newGate)</td></tr>
<tr class="separator:aa45877b4064df238a02c64f33990fba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c45cd6d06a2f7e103d8e13c07f5656" id="r_ac4c45cd6d06a2f7e103d8e13c07f5656"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ac4c45cd6d06a2f7e103d8e13c07f5656">SetSunwellGateCounter</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34f">SunwellGateCounters</a> index, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value)</td></tr>
<tr class="separator:ac4c45cd6d06a2f7e103d8e13c07f5656"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab82b11875771d0efc209c452e4bc0ffd" id="r_ab82b11875771d0efc209c452e4bc0ffd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/da9/classWorldState.html">WorldState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">instance</a> ()</td></tr>
<tr class="separator:ab82b11875771d0efc209c452e4bc0ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a66228290309a4c9dc76994e6f0ab1e2c" id="r_a66228290309a4c9dc76994e6f0ab1e2c"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldStatesMap</a></td></tr>
<tr class="separator:a66228290309a4c9dc76994e6f0ab1e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a61245833b5b6b4ad89c3dd17c3691ef1" id="r_a61245833b5b6b4ad89c3dd17c3691ef1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a> (std::mutex &amp;mutex, <a class="el" href="../../dc/dc9/ObjectGuid_8h.html#a173958393e55b3150391dfb3a6d387ed">GuidVector</a> const &amp;guids, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> worldStateId)</td></tr>
<tr class="separator:a61245833b5b6b4ad89c3dd17c3691ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97eabce4c25bd59dabb9b417574cc2cb" id="r_a97eabce4c25bd59dabb9b417574cc2cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">StopSunsReachPhase</a> (bool forward)</td></tr>
<tr class="separator:a97eabce4c25bd59dabb9b417574cc2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ccc9b698e2449bbde90e85b3e6eda8" id="r_aa0ccc9b698e2449bbde90e85b3e6eda8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a> (bool initial=false)</td></tr>
<tr class="separator:aa0ccc9b698e2449bbde90e85b3e6eda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb1e1ff43eb6b88935b86c875363e40" id="r_a5cb1e1ff43eb6b88935b86c875363e40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a> ()</td></tr>
<tr class="separator:a5cb1e1ff43eb6b88935b86c875363e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd4d4141d81f26e9fb6508b628e7e59" id="r_afbd4d4141d81f26e9fb6508b628e7e59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">StopSunwellGatePhase</a> ()</td></tr>
<tr class="separator:afbd4d4141d81f26e9fb6508b628e7e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8d179e7211636c5cb406356cbc548e" id="r_a4d8d179e7211636c5cb406356cbc548e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a4d8d179e7211636c5cb406356cbc548e">BuffAdalsSongOfBattle</a> ()</td></tr>
<tr class="separator:a4d8d179e7211636c5cb406356cbc548e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f98292f5c55cab7b70fd7c20d8cb5a" id="r_a20f98292f5c55cab7b70fd7c20d8cb5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a20f98292f5c55cab7b70fd7c20d8cb5a">DispelAdalsSongOfBattle</a> ()</td></tr>
<tr class="separator:a20f98292f5c55cab7b70fd7c20d8cb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcfb88f8c931e68b98bfd2f06ce1cee5" id="r_adcfb88f8c931e68b98bfd2f06ce1cee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">BuffMagtheridonTeam</a> (<a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> team)</td></tr>
<tr class="separator:adcfb88f8c931e68b98bfd2f06ce1cee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eafdbdd9c30de839b5768aaf9ae16a8" id="r_a6eafdbdd9c30de839b5768aaf9ae16a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">DispelMagtheridonTeam</a> (<a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> team)</td></tr>
<tr class="separator:a6eafdbdd9c30de839b5768aaf9ae16a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9692b273469befd8d81da34a2318d7e0" id="r_a9692b273469befd8d81da34a2318d7e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldStatesMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a></td></tr>
<tr class="separator:a9692b273469befd8d81da34a2318d7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedccbddea39cd0a6ddf835147ca27da1" id="r_aedccbddea39cd0a6ddf835147ca27da1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a></td></tr>
<tr class="separator:aedccbddea39cd0a6ddf835147ca27da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66fb9980d02e5d6d11b0a1113aba2d39" id="r_a66fb9980d02e5d6d11b0a1113aba2d39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a></td></tr>
<tr class="separator:a66fb9980d02e5d6d11b0a1113aba2d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6408344019152591c457b63601aac4dd" id="r_a6408344019152591c457b63601aac4dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a></td></tr>
<tr class="separator:a6408344019152591c457b63601aac4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3901ed4c6fd2440118bdebdcb632f4" id="r_a9d3901ed4c6fd2440118bdebdcb632f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/db1/structSunsReachReclamationData.html">SunsReachReclamationData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a></td></tr>
<tr class="separator:a9d3901ed4c6fd2440118bdebdcb632f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb66d84efa678b26d5ee37845586008" id="r_a1bb66d84efa678b26d5ee37845586008"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a>, std::atomic&lt; <a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a1bb66d84efa678b26d5ee37845586008">_transportStates</a></td></tr>
<tr class="separator:a1bb66d84efa678b26d5ee37845586008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6fa603f03ebf22874990b5beb37f55" id="r_a8b6fa603f03ebf22874990b5beb37f55"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a></td></tr>
<tr class="separator:a8b6fa603f03ebf22874990b5beb37f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a66228290309a4c9dc76994e6f0ab1e2c" name="a66228290309a4c9dc76994e6f0ab1e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66228290309a4c9dc76994e6f0ab1e2c">&#9670;&#160;</a></span>WorldStatesMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt; <a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldState::WorldStatesMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad14e01bcb94b4edea5d2515cf6cf0868" name="ad14e01bcb94b4edea5d2515cf6cf0868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14e01bcb94b4edea5d2515cf6cf0868">&#9670;&#160;</a></span>WorldState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WorldState::WorldState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   32</span>                       : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a>(<span class="keyword">false</span>), <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a>(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">   33</span>{</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a1bb66d84efa678b26d5ee37845586008">_transportStates</a>[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>]      = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>;</div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a1bb66d84efa678b26d5ee37845586008">_transportStates</a>[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>] = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>;</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a1bb66d84efa678b26d5ee37845586008">_transportStates</a>[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>]   = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>;</div>
<div class="line"><span class="lineno">   37</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_STATE_NONE</div><div class="ttdef"><b>Definition</b> WorldState.h:37</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_THE_THUNDERCALLER</div><div class="ttdef"><b>Definition</b> WorldState.h:30</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_THE_IRON_EAGLE</div><div class="ttdef"><b>Definition</b> WorldState.h:31</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</div><div class="ttdef"><b>Definition</b> WorldState.h:32</div></div>
<div class="ttc" id="aclassWorldState_html_a1bb66d84efa678b26d5ee37845586008"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a1bb66d84efa678b26d5ee37845586008">WorldState::_transportStates</a></div><div class="ttdeci">std::map&lt; WorldStateCondition, std::atomic&lt; WorldStateConditionState &gt; &gt; _transportStates</div><div class="ttdef"><b>Definition</b> WorldState.h:198</div></div>
<div class="ttc" id="aclassWorldState_html_a6408344019152591c457b63601aac4dd"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">WorldState::_isMagtheridonHeadSpawnedAlliance</a></div><div class="ttdeci">bool _isMagtheridonHeadSpawnedAlliance</div><div class="ttdef"><b>Definition</b> WorldState.h:196</div></div>
<div class="ttc" id="aclassWorldState_html_a66fb9980d02e5d6d11b0a1113aba2d39"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">WorldState::_isMagtheridonHeadSpawnedHorde</a></div><div class="ttdeci">bool _isMagtheridonHeadSpawnedHorde</div><div class="ttdef"><b>Definition</b> WorldState.h:195</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00198">_transportStates</a>, <a class="el" href="../../#l00037">WORLD_STATE_CONDITION_STATE_NONE</a>, <a class="el" href="../../#l00031">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>, <a class="el" href="../../#l00032">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>, and <a class="el" href="../../#l00030">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>.</p>

</div>
</div>
<a id="ae529d95330f8037a21cea02cc079b0cd" name="ae529d95330f8037a21cea02cc079b0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae529d95330f8037a21cea02cc079b0cd">&#9670;&#160;</a></span>~WorldState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WorldState::~WorldState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   40</span>{</div>
<div class="line"><span class="lineno">   41</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab9226767ddacaf1bbdbfc911e5f63956" name="ab9226767ddacaf1bbdbfc911e5f63956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9226767ddacaf1bbdbfc911e5f63956">&#9670;&#160;</a></span>AddSunsReachProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::AddSunsReachProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>questId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  471</span>{</div>
<div class="line"><span class="lineno">  472</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counter = 0;</div>
<div class="line"><span class="lineno">  473</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> otherCounter = -1;</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> worldState = 0;</div>
<div class="line"><span class="lineno">  475</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> subPhaseMask = 0;</div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> addedValue = 1;</div>
<div class="line"><span class="lineno">  477</span>    <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno">  478</span>    {</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24">QUEST_ERRATIC_BEHAVIOR</a>:</div>
<div class="line"><span class="lineno">  480</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a>;</div>
<div class="line"><span class="lineno">  481</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a>;</div>
<div class="line"><span class="lineno">  482</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a>;</div>
<div class="line"><span class="lineno">  483</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0">QUEST_SANCTUM_WARDS</a>:</div>
<div class="line"><span class="lineno">  485</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a>;</div>
<div class="line"><span class="lineno">  486</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a>;</div>
<div class="line"><span class="lineno">  487</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a>;</div>
<div class="line"><span class="lineno">  488</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>:</div>
<div class="line"><span class="lineno">  490</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>;</div>
<div class="line"><span class="lineno">  491</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>;</div>
<div class="line"><span class="lineno">  492</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a>;</div>
<div class="line"><span class="lineno">  493</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  494</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a>:</div>
<div class="line"><span class="lineno">  495</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>;</div>
<div class="line"><span class="lineno">  496</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>;</div>
<div class="line"><span class="lineno">  497</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a>;</div>
<div class="line"><span class="lineno">  498</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  499</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377">QUEST_INTERCEPTING_THE_MANA_CELLS</a>:</div>
<div class="line"><span class="lineno">  500</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>;</div>
<div class="line"><span class="lineno">  501</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>;</div>
<div class="line"><span class="lineno">  502</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84">WORLD_STATE_QUEL_DANAS_PORTAL</a>;</div>
<div class="line"><span class="lineno">  503</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  504</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5">QUEST_INTERCEPT_THE_REINFORCEMENTS</a>:</div>
<div class="line"><span class="lineno">  505</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>;</div>
<div class="line"><span class="lineno">  506</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a>;</div>
<div class="line"><span class="lineno">  507</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a>;</div>
<div class="line"><span class="lineno">  508</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  509</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3">QUEST_TAKING_THE_HARBOR</a>:</div>
<div class="line"><span class="lineno">  510</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a>;</div>
<div class="line"><span class="lineno">  511</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>;</div>
<div class="line"><span class="lineno">  512</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a>;</div>
<div class="line"><span class="lineno">  513</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  514</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430">QUEST_MAKING_READY</a>:</div>
<div class="line"><span class="lineno">  515</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671">COUNTER_MAKING_READY</a>;</div>
<div class="line"><span class="lineno">  516</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>;</div>
<div class="line"><span class="lineno">  517</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689">WORLD_STATE_QUEL_DANAS_ANVIL</a>;</div>
<div class="line"><span class="lineno">  518</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158">QUEST_DISCOVERING_YOUR_ROOTS</a>:</div>
<div class="line"><span class="lineno">  520</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb">COUNTER_DISCOVERING_YOUR_ROOTS</a>;</div>
<div class="line"><span class="lineno">  521</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  522</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  523</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  524</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b">QUEST_A_CHARITABLE_DONATION</a>:</div>
<div class="line"><span class="lineno">  525</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a>;</div>
<div class="line"><span class="lineno">  526</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  527</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  528</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4">QUEST_A_MAGNANIMOUS_BENEFACTOR</a>:</div>
<div class="line"><span class="lineno">  530</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a>;</div>
<div class="line"><span class="lineno">  531</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  532</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  533</span>            addedValue = 150;</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  537</span>    }</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> previousValue = 0;</div>
<div class="line"><span class="lineno">  540</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newValue = 0;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">if</span> (!subPhaseMask)</div>
<div class="line"><span class="lineno">  543</span>        previousValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  544</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  545</span>        previousValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(subPhaseMask);</div>
<div class="line"><span class="lineno">  546</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[counter] += addedValue;</div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">if</span> (!subPhaseMask)</div>
<div class="line"><span class="lineno">  548</span>        newValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  550</span>        newValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(subPhaseMask);</div>
<div class="line"><span class="lineno">  551</span>    <span class="keywordflow">if</span> (previousValue != newValue)</div>
<div class="line"><span class="lineno">  552</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, newValue, worldState);</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordtype">bool</span> save = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counterValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[counter];</div>
<div class="line"><span class="lineno">  556</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> modifier = 1;</div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordflow">if</span> (otherCounter != -1)</div>
<div class="line"><span class="lineno">  558</span>    {</div>
<div class="line"><span class="lineno">  559</span>        modifier = 2;</div>
<div class="line"><span class="lineno">  560</span>        counterValue += <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[otherCounter];</div>
<div class="line"><span class="lineno">  561</span>    }</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">if</span> (counterValue &gt;= <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41aa665c623ee4ce5d5942b73e3864328f4">CONFIG_SUNSREACH_COUNTER_MAX</a>) * modifier)</div>
<div class="line"><span class="lineno">  563</span>    {</div>
<div class="line"><span class="lineno">  564</span>        save = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno">  566</span>        {</div>
<div class="line"><span class="lineno">  567</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24">QUEST_ERRATIC_BEHAVIOR</a>:</div>
<div class="line"><span class="lineno">  568</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0">QUEST_SANCTUM_WARDS</a>:</div>
<div class="line"><span class="lineno">  569</span>            {</div>
<div class="line"><span class="lineno">  570</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>)</div>
<div class="line"><span class="lineno">  571</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>);</div>
<div class="line"><span class="lineno">  572</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  573</span>            }</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>:</div>
<div class="line"><span class="lineno">  575</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a>:</div>
<div class="line"><span class="lineno">  576</span>            {</div>
<div class="line"><span class="lineno">  577</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>)</div>
<div class="line"><span class="lineno">  578</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>);</div>
<div class="line"><span class="lineno">  579</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  580</span>            }</div>
<div class="line"><span class="lineno">  581</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377">QUEST_INTERCEPTING_THE_MANA_CELLS</a>:</div>
<div class="line"><span class="lineno">  582</span>            {</div>
<div class="line"><span class="lineno">  583</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0)</div>
<div class="line"><span class="lineno">  584</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>);</div>
<div class="line"><span class="lineno">  585</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  586</span>            }</div>
<div class="line"><span class="lineno">  587</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5">QUEST_INTERCEPT_THE_REINFORCEMENTS</a>:</div>
<div class="line"><span class="lineno">  588</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3">QUEST_TAKING_THE_HARBOR</a>:</div>
<div class="line"><span class="lineno">  589</span>            {</div>
<div class="line"><span class="lineno">  590</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>)</div>
<div class="line"><span class="lineno">  591</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>);</div>
<div class="line"><span class="lineno">  592</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  593</span>            }</div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430">QUEST_MAKING_READY</a>:</div>
<div class="line"><span class="lineno">  595</span>            {</div>
<div class="line"><span class="lineno">  596</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0)</div>
<div class="line"><span class="lineno">  597</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>);</div>
<div class="line"><span class="lineno">  598</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  599</span>            }</div>
<div class="line"><span class="lineno">  600</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158">QUEST_DISCOVERING_YOUR_ROOTS</a>:</div>
<div class="line"><span class="lineno">  601</span>            {</div>
<div class="line"><span class="lineno">  602</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0)</div>
<div class="line"><span class="lineno">  603</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>);</div>
<div class="line"><span class="lineno">  604</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  605</span>            }</div>
<div class="line"><span class="lineno">  606</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b">QUEST_A_CHARITABLE_DONATION</a>:</div>
<div class="line"><span class="lineno">  607</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4">QUEST_A_MAGNANIMOUS_BENEFACTOR</a>:</div>
<div class="line"><span class="lineno">  608</span>            {</div>
<div class="line"><span class="lineno">  609</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0)</div>
<div class="line"><span class="lineno">  610</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>);</div>
<div class="line"><span class="lineno">  611</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  612</span>            }</div>
<div class="line"><span class="lineno">  613</span>        }</div>
<div class="line"><span class="lineno">  614</span>    }</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> (save)</div>
<div class="line"><span class="lineno">  616</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  617</span>}</div>
<div class="ttc" id="aDefine_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition</b> Define.h:103</div></div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition</b> Define.h:107</div></div>
<div class="ttc" id="aIWorld_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41aa665c623ee4ce5d5942b73e3864328f4"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41aa665c623ee4ce5d5942b73e3864328f4">CONFIG_SUNSREACH_COUNTER_MAX</a></div><div class="ttdeci">@ CONFIG_SUNSREACH_COUNTER_MAX</div><div class="ttdef"><b>Definition</b> IWorld.h:428</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:56</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_HARBOR</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:50</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689">WORLD_STATE_QUEL_DANAS_ANVIL</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_ANVIL</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:55</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:51</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_SANCTUM</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:53</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_ARMORY</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:52</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84">WORLD_STATE_QUEL_DANAS_PORTAL</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_PORTAL</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:54</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24">QUEST_ERRATIC_BEHAVIOR</a></div><div class="ttdeci">@ QUEST_ERRATIC_BEHAVIOR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:456</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377">QUEST_INTERCEPTING_THE_MANA_CELLS</a></div><div class="ttdeci">@ QUEST_INTERCEPTING_THE_MANA_CELLS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:460</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0">QUEST_SANCTUM_WARDS</a></div><div class="ttdeci">@ QUEST_SANCTUM_WARDS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:457</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a></div><div class="ttdeci">@ QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</div><div class="ttdef"><b>Definition</b> WorldState.cpp:458</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5">QUEST_INTERCEPT_THE_REINFORCEMENTS</a></div><div class="ttdeci">@ QUEST_INTERCEPT_THE_REINFORCEMENTS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:461</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430">QUEST_MAKING_READY</a></div><div class="ttdeci">@ QUEST_MAKING_READY</div><div class="ttdef"><b>Definition</b> WorldState.cpp:463</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4">QUEST_A_MAGNANIMOUS_BENEFACTOR</a></div><div class="ttdeci">@ QUEST_A_MAGNANIMOUS_BENEFACTOR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:466</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158">QUEST_DISCOVERING_YOUR_ROOTS</a></div><div class="ttdeci">@ QUEST_DISCOVERING_YOUR_ROOTS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:464</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a></div><div class="ttdeci">@ QUEST_DISTRACTION_AT_THE_DEAD_SCAR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:459</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3">QUEST_TAKING_THE_HARBOR</a></div><div class="ttdeci">@ QUEST_TAKING_THE_HARBOR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:462</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b">QUEST_A_CHARITABLE_DONATION</a></div><div class="ttdeci">@ QUEST_A_CHARITABLE_DONATION</div><div class="ttdef"><b>Definition</b> WorldState.cpp:465</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a></div><div class="ttdeci">@ SUBPHASE_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldState.h:99</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a></div><div class="ttdeci">@ SUBPHASE_ANVIL</div><div class="ttdef"><b>Definition</b> WorldState.h:98</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a></div><div class="ttdeci">@ SUBPHASE_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldState.h:100</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a></div><div class="ttdeci">@ SUBPHASE_PORTAL</div><div class="ttdef"><b>Definition</b> WorldState.h:97</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_3_ARMORY</div><div class="ttdef"><b>Definition</b> WorldState.h:91</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_2_SANCTUM</div><div class="ttdef"><b>Definition</b> WorldState.h:90</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_1_STAGING_AREA</div><div class="ttdef"><b>Definition</b> WorldState.h:89</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_4_HARBOR</div><div class="ttdef"><b>Definition</b> WorldState.h:92</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a></div><div class="ttdeci">@ COUNTER_ERRATIC_BEHAVIOR</div><div class="ttdef"><b>Definition</b> WorldState.h:106</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a></div><div class="ttdeci">@ COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</div><div class="ttdef"><b>Definition</b> WorldState.h:108</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec">COUNTER_INTERCEPTING_THE_MANA_CELLS</a></div><div class="ttdeci">@ COUNTER_INTERCEPTING_THE_MANA_CELLS</div><div class="ttdef"><b>Definition</b> WorldState.h:110</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671">COUNTER_MAKING_READY</a></div><div class="ttdeci">@ COUNTER_MAKING_READY</div><div class="ttdef"><b>Definition</b> WorldState.h:113</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a></div><div class="ttdeci">@ COUNTER_TAKING_THE_HARBOR</div><div class="ttdef"><b>Definition</b> WorldState.h:112</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a></div><div class="ttdeci">@ COUNTER_A_CHARITABLE_DONATION</div><div class="ttdef"><b>Definition</b> WorldState.h:115</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a></div><div class="ttdeci">@ COUNTER_INTERCEPT_THE_REINFORCEMENTS</div><div class="ttdef"><b>Definition</b> WorldState.h:111</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb">COUNTER_DISCOVERING_YOUR_ROOTS</a></div><div class="ttdeci">@ COUNTER_DISCOVERING_YOUR_ROOTS</div><div class="ttdef"><b>Definition</b> WorldState.h:114</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a></div><div class="ttdeci">@ COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</div><div class="ttdef"><b>Definition</b> WorldState.h:109</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a></div><div class="ttdeci">@ COUNTER_SANCTUM_WARDS</div><div class="ttdef"><b>Definition</b> WorldState.h:107</div></div>
<div class="ttc" id="aWorldState_8h_html_affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a></div><div class="ttdeci">@ SAVE_ID_QUEL_DANAS</div><div class="ttdef"><b>Definition</b> WorldState.h:59</div></div>
<div class="ttc" id="aclassWorldState_html_a1123ff0edde32f57a1cc13b275c2e956"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">WorldState::HandleSunsReachPhaseTransition</a></div><div class="ttdeci">void HandleSunsReachPhaseTransition(uint32 newPhase)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:619</div></div>
<div class="ttc" id="aclassWorldState_html_a1b3f1594b47259d2f8b128781e08dbd1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">WorldState::Save</a></div><div class="ttdeci">void Save(WorldStateSaveIds saveId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:149</div></div>
<div class="ttc" id="aclassWorldState_html_a61245833b5b6b4ad89c3dd17c3691ef1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">WorldState::SendWorldstateUpdate</a></div><div class="ttdeci">void SendWorldstateUpdate(std::mutex &amp;mutex, GuidVector const &amp;guids, uint32 value, uint32 worldStateId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:446</div></div>
<div class="ttc" id="aclassWorldState_html_a9d3901ed4c6fd2440118bdebdcb632f4"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">WorldState::m_sunsReachData</a></div><div class="ttdeci">SunsReachReclamationData m_sunsReachData</div><div class="ttdef"><b>Definition</b> WorldState.h:197</div></div>
<div class="ttc" id="aclassWorldState_html_aa0cf4fec23a9aa71346996c46d38c58b"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">WorldState::HandleSunsReachSubPhaseTransition</a></div><div class="ttdeci">void HandleSunsReachSubPhaseTransition(int32 subPhaseMask, bool initial=false)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:651</div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition</b> World.h:357</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a0a94a3b69ac5ccfcfae35af007ed375c"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">SunsReachReclamationData::m_subphaseMask</a></div><div class="ttdeci">uint32 m_subphaseMask</div><div class="ttdef"><b>Definition</b> WorldState.h:137</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a0ef2835b702469482926ec4942d0f786"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">SunsReachReclamationData::m_sunsReachReclamationMutex</a></div><div class="ttdeci">std::mutex m_sunsReachReclamationMutex</div><div class="ttdef"><b>Definition</b> WorldState.h:140</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a14253084085c114aa2cfeefdebb0257d"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">SunsReachReclamationData::m_sunsReachReclamationCounters</a></div><div class="ttdeci">uint32 m_sunsReachReclamationCounters[COUNTERS_MAX]</div><div class="ttdef"><b>Definition</b> WorldState.h:138</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a215cec505dd74695704ae7961161e195"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">SunsReachReclamationData::GetPhasePercentage</a></div><div class="ttdeci">uint32 GetPhasePercentage(uint32 phase)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:953</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a67711cd7d43f481161b8f98690d67fe3"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">SunsReachReclamationData::m_phase</a></div><div class="ttdeci">uint32 m_phase</div><div class="ttdef"><b>Definition</b> WorldState.h:136</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a72780ba8e17ccf5513d104eb228b3411"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">SunsReachReclamationData::m_sunsReachReclamationPlayers</a></div><div class="ttdeci">GuidVector m_sunsReachReclamationPlayers</div><div class="ttdef"><b>Definition</b> WorldState.h:139</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_aaee292336c57d967842d63f55e69bf0f"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">SunsReachReclamationData::GetSubPhasePercentage</a></div><div class="ttdeci">uint32 GetSubPhasePercentage(uint32 subPhase)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:964</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00428">CONFIG_SUNSREACH_COUNTER_MAX</a>, <a class="el" href="../../#l00115">COUNTER_A_CHARITABLE_DONATION</a>, <a class="el" href="../../#l00108">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>, <a class="el" href="../../#l00114">COUNTER_DISCOVERING_YOUR_ROOTS</a>, <a class="el" href="../../#l00109">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>, <a class="el" href="../../#l00106">COUNTER_ERRATIC_BEHAVIOR</a>, <a class="el" href="../../#l00111">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>, <a class="el" href="../../#l00110">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>, <a class="el" href="../../#l00113">COUNTER_MAKING_READY</a>, <a class="el" href="../../#l00107">COUNTER_SANCTUM_WARDS</a>, <a class="el" href="../../#l00112">COUNTER_TAKING_THE_HARBOR</a>, <a class="el" href="../../#l00953">SunsReachReclamationData::GetPhasePercentage()</a>, <a class="el" href="../../#l00964">SunsReachReclamationData::GetSubPhasePercentage()</a>, <a class="el" href="../../#l00619">HandleSunsReachPhaseTransition()</a>, <a class="el" href="../../#l00651">HandleSunsReachSubPhaseTransition()</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00137">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00138">SunsReachReclamationData::m_sunsReachReclamationCounters</a>, <a class="el" href="../../#l00140">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00139">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00465">QUEST_A_CHARITABLE_DONATION</a>, <a class="el" href="../../#l00466">QUEST_A_MAGNANIMOUS_BENEFACTOR</a>, <a class="el" href="../../#l00458">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>, <a class="el" href="../../#l00464">QUEST_DISCOVERING_YOUR_ROOTS</a>, <a class="el" href="../../#l00459">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a>, <a class="el" href="../../#l00456">QUEST_ERRATIC_BEHAVIOR</a>, <a class="el" href="../../#l00461">QUEST_INTERCEPT_THE_REINFORCEMENTS</a>, <a class="el" href="../../#l00460">QUEST_INTERCEPTING_THE_MANA_CELLS</a>, <a class="el" href="../../#l00463">QUEST_MAKING_READY</a>, <a class="el" href="../../#l00457">QUEST_SANCTUM_WARDS</a>, <a class="el" href="../../#l00462">QUEST_TAKING_THE_HARBOR</a>, <a class="el" href="../../#l00149">Save()</a>, <a class="el" href="../../#l00059">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00446">SendWorldstateUpdate()</a>, <a class="el" href="../../#l00099">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00098">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00100">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00097">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00089">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00090">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00091">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00092">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00357">sWorld</a>, <a class="el" href="../../#l00051">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>, <a class="el" href="../../#l00055">WORLD_STATE_QUEL_DANAS_ANVIL</a>, <a class="el" href="../../#l00052">WORLD_STATE_QUEL_DANAS_ARMORY</a>, <a class="el" href="../../#l00050">WORLD_STATE_QUEL_DANAS_HARBOR</a>, <a class="el" href="../../#l00056">WORLD_STATE_QUEL_DANAS_MONUMENT</a>, <a class="el" href="../../#l00054">WORLD_STATE_QUEL_DANAS_PORTAL</a>, and <a class="el" href="../../#l00053">WORLD_STATE_QUEL_DANAS_SANCTUM</a>.</p>

</div>
</div>
<a id="abfad77c7558a708b61ee9999766dbd43" name="abfad77c7558a708b61ee9999766dbd43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfad77c7558a708b61ee9999766dbd43">&#9670;&#160;</a></span>AddSunwellGateProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::AddSunwellGateProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>questId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  986</span>{</div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counter = 0;</div>
<div class="line"><span class="lineno">  988</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> worldState = 0;</div>
<div class="line"><span class="lineno">  989</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> addedValue = 1;</div>
<div class="line"><span class="lineno">  990</span>    <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno">  991</span>    {</div>
<div class="line"><span class="lineno">  992</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb">QUEST_AGAMATH_THE_FIRST_GATE</a>:</div>
<div class="line"><span class="lineno">  993</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52">QUEST_ROHENDOR_THE_SECOND_GATE</a>:</div>
<div class="line"><span class="lineno">  994</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc">QUEST_ARCHONISUS_THE_FINAL_GATE</a>:</div>
<div class="line"><span class="lineno">  995</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  996</span>        <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  997</span>    }</div>
<div class="line"><span class="lineno">  998</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno">  999</span>    {</div>
<div class="line"><span class="lineno"> 1000</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c">COUNTER_AGAMATH_THE_FIRST_GATE</a>; worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f">COUNTER_ROHENDOR_THE_SECOND_GATE</a>; worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1002</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>; worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1003</span>        <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1004</span>    }</div>
<div class="line"><span class="lineno"> 1005</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> previousValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>);</div>
<div class="line"><span class="lineno"> 1006</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newValue = 0;</div>
<div class="line"><span class="lineno"> 1007</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[counter] += addedValue;</div>
<div class="line"><span class="lineno"> 1008</span>    newValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>);</div>
<div class="line"><span class="lineno"> 1009</span>    <span class="keywordflow">if</span> (previousValue != newValue)</div>
<div class="line"><span class="lineno"> 1010</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, newValue, worldState);</div>
<div class="line"><span class="lineno"> 1011</span>    <span class="keywordtype">bool</span> save = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[counter] &gt;= <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caadc56c79d9946a6da707fde15807fcfc5">COUNTER_MAX_VAL_REQ_SWP_GATES</a>)</div>
<div class="line"><span class="lineno"> 1013</span>    {</div>
<div class="line"><span class="lineno"> 1014</span>        save = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1015</span>        <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno"> 1016</span>        {</div>
<div class="line"><span class="lineno"> 1017</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb">QUEST_AGAMATH_THE_FIRST_GATE</a>:</div>
<div class="line"><span class="lineno"> 1018</span>            {</div>
<div class="line"><span class="lineno"> 1019</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>)</div>
<div class="line"><span class="lineno"> 1020</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>);</div>
<div class="line"><span class="lineno"> 1021</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1022</span>            }</div>
<div class="line"><span class="lineno"> 1023</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52">QUEST_ROHENDOR_THE_SECOND_GATE</a>:</div>
<div class="line"><span class="lineno"> 1024</span>            {</div>
<div class="line"><span class="lineno"> 1025</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>)</div>
<div class="line"><span class="lineno"> 1026</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>);</div>
<div class="line"><span class="lineno"> 1027</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1028</span>            }</div>
<div class="line"><span class="lineno"> 1029</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc">QUEST_ARCHONISUS_THE_FINAL_GATE</a>:</div>
<div class="line"><span class="lineno"> 1030</span>            {</div>
<div class="line"><span class="lineno"> 1031</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>)</div>
<div class="line"><span class="lineno"> 1032</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>);</div>
<div class="line"><span class="lineno"> 1033</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1034</span>            }</div>
<div class="line"><span class="lineno"> 1035</span>        }</div>
<div class="line"><span class="lineno"> 1036</span>    }</div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordflow">if</span> (save)</div>
<div class="line"><span class="lineno"> 1038</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno"> 1039</span>}</div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a></div><div class="ttdeci">@ WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:60</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a></div><div class="ttdeci">@ WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:61</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a></div><div class="ttdeci">@ WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:59</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb">QUEST_AGAMATH_THE_FIRST_GATE</a></div><div class="ttdeci">@ QUEST_AGAMATH_THE_FIRST_GATE</div><div class="ttdef"><b>Definition</b> WorldState.cpp:979</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc">QUEST_ARCHONISUS_THE_FINAL_GATE</a></div><div class="ttdeci">@ QUEST_ARCHONISUS_THE_FINAL_GATE</div><div class="ttdef"><b>Definition</b> WorldState.cpp:981</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52">QUEST_ROHENDOR_THE_SECOND_GATE</a></div><div class="ttdeci">@ QUEST_ROHENDOR_THE_SECOND_GATE</div><div class="ttdef"><b>Definition</b> WorldState.cpp:980</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caadc56c79d9946a6da707fde15807fcfc5"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caadc56c79d9946a6da707fde15807fcfc5">COUNTER_MAX_VAL_REQ_SWP_GATES</a></div><div class="ttdeci">@ COUNTER_MAX_VAL_REQ_SWP_GATES</div><div class="ttdef"><b>Definition</b> WorldState.cpp:982</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a></div><div class="ttdeci">@ SUNWELL_ARCHONISUS_GATE3_OPEN</div><div class="ttdef"><b>Definition</b> WorldState.h:124</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a></div><div class="ttdeci">@ SUNWELL_ALL_GATES_CLOSED</div><div class="ttdef"><b>Definition</b> WorldState.h:121</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a></div><div class="ttdeci">@ SUNWELL_AGAMATH_GATE1_OPEN</div><div class="ttdef"><b>Definition</b> WorldState.h:122</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a></div><div class="ttdeci">@ SUNWELL_ROHENDOR_GATE2_OPEN</div><div class="ttdef"><b>Definition</b> WorldState.h:123</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f">COUNTER_ROHENDOR_THE_SECOND_GATE</a></div><div class="ttdeci">@ COUNTER_ROHENDOR_THE_SECOND_GATE</div><div class="ttdef"><b>Definition</b> WorldState.h:129</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d">COUNTER_ARCHONISUS_THE_FINAL_GATE</a></div><div class="ttdeci">@ COUNTER_ARCHONISUS_THE_FINAL_GATE</div><div class="ttdef"><b>Definition</b> WorldState.h:130</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c">COUNTER_AGAMATH_THE_FIRST_GATE</a></div><div class="ttdeci">@ COUNTER_AGAMATH_THE_FIRST_GATE</div><div class="ttdef"><b>Definition</b> WorldState.h:128</div></div>
<div class="ttc" id="aclassWorldState_html_aa45877b4064df238a02c64f33990fba4"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">WorldState::HandleSunwellGateTransition</a></div><div class="ttdeci">void HandleSunwellGateTransition(uint32 newGate)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:772</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a35755bcf3f67cfb2ebc77dcb36fa4dfb"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">SunsReachReclamationData::m_gate</a></div><div class="ttdeci">uint32 m_gate</div><div class="ttdef"><b>Definition</b> WorldState.h:141</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a76b38d6f571386c1d818752e12a66f66"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">SunsReachReclamationData::m_gateCounters</a></div><div class="ttdeci">uint32 m_gateCounters[COUNTERS_MAX_GATES]</div><div class="ttdef"><b>Definition</b> WorldState.h:142</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a9b5de26596e174f9a94e019fcb998f9e"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">SunsReachReclamationData::GetSunwellGatePercentage</a></div><div class="ttdeci">uint32 GetSunwellGatePercentage(uint32 gate)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1070</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00128">COUNTER_AGAMATH_THE_FIRST_GATE</a>, <a class="el" href="../../#l00130">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>, <a class="el" href="../../#l00982">COUNTER_MAX_VAL_REQ_SWP_GATES</a>, <a class="el" href="../../#l00129">COUNTER_ROHENDOR_THE_SECOND_GATE</a>, <a class="el" href="../../#l01070">SunsReachReclamationData::GetSunwellGatePercentage()</a>, <a class="el" href="../../#l00772">HandleSunwellGateTransition()</a>, <a class="el" href="../../#l00141">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00142">SunsReachReclamationData::m_gateCounters</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00140">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00139">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00979">QUEST_AGAMATH_THE_FIRST_GATE</a>, <a class="el" href="../../#l00981">QUEST_ARCHONISUS_THE_FINAL_GATE</a>, <a class="el" href="../../#l00980">QUEST_ROHENDOR_THE_SECOND_GATE</a>, <a class="el" href="../../#l00149">Save()</a>, <a class="el" href="../../#l00059">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00446">SendWorldstateUpdate()</a>, <a class="el" href="../../#l00122">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00121">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00124">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, <a class="el" href="../../#l00123">SUNWELL_ROHENDOR_GATE2_OPEN</a>, <a class="el" href="../../#l00059">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="el" href="../../#l00061">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, and <a class="el" href="../../#l00060">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>.</p>

</div>
</div>
<a id="a4d8d179e7211636c5cb406356cbc548e" name="a4d8d179e7211636c5cb406356cbc548e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8d179e7211636c5cb406356cbc548e">&#9670;&#160;</a></span>BuffAdalsSongOfBattle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::BuffAdalsSongOfBattle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  393</span>{</div>
<div class="line"><span class="lineno">  394</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  395</span>    {</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  397</span>        {</div>
<div class="line"><span class="lineno">  398</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  399</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  400</span>                {</div>
<div class="line"><span class="lineno">  401</span>                    if (player-&gt;GetZoneId() == AREA_SHATTRATH_CITY)</div>
<div class="line"><span class="lineno">  402</span>                        player-&gt;CastSpell(player, SPELL_ADAL_SONG_OF_BATTLE, true);</div>
<div class="line"><span class="lineno">  403</span>                });</div>
<div class="line"><span class="lineno">  404</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  405</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462">MAP_TEMPEST_KEEP_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4">MAP_TEMPEST_KEEP_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  408</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  409</span>                {</div>
<div class="line"><span class="lineno">  410</span>                    player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  411</span>                });</div>
<div class="line"><span class="lineno">  412</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  413</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  414</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  415</span>        }</div>
<div class="line"><span class="lineno">  416</span>    });</div>
<div class="line"><span class="lineno">  417</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462">MAP_TEMPEST_KEEP_THE_BOTANICA</a></div><div class="ttdeci">@ MAP_TEMPEST_KEEP_THE_BOTANICA</div><div class="ttdef"><b>Definition</b> AreaDefines.h:230</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a></div><div class="ttdeci">@ MAP_TEMPEST_KEEP_THE_ARCATRAZ</div><div class="ttdef"><b>Definition</b> AreaDefines.h:229</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4">MAP_TEMPEST_KEEP_THE_MECHANAR</a></div><div class="ttdeci">@ MAP_TEMPEST_KEEP_THE_MECHANAR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:231</div></div>
<div class="ttc" id="aMapMgr_8h_html_a9132749f8376c48b0ca7212eb3293905"><div class="ttname"><a href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a></div><div class="ttdeci">#define sMapMgr</div><div class="ttdef"><b>Definition</b> MapMgr.h:220</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a></div><div class="ttdeci">@ SPELL_ADAL_SONG_OF_BATTLE</div><div class="ttdef"><b>Definition</b> WorldState.h:49</div></div>
<div class="ttc" id="aclassMap_html"><div class="ttname"><a href="../../d7/db0/classMap.html">Map</a></div><div class="ttdef"><b>Definition</b> Map.h:156</div></div>
<div class="ttc" id="aclassMap_html_aa5eada6f20e4dfecef62fe82e6668946"><div class="ttname"><a href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">Map::DoForAllPlayers</a></div><div class="ttdeci">void DoForAllPlayers(std::function&lt; void(Player *)&gt; exec)</div><div class="ttdef"><b>Definition</b> Map.cpp:3008</div></div>
<div class="ttc" id="aclassMap_html_abea8ed605071226978969647a0246e86"><div class="ttname"><a href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">Map::GetId</a></div><div class="ttdeci">uint32 GetId() const</div><div class="ttdef"><b>Definition</b> Map.h:229</div></div>
<div class="ttc" id="aclassPlayer_html"><div class="ttname"><a href="../../d2/d4b/classPlayer.html">Player</a></div><div class="ttdef"><b>Definition</b> Player.h:1082</div></div>
<div class="ttc" id="aclassUnit_html_aa3ca95f7a14041f562ed69c3994afdfc"><div class="ttname"><a href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(SpellCastTargets const &amp;targets, SpellInfo const *spellInfo, CustomSpellValues const *value, TriggerCastFlags triggerFlags=TRIGGERED_NONE, Item *castItem=nullptr, AuraEffect const *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition</b> Unit.cpp:1179</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01179">Unit::CastSpell()</a>, <a class="el" href="../../#l03008">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l00229">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>, <a class="el" href="../../#l00230">MAP_TEMPEST_KEEP_THE_BOTANICA</a>, <a class="el" href="../../#l00231">MAP_TEMPEST_KEEP_THE_MECHANAR</a>, <a class="el" href="../../#l00220">sMapMgr</a>, and <a class="el" href="../../#l00049">SPELL_ADAL_SONG_OF_BATTLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00193">HandleExternalEvent()</a>.</p>

</div>
</div>
<a id="adcfb88f8c931e68b98bfd2f06ce1cee5" name="adcfb88f8c931e68b98bfd2f06ce1cee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcfb88f8c931e68b98bfd2f06ce1cee5">&#9670;&#160;</a></span>BuffMagtheridonTeam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::BuffMagtheridonTeam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td>
          <td class="paramname"><em>team</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  327</span>{</div>
<div class="line"><span class="lineno">  328</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  329</span>    {</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  331</span>        {</div>
<div class="line"><span class="lineno">  332</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  333</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  334</span>                {</div>
<div class="line"><span class="lineno">  335</span>                    if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_ALLIANCE &amp;&amp; team == TEAM_ALLIANCE)</div>
<div class="line"><span class="lineno">  336</span>                        player-&gt;CastSpell(player, SPELL_TROLLBANES_COMMAND, true);</div>
<div class="line"><span class="lineno">  337</span>                    else if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_HORDE &amp;&amp; team == TEAM_HORDE)</div>
<div class="line"><span class="lineno">  338</span>                        player-&gt;CastSpell(player, SPELL_NAZGRELS_FAVOR, true);</div>
<div class="line"><span class="lineno">  339</span>                });</div>
<div class="line"><span class="lineno">  340</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  341</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  342</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  343</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a">MAP_HELLFIRE_CITADEL_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d">MAP_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  345</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  346</span>                {</div>
<div class="line"><span class="lineno">  347</span>                    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  348</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  349</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  350</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  351</span>                });</div>
<div class="line"><span class="lineno">  352</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  353</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  354</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  355</span>        }</div>
<div class="line"><span class="lineno">  356</span>    });</div>
<div class="line"><span class="lineno">  357</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a></div><div class="ttdeci">@ MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</div><div class="ttdef"><b>Definition</b> AreaDefines.h:221</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a">MAP_HELLFIRE_CITADEL_RAMPARTS</a></div><div class="ttdeci">@ MAP_HELLFIRE_CITADEL_RAMPARTS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:222</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a></div><div class="ttdeci">@ MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:220</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d">MAP_MAGTHERIDONS_LAIR</a></div><div class="ttdeci">@ MAP_MAGTHERIDONS_LAIR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:223</div></div>
<div class="ttc" id="aSharedDefines_8h_html_abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a></div><div class="ttdeci">@ TEAM_ALLIANCE</div><div class="ttdef"><b>Definition</b> SharedDefines.h:760</div></div>
<div class="ttc" id="aSharedDefines_8h_html_abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a></div><div class="ttdeci">@ TEAM_HORDE</div><div class="ttdef"><b>Definition</b> SharedDefines.h:761</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a></div><div class="ttdeci">@ SPELL_NAZGRELS_FAVOR</div><div class="ttdef"><b>Definition</b> WorldState.h:52</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a></div><div class="ttdeci">@ SPELL_TROLLBANES_COMMAND</div><div class="ttdef"><b>Definition</b> WorldState.h:51</div></div>
<div class="ttc" id="aclassPlayer_html_a4874f5c152e187c381c2a349f16aa0d4"><div class="ttname"><a href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">Player::GetTeamId</a></div><div class="ttdeci">TeamId GetTeamId(bool original=false) const</div><div class="ttdef"><b>Definition</b> Player.h:2118</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01179">Unit::CastSpell()</a>, <a class="el" href="../../#l03008">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l02118">Player::GetTeamId()</a>, <a class="el" href="../../#l00222">MAP_HELLFIRE_CITADEL_RAMPARTS</a>, <a class="el" href="../../#l00221">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00220">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l00223">MAP_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l00220">sMapMgr</a>, <a class="el" href="../../#l00052">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00051">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00761">TEAM_HORDE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00193">HandleExternalEvent()</a>.</p>

</div>
</div>
<a id="a20f98292f5c55cab7b70fd7c20d8cb5a" name="a20f98292f5c55cab7b70fd7c20d8cb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f98292f5c55cab7b70fd7c20d8cb5a">&#9670;&#160;</a></span>DispelAdalsSongOfBattle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::DispelAdalsSongOfBattle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  420</span>{</div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  422</span>    {</div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  424</span>        {</div>
<div class="line"><span class="lineno">  425</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  426</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  427</span>                {</div>
<div class="line"><span class="lineno">  428</span>                    if (player-&gt;GetZoneId() == AREA_SHATTRATH_CITY)</div>
<div class="line"><span class="lineno">  429</span>                        player-&gt;RemoveAurasDueToSpell(SPELL_ADAL_SONG_OF_BATTLE);</div>
<div class="line"><span class="lineno">  430</span>                });</div>
<div class="line"><span class="lineno">  431</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  432</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  433</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462">MAP_TEMPEST_KEEP_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  434</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4">MAP_TEMPEST_KEEP_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  435</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  436</span>                {</div>
<div class="line"><span class="lineno">  437</span>                    player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>);</div>
<div class="line"><span class="lineno">  438</span>                });</div>
<div class="line"><span class="lineno">  439</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  441</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  442</span>        }</div>
<div class="line"><span class="lineno">  443</span>    });</div>
<div class="line"><span class="lineno">  444</span>}</div>
<div class="ttc" id="aclassUnit_html_aac612f06e84142d92dcfc432b5feb4ac"><div class="ttname"><a href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">Unit::RemoveAurasDueToSpell</a></div><div class="ttdeci">void RemoveAurasDueToSpell(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, uint8 reqEffMask=0, AuraRemoveMode removeMode=AURA_REMOVE_BY_DEFAULT)</div><div class="ttdef"><b>Definition</b> Unit.cpp:4942</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l03008">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l00229">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>, <a class="el" href="../../#l00230">MAP_TEMPEST_KEEP_THE_BOTANICA</a>, <a class="el" href="../../#l00231">MAP_TEMPEST_KEEP_THE_MECHANAR</a>, <a class="el" href="../../#l04942">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00220">sMapMgr</a>, and <a class="el" href="../../#l00049">SPELL_ADAL_SONG_OF_BATTLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00234">Update()</a>.</p>

</div>
</div>
<a id="a6eafdbdd9c30de839b5768aaf9ae16a8" name="a6eafdbdd9c30de839b5768aaf9ae16a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eafdbdd9c30de839b5768aaf9ae16a8">&#9670;&#160;</a></span>DispelMagtheridonTeam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::DispelMagtheridonTeam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td>
          <td class="paramname"><em>team</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  360</span>{</div>
<div class="line"><span class="lineno">  361</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  362</span>    {</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  364</span>        {</div>
<div class="line"><span class="lineno">  365</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  366</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  367</span>                {</div>
<div class="line"><span class="lineno">  368</span>                    if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_ALLIANCE &amp;&amp; team == TEAM_ALLIANCE)</div>
<div class="line"><span class="lineno">  369</span>                        player-&gt;RemoveAurasDueToSpell(SPELL_TROLLBANES_COMMAND);</div>
<div class="line"><span class="lineno">  370</span>                    else if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_HORDE &amp;&amp; team == TEAM_HORDE)</div>
<div class="line"><span class="lineno">  371</span>                        player-&gt;RemoveAurasDueToSpell(SPELL_NAZGRELS_FAVOR);</div>
<div class="line"><span class="lineno">  372</span>                });</div>
<div class="line"><span class="lineno">  373</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  374</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a">MAP_HELLFIRE_CITADEL_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  377</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d">MAP_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  378</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  379</span>                {</div>
<div class="line"><span class="lineno">  380</span>                    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  381</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>);</div>
<div class="line"><span class="lineno">  382</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  383</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>);</div>
<div class="line"><span class="lineno">  384</span>                });</div>
<div class="line"><span class="lineno">  385</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  386</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  387</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  388</span>        }</div>
<div class="line"><span class="lineno">  389</span>    });</div>
<div class="line"><span class="lineno">  390</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l03008">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l02118">Player::GetTeamId()</a>, <a class="el" href="../../#l00222">MAP_HELLFIRE_CITADEL_RAMPARTS</a>, <a class="el" href="../../#l00221">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00220">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l00223">MAP_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l04942">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00220">sMapMgr</a>, <a class="el" href="../../#l00052">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00051">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00761">TEAM_HORDE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00193">HandleExternalEvent()</a>.</p>

</div>
</div>
<a id="af41ca189b0ec20d9dc3f78d7f191011e" name="af41ca189b0ec20d9dc3f78d7f191011e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af41ca189b0ec20d9dc3f78d7f191011e">&#9670;&#160;</a></span>FillInitialWorldStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::FillInitialWorldStates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html">WorldPackets::WorldState::InitWorldStates</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1091</span>{</div>
<div class="line"><span class="lineno"> 1092</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno"> 1093</span>    {</div>
<div class="line"><span class="lineno"> 1094</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno"> 1095</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a>:</div>
<div class="line"><span class="lineno"> 1096</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a>:</div>
<div class="line"><span class="lineno"> 1097</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a>:</div>
<div class="line"><span class="lineno"> 1098</span>        {</div>
<div class="line"><span class="lineno"> 1099</span>            <span class="comment">// Sunwell Reclamation</span></div>
<div class="line"><span class="lineno"> 1100</span>            <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno"> 1101</span>            {</div>
<div class="line"><span class="lineno"> 1102</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>:</div>
<div class="line"><span class="lineno"> 1103</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>));</div>
<div class="line"><span class="lineno"> 1104</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1105</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>:</div>
<div class="line"><span class="lineno"> 1106</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>));</div>
<div class="line"><span class="lineno"> 1107</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1108</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>:</div>
<div class="line"><span class="lineno"> 1109</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>));</div>
<div class="line"><span class="lineno"> 1110</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1111</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>:</div>
<div class="line"><span class="lineno"> 1112</span>                    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0)</div>
<div class="line"><span class="lineno"> 1113</span>                        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>));</div>
<div class="line"><span class="lineno"> 1114</span>                    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0)</div>
<div class="line"><span class="lineno"> 1115</span>                        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>));</div>
<div class="line"><span class="lineno"> 1116</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1117</span>            }</div>
<div class="line"><span class="lineno"> 1118</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a> &amp;&amp; (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0)</div>
<div class="line"><span class="lineno"> 1119</span>                packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84">WORLD_STATE_QUEL_DANAS_PORTAL</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>));</div>
<div class="line"><span class="lineno"> 1120</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a> &amp;&amp; (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0)</div>
<div class="line"><span class="lineno"> 1121</span>                packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689">WORLD_STATE_QUEL_DANAS_ANVIL</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>));</div>
<div class="line"><span class="lineno"> 1122</span>            packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96">WORLD_STATE_QUEL_DANAS_MUSIC</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>            <span class="comment">// Sunwell Gates</span></div>
<div class="line"><span class="lineno"> 1125</span>            <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno"> 1126</span>            {</div>
<div class="line"><span class="lineno"> 1127</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>:</div>
<div class="line"><span class="lineno"> 1128</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>));</div>
<div class="line"><span class="lineno"> 1129</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1130</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>:</div>
<div class="line"><span class="lineno"> 1131</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>));</div>
<div class="line"><span class="lineno"> 1132</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1133</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>:</div>
<div class="line"><span class="lineno"> 1134</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>));</div>
<div class="line"><span class="lineno"> 1135</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1136</span>            }</div>
<div class="line"><span class="lineno"> 1137</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1138</span>        }</div>
<div class="line"><span class="lineno"> 1139</span>    }</div>
<div class="line"><span class="lineno"> 1140</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a></div><div class="ttdeci">@ AREA_ISLE_OF_QUEL_DANAS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:138</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a></div><div class="ttdeci">@ AREA_MAGISTERS_TERRACE</div><div class="ttdef"><b>Definition</b> AreaDefines.h:141</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a></div><div class="ttdeci">@ AREA_SUNWELL_PLATEAU</div><div class="ttdef"><b>Definition</b> AreaDefines.h:137</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a></div><div class="ttdeci">@ AREA_SHATTRATH_CITY</div><div class="ttdef"><b>Definition</b> AreaDefines.h:116</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96">WORLD_STATE_QUEL_DANAS_MUSIC</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_MUSIC</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:49</div></div>
<div class="ttc" id="aclassWorldPackets_1_1WorldState_1_1InitWorldStates_html_a29ffba2a130f0b93d61b2025255502fb"><div class="ttname"><a href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">WorldPackets::WorldState::InitWorldStates::Worldstates</a></div><div class="ttdeci">std::vector&lt; WorldStateInfo &gt; Worldstates</div><div class="ttdef"><b>Definition</b> WorldStatePackets.h:46</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00138">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00141">AREA_MAGISTERS_TERRACE</a>, <a class="el" href="../../#l00116">AREA_SHATTRATH_CITY</a>, <a class="el" href="../../#l00137">AREA_SUNWELL_PLATEAU</a>, <a class="el" href="../../#l00953">SunsReachReclamationData::GetPhasePercentage()</a>, <a class="el" href="../../#l00964">SunsReachReclamationData::GetSubPhasePercentage()</a>, <a class="el" href="../../#l01070">SunsReachReclamationData::GetSunwellGatePercentage()</a>, <a class="el" href="../../#l00141">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00137">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00099">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00098">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00100">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00097">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00089">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00090">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00091">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00092">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00122">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00121">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00123">SUNWELL_ROHENDOR_GATE2_OPEN</a>, <a class="el" href="../../#l00059">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="el" href="../../#l00061">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, <a class="el" href="../../#l00051">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>, <a class="el" href="../../#l00055">WORLD_STATE_QUEL_DANAS_ANVIL</a>, <a class="el" href="../../#l00052">WORLD_STATE_QUEL_DANAS_ARMORY</a>, <a class="el" href="../../#l00050">WORLD_STATE_QUEL_DANAS_HARBOR</a>, <a class="el" href="../../#l00056">WORLD_STATE_QUEL_DANAS_MONUMENT</a>, <a class="el" href="../../#l00049">WORLD_STATE_QUEL_DANAS_MUSIC</a>, <a class="el" href="../../#l00054">WORLD_STATE_QUEL_DANAS_PORTAL</a>, <a class="el" href="../../#l00053">WORLD_STATE_QUEL_DANAS_SANCTUM</a>, <a class="el" href="../../#l00060">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>, and <a class="el" href="../../#l00046">WorldPackets::WorldState::InitWorldStates::Worldstates</a>.</p>

</div>
</div>
<a id="a023a69d9e9608aa7dde3cb769f76e1fc" name="a023a69d9e9608aa7dde3cb769f76e1fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023a69d9e9608aa7dde3cb769f76e1fc">&#9670;&#160;</a></span>GetSunsReachPrintout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string WorldState::GetSunsReachPrintout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  857</span>{</div>
<div class="line"><span class="lineno">  858</span>    <span class="keyword">auto</span> formatPhase = [<span class="keyword">this</span>]() -&gt; std::string {</div>
<div class="line"><span class="lineno">  859</span>        std::string name;</div>
<div class="line"><span class="lineno">  860</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  861</span>        {</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>: name = <span class="stringliteral">&quot;Phase 1: Staging Area&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  863</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>: name = <span class="stringliteral">&quot;Phase 2: Sanctum&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  864</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>: name = <span class="stringliteral">&quot;Phase 3: Armory&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  865</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>: name = <span class="stringliteral">&quot;Phase 4: Harbor&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  866</span>            <span class="keywordflow">default</span>: name = <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  867</span>        }</div>
<div class="line"><span class="lineno">  868</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Phase: &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>) + <span class="stringliteral">&quot; (&quot;</span> + name + <span class="stringliteral">&quot;) &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)) + <span class="stringliteral">&quot;%\n&quot;</span>;</div>
<div class="line"><span class="lineno">  869</span>    };</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>    <span class="keyword">auto</span> formatSubPhase = [<span class="keyword">this</span>](<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> subPhase) -&gt; std::string {</div>
<div class="line"><span class="lineno">  872</span>        std::string name;</div>
<div class="line"><span class="lineno">  873</span>        <span class="keywordflow">switch</span> (subPhase)</div>
<div class="line"><span class="lineno">  874</span>        {</div>
<div class="line"><span class="lineno">  875</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>: name = <span class="stringliteral">&quot;Portal&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  876</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>: name = <span class="stringliteral">&quot;Anvil&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  877</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>: name = <span class="stringliteral">&quot;Alchemy Lab&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  878</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>: name = <span class="stringliteral">&quot;Monument&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  879</span>            <span class="keywordflow">default</span>: name = <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  880</span>        }</div>
<div class="line"><span class="lineno">  881</span>        <span class="keywordflow">return</span> name + <span class="stringliteral">&quot;: &quot;</span> + (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; subPhase ? <span class="stringliteral">&quot;100%&quot;</span> : std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(subPhase)) + <span class="stringliteral">&quot;%&quot;</span>);</div>
<div class="line"><span class="lineno">  882</span>    };</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>    <span class="keyword">auto</span> formatCounter = [](<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counter, <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value) -&gt; std::string {</div>
<div class="line"><span class="lineno">  885</span>        <span class="keywordflow">switch</span> (counter)</div>
<div class="line"><span class="lineno">  886</span>        {</div>
<div class="line"><span class="lineno">  887</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a>:</div>
<div class="line"><span class="lineno">  888</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Erratic Behavior: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 2: Sanctum)&quot;</span>;</div>
<div class="line"><span class="lineno">  889</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a>:</div>
<div class="line"><span class="lineno">  890</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Sanctum Wards: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 2: Sanctum)&quot;</span>;</div>
<div class="line"><span class="lineno">  891</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>:</div>
<div class="line"><span class="lineno">  892</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Battle for the Sun&#39;s Reach Armory: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 3: Armory)&quot;</span>;</div>
<div class="line"><span class="lineno">  893</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>:</div>
<div class="line"><span class="lineno">  894</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Distraction at the Dead Scar: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 3: Armory)&quot;</span>;</div>
<div class="line"><span class="lineno">  895</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>:</div>
<div class="line"><span class="lineno">  896</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Intercepting the Mana Cells: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Portal)&quot;</span>;</div>
<div class="line"><span class="lineno">  897</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>:</div>
<div class="line"><span class="lineno">  898</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Intercept the Reinforcements: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 4: Harbor)&quot;</span>;</div>
<div class="line"><span class="lineno">  899</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a>:</div>
<div class="line"><span class="lineno">  900</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Taking the Harbor: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 4: Harbor)&quot;</span>;</div>
<div class="line"><span class="lineno">  901</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671">COUNTER_MAKING_READY</a>:</div>
<div class="line"><span class="lineno">  902</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Making Ready: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Anvil)&quot;</span>;</div>
<div class="line"><span class="lineno">  903</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb">COUNTER_DISCOVERING_YOUR_ROOTS</a>:</div>
<div class="line"><span class="lineno">  904</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Discovering Your Roots: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Alchemy Lab)&quot;</span>;</div>
<div class="line"><span class="lineno">  905</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a>:</div>
<div class="line"><span class="lineno">  906</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;A Charitable Donation: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Monument)&quot;</span>;</div>
<div class="line"><span class="lineno">  907</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  908</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (Unknown goal)&quot;</span>;</div>
<div class="line"><span class="lineno">  909</span>        }</div>
<div class="line"><span class="lineno">  910</span>    };</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>    std::string output = formatPhase();</div>
<div class="line"><span class="lineno">  913</span>    output += <span class="stringliteral">&quot;Subphase mask: &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a>) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  914</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; 4; ++i)</div>
<div class="line"><span class="lineno">  915</span>    {</div>
<div class="line"><span class="lineno">  916</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> subPhaseMask = 1 &lt;&lt; i;</div>
<div class="line"><span class="lineno">  917</span>        output += <span class="stringliteral">&quot;  &quot;</span> + formatSubPhase(subPhaseMask) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  918</span>    }</div>
<div class="line"><span class="lineno">  919</span>    output += <span class="stringliteral">&quot;Counters:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  920</span>    output += <span class="stringliteral">&quot;  Sunsreach.CounterMax = &quot;</span> + std::to_string(<a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41aa665c623ee4ce5d5942b73e3864328f4">CONFIG_SUNSREACH_COUNTER_MAX</a>)) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  921</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8">COUNTERS_MAX</a>; ++i)</div>
<div class="line"><span class="lineno">  922</span>        output += <span class="stringliteral">&quot;  &quot;</span> + std::to_string(i) + <span class="stringliteral">&quot;. &quot;</span> + formatCounter(i, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[i]) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>    <span class="comment">// Sunwell Gates</span></div>
<div class="line"><span class="lineno">  925</span>    <span class="keyword">auto</span> formatGatePhase = [](<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> gate) -&gt; std::string {</div>
<div class="line"><span class="lineno">  926</span>        <span class="keywordflow">switch</span> (gate)</div>
<div class="line"><span class="lineno">  927</span>        {</div>
<div class="line"><span class="lineno">  928</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;All Gates Closed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  929</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gate 1 Agamath Open&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  930</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gate 2 Rohendar Open&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  931</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gate 3 Archonisus Open&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  932</span>            <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  933</span>        }</div>
<div class="line"><span class="lineno">  934</span>    };</div>
<div class="line"><span class="lineno">  935</span>    output += <span class="stringliteral">&quot;Sunwell Plateau Gate Phase &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>) + <span class="stringliteral">&quot; (&quot;</span> + formatGatePhase(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>) + <span class="stringliteral">&quot;)&quot;</span> + <span class="stringliteral">&quot;:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  936</span>    output += <span class="stringliteral">&quot;  0. Gate 1 (Agamath): &quot;</span> + std::string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a> ? <span class="stringliteral">&quot;Open &quot;</span> : <span class="stringliteral">&quot;Closed &quot;</span>) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_gateCounters[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c">COUNTER_AGAMATH_THE_FIRST_GATE</a>]) + <span class="stringliteral">&quot; (&quot;</span> + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.GetSunwellGatePercentage(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>)) + <span class="stringliteral">&quot;%)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  937</span>    output += <span class="stringliteral">&quot;  1. Gate 2 (Rohendor): &quot;</span> + std::string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a> ? <span class="stringliteral">&quot;Open &quot;</span> : <span class="stringliteral">&quot;Closed &quot;</span>) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_gateCounters[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f">COUNTER_ROHENDOR_THE_SECOND_GATE</a>]) +  <span class="stringliteral">&quot; (&quot;</span> + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.GetSunwellGatePercentage(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>)) + <span class="stringliteral">&quot;%)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  938</span>    output += <span class="stringliteral">&quot;  2. Gate 3 (Archonisus): &quot;</span> + std::string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a> ? <span class="stringliteral">&quot;Open &quot;</span> : <span class="stringliteral">&quot;Closed &quot;</span>) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_gateCounters[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>]) + <span class="stringliteral">&quot; (&quot;</span> + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.GetSunwellGatePercentage(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>)) + <span class="stringliteral">&quot;%)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">return</span> output;</div>
<div class="line"><span class="lineno">  940</span>}</div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8">COUNTERS_MAX</a></div><div class="ttdeci">@ COUNTERS_MAX</div><div class="ttdef"><b>Definition</b> WorldState.h:116</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00428">CONFIG_SUNSREACH_COUNTER_MAX</a>, <a class="el" href="../../#l00115">COUNTER_A_CHARITABLE_DONATION</a>, <a class="el" href="../../#l00128">COUNTER_AGAMATH_THE_FIRST_GATE</a>, <a class="el" href="../../#l00130">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>, <a class="el" href="../../#l00108">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>, <a class="el" href="../../#l00114">COUNTER_DISCOVERING_YOUR_ROOTS</a>, <a class="el" href="../../#l00109">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>, <a class="el" href="../../#l00106">COUNTER_ERRATIC_BEHAVIOR</a>, <a class="el" href="../../#l00111">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>, <a class="el" href="../../#l00110">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>, <a class="el" href="../../#l00113">COUNTER_MAKING_READY</a>, <a class="el" href="../../#l00129">COUNTER_ROHENDOR_THE_SECOND_GATE</a>, <a class="el" href="../../#l00107">COUNTER_SANCTUM_WARDS</a>, <a class="el" href="../../#l00112">COUNTER_TAKING_THE_HARBOR</a>, <a class="el" href="../../#l00116">COUNTERS_MAX</a>, <a class="el" href="../../#l00953">SunsReachReclamationData::GetPhasePercentage()</a>, <a class="el" href="../../#l00964">SunsReachReclamationData::GetSubPhasePercentage()</a>, <a class="el" href="../../#l01070">SunsReachReclamationData::GetSunwellGatePercentage()</a>, <a class="el" href="../../#l00141">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00142">SunsReachReclamationData::m_gateCounters</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00137">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00138">SunsReachReclamationData::m_sunsReachReclamationCounters</a>, <a class="el" href="../../#l00099">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00098">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00100">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00097">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00089">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00090">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00091">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00092">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00122">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00121">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00124">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, <a class="el" href="../../#l00123">SUNWELL_ROHENDOR_GATE2_OPEN</a>, and <a class="el" href="../../#l00357">sWorld</a>.</p>

</div>
</div>
<a id="a43c0fb89d452d67fff79fe92070b831f" name="a43c0fb89d452d67fff79fe92070b831f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c0fb89d452d67fff79fe92070b831f">&#9670;&#160;</a></span>getWorldState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> WorldState::getWorldState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  144</span>{</div>
<div class="line"><span class="lineno">  145</span>    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; itr = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.find(index);</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">return</span> itr != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.end() ? itr-&gt;second : 0;</div>
<div class="line"><span class="lineno">  147</span>}</div>
<div class="ttc" id="aclassWorldState_html_a9692b273469befd8d81da34a2318d7e0"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">WorldState::_worldstates</a></div><div class="ttdeci">WorldStatesMap _worldstates</div><div class="ttdef"><b>Definition</b> WorldState.h:184</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">_worldstates</a>.</p>

</div>
</div>
<a id="a210ba9c92b727b3a0bb18b59194cc70a" name="a210ba9c92b727b3a0bb18b59194cc70a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210ba9c92b727b3a0bb18b59194cc70a">&#9670;&#160;</a></span>HandleConditionStateChange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleConditionStateChange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a>&#160;</td>
          <td class="paramname"><em>conditionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  189</span>{</div>
<div class="line"><span class="lineno">  190</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a1bb66d84efa678b26d5ee37845586008">_transportStates</a>[conditionId] = state;</div>
<div class="line"><span class="lineno">  191</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00198">_transportStates</a>.</p>

</div>
</div>
<a id="ade529a26b08fca422a215c5aac78bb52" name="ade529a26b08fca422a215c5aac78bb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade529a26b08fca422a215c5aac78bb52">&#9670;&#160;</a></span>HandleExternalEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleExternalEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266">WorldStateEvent</a>&#160;</td>
          <td class="paramname"><em>eventId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  194</span>{</div>
<div class="line"><span class="lineno">  195</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a>);</div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">switch</span> (eventId)</div>
<div class="line"><span class="lineno">  197</span>    {</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266aa2c3350c135eec4653e10f9a416d4ae8">WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</a>:</div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  200</span>            {</div>
<div class="line"><span class="lineno">  201</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> = 120 * <a class="code hl_variable" href="../../dc/d33/Common_8h.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a> * <a class="code hl_variable" href="../../dc/d33/Common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><span class="lineno">  202</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a4d8d179e7211636c5cb406356cbc548e">BuffAdalsSongOfBattle</a>();</div>
<div class="line"><span class="lineno">  203</span>            }</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266ae87a6f363d942d1928ba2b052ab2f88e">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</a>:</div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">if</span> (param == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  207</span>            {</div>
<div class="line"><span class="lineno">  208</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  209</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">BuffMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>);</div>
<div class="line"><span class="lineno">  210</span>            }</div>
<div class="line"><span class="lineno">  211</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  212</span>            {</div>
<div class="line"><span class="lineno">  213</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  214</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">BuffMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>);</div>
<div class="line"><span class="lineno">  215</span>            }</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266a4c5ce93e17daa3d8df5b892b3d76af2b">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</a>:</div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">if</span> (param == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  219</span>            {</div>
<div class="line"><span class="lineno">  220</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  221</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">DispelMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>);</div>
<div class="line"><span class="lineno">  222</span>            }</div>
<div class="line"><span class="lineno">  223</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  224</span>            {</div>
<div class="line"><span class="lineno">  225</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  226</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">DispelMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>);</div>
<div class="line"><span class="lineno">  227</span>            }</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  231</span>    }</div>
<div class="line"><span class="lineno">  232</span>}</div>
<div class="ttc" id="aCommon_8h_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../dc/d33/Common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition</b> Common.h:53</div></div>
<div class="ttc" id="aCommon_8h_html_afacf27522adfacf698390ddafc53fa30"><div class="ttname"><a href="../../dc/d33/Common_8h.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a></div><div class="ttdeci">constexpr auto MINUTE</div><div class="ttdef"><b>Definition</b> Common.h:47</div></div>
<div class="ttc" id="aWorldState_8h_html_adc7b7b38a655f2354624ac5335163266a4c5ce93e17daa3d8df5b892b3d76af2b"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266a4c5ce93e17daa3d8df5b892b3d76af2b">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</a></div><div class="ttdeci">@ WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</div><div class="ttdef"><b>Definition</b> WorldState.h:44</div></div>
<div class="ttc" id="aWorldState_8h_html_adc7b7b38a655f2354624ac5335163266aa2c3350c135eec4653e10f9a416d4ae8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266aa2c3350c135eec4653e10f9a416d4ae8">WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</a></div><div class="ttdeci">@ WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</div><div class="ttdef"><b>Definition</b> WorldState.h:42</div></div>
<div class="ttc" id="aWorldState_8h_html_adc7b7b38a655f2354624ac5335163266ae87a6f363d942d1928ba2b052ab2f88e"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266ae87a6f363d942d1928ba2b052ab2f88e">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</a></div><div class="ttdeci">@ WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</div><div class="ttdef"><b>Definition</b> WorldState.h:43</div></div>
<div class="ttc" id="aclassWorldState_html_a4d8d179e7211636c5cb406356cbc548e"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a4d8d179e7211636c5cb406356cbc548e">WorldState::BuffAdalsSongOfBattle</a></div><div class="ttdeci">void BuffAdalsSongOfBattle()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:392</div></div>
<div class="ttc" id="aclassWorldState_html_a6eafdbdd9c30de839b5768aaf9ae16a8"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">WorldState::DispelMagtheridonTeam</a></div><div class="ttdeci">void DispelMagtheridonTeam(TeamId team)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:359</div></div>
<div class="ttc" id="aclassWorldState_html_a8b6fa603f03ebf22874990b5beb37f55"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">WorldState::_mutex</a></div><div class="ttdeci">std::mutex _mutex</div><div class="ttdef"><b>Definition</b> WorldState.h:199</div></div>
<div class="ttc" id="aclassWorldState_html_adcfb88f8c931e68b98bfd2f06ce1cee5"><div class="ttname"><a href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">WorldState::BuffMagtheridonTeam</a></div><div class="ttdeci">void BuffMagtheridonTeam(TeamId team)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:326</div></div>
<div class="ttc" id="aclassWorldState_html_aedccbddea39cd0a6ddf835147ca27da1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">WorldState::_adalSongOfBattleTimer</a></div><div class="ttdeci">uint32 _adalSongOfBattleTimer</div><div class="ttdef"><b>Definition</b> WorldState.h:192</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">_adalSongOfBattleTimer</a>, <a class="el" href="../../#l00196">_isMagtheridonHeadSpawnedAlliance</a>, <a class="el" href="../../#l00195">_isMagtheridonHeadSpawnedHorde</a>, <a class="el" href="../../#l00199">_mutex</a>, <a class="el" href="../../#l00392">BuffAdalsSongOfBattle()</a>, <a class="el" href="../../#l00326">BuffMagtheridonTeam()</a>, <a class="el" href="../../#l00359">DispelMagtheridonTeam()</a>, <a class="el" href="../../#l00053">IN_MILLISECONDS</a>, <a class="el" href="../../#l00047">MINUTE</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, <a class="el" href="../../#l00761">TEAM_HORDE</a>, <a class="el" href="../../#l00042">WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</a>, <a class="el" href="../../#l00044">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</a>, and <a class="el" href="../../#l00043">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</a>.</p>

</div>
</div>
<a id="adea39d5d407e56368e4a67dd959d0c78" name="adea39d5d407e56368e4a67dd959d0c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adea39d5d407e56368e4a67dd959d0c78">&#9670;&#160;</a></span>HandlePlayerEnterZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandlePlayerEnterZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  251</span>{</div>
<div class="line"><span class="lineno">  252</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a>);</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno">  254</span>    {</div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a>:</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c">AREA_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97">AREA_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c">AREA_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  259</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  260</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49">AREA_HELLFIRE_PENINSULA</a>:</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43">AREA_HELLFIRE_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e">AREA_HELLFIRE_CITADEL</a>:</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8">AREA_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb">AREA_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5">AREA_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a> &amp;&amp; player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  269</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a> &amp;&amp; player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  271</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a>:</div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a>:</div>
<div class="line"><span class="lineno">  276</span>        {</div>
<div class="line"><span class="lineno">  277</span>            std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>);</div>
<div class="line"><span class="lineno">  278</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.push_back(player-&gt;<a class="code hl_function" href="../../d8/d4b/classObject.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  279</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>)</div>
<div class="line"><span class="lineno">  280</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  282</span>        }</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  285</span>    }</div>
<div class="line"><span class="lineno">  286</span>};</div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97">AREA_THE_MECHANAR</a></div><div class="ttdeci">@ AREA_THE_MECHANAR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:133</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8">AREA_THE_BLOOD_FURNACE</a></div><div class="ttdeci">@ AREA_THE_BLOOD_FURNACE</div><div class="ttdef"><b>Definition</b> AreaDefines.h:119</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e">AREA_HELLFIRE_CITADEL</a></div><div class="ttdeci">@ AREA_HELLFIRE_CITADEL</div><div class="ttdef"><b>Definition</b> AreaDefines.h:109</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c">AREA_THE_ARCATRAZ</a></div><div class="ttdeci">@ AREA_THE_ARCATRAZ</div><div class="ttdef"><b>Definition</b> AreaDefines.h:132</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43">AREA_HELLFIRE_RAMPARTS</a></div><div class="ttdeci">@ AREA_HELLFIRE_RAMPARTS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:108</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5">AREA_MAGTHERIDONS_LAIR</a></div><div class="ttdeci">@ AREA_MAGTHERIDONS_LAIR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:130</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c">AREA_THE_BOTANICA</a></div><div class="ttdeci">@ AREA_THE_BOTANICA</div><div class="ttdef"><b>Definition</b> AreaDefines.h:131</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49">AREA_HELLFIRE_PENINSULA</a></div><div class="ttdeci">@ AREA_HELLFIRE_PENINSULA</div><div class="ttdef"><b>Definition</b> AreaDefines.h:97</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb">AREA_THE_SHATTERED_HALLS</a></div><div class="ttdeci">@ AREA_THE_SHATTERED_HALLS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:120</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a></div><div class="ttdeci">@ SUBPHASE_ALL</div><div class="ttdef"><b>Definition</b> WorldState.h:101</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a></div><div class="ttdeci">@ SPELL_KIRU_SONG_OF_VICTORY</div><div class="ttdef"><b>Definition</b> WorldState.h:54</div></div>
<div class="ttc" id="aclassObject_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../d8/d4b/classObject.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition</b> Object.h:113</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">_adalSongOfBattleTimer</a>, <a class="el" href="../../#l00196">_isMagtheridonHeadSpawnedAlliance</a>, <a class="el" href="../../#l00195">_isMagtheridonHeadSpawnedHorde</a>, <a class="el" href="../../#l00199">_mutex</a>, <a class="el" href="../../#l00109">AREA_HELLFIRE_CITADEL</a>, <a class="el" href="../../#l00097">AREA_HELLFIRE_PENINSULA</a>, <a class="el" href="../../#l00108">AREA_HELLFIRE_RAMPARTS</a>, <a class="el" href="../../#l00138">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00141">AREA_MAGISTERS_TERRACE</a>, <a class="el" href="../../#l00130">AREA_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l00116">AREA_SHATTRATH_CITY</a>, <a class="el" href="../../#l00137">AREA_SUNWELL_PLATEAU</a>, <a class="el" href="../../#l00132">AREA_THE_ARCATRAZ</a>, <a class="el" href="../../#l00119">AREA_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00131">AREA_THE_BOTANICA</a>, <a class="el" href="../../#l00133">AREA_THE_MECHANAR</a>, <a class="el" href="../../#l00120">AREA_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l01179">Unit::CastSpell()</a>, <a class="el" href="../../#l00113">Object::GetGUID()</a>, <a class="el" href="../../#l02118">Player::GetTeamId()</a>, <a class="el" href="../../#l00137">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00140">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00139">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00049">SPELL_ADAL_SONG_OF_BATTLE</a>, <a class="el" href="../../#l00054">SPELL_KIRU_SONG_OF_VICTORY</a>, <a class="el" href="../../#l00052">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00051">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00101">SUBPHASE_ALL</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00761">TEAM_HORDE</a>.</p>

</div>
</div>
<a id="aaccc044b7005ac0a58304310ee549fbc" name="aaccc044b7005ac0a58304310ee549fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaccc044b7005ac0a58304310ee549fbc">&#9670;&#160;</a></span>HandlePlayerLeaveZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandlePlayerLeaveZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  288</span>{</div>
<div class="line"><span class="lineno">  289</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a>);</div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno">  291</span>    {</div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a>:</div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c">AREA_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97">AREA_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c">AREA_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  297</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>);</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49">AREA_HELLFIRE_PENINSULA</a>:</div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43">AREA_HELLFIRE_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e">AREA_HELLFIRE_CITADEL</a>:</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8">AREA_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb">AREA_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5">AREA_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  306</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>);</div>
<div class="line"><span class="lineno">  307</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  308</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>);</div>
<div class="line"><span class="lineno">  309</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a>:</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a>:</div>
<div class="line"><span class="lineno">  313</span>        {</div>
<div class="line"><span class="lineno">  314</span>            std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>);</div>
<div class="line"><span class="lineno">  315</span>            player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>);</div>
<div class="line"><span class="lineno">  316</span>            <span class="keyword">auto</span> position = std::find(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.begin(), <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.end(), player-&gt;<a class="code hl_function" href="../../d8/d4b/classObject.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  317</span>            <span class="keywordflow">if</span> (position != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.end())</div>
<div class="line"><span class="lineno">  318</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.erase(position);</div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  320</span>        }</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  322</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  323</span>    }</div>
<div class="line"><span class="lineno">  324</span>};</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">_adalSongOfBattleTimer</a>, <a class="el" href="../../#l00199">_mutex</a>, <a class="el" href="../../#l00109">AREA_HELLFIRE_CITADEL</a>, <a class="el" href="../../#l00097">AREA_HELLFIRE_PENINSULA</a>, <a class="el" href="../../#l00108">AREA_HELLFIRE_RAMPARTS</a>, <a class="el" href="../../#l00138">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00141">AREA_MAGISTERS_TERRACE</a>, <a class="el" href="../../#l00130">AREA_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l00116">AREA_SHATTRATH_CITY</a>, <a class="el" href="../../#l00137">AREA_SUNWELL_PLATEAU</a>, <a class="el" href="../../#l00132">AREA_THE_ARCATRAZ</a>, <a class="el" href="../../#l00119">AREA_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00131">AREA_THE_BOTANICA</a>, <a class="el" href="../../#l00133">AREA_THE_MECHANAR</a>, <a class="el" href="../../#l00120">AREA_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l00113">Object::GetGUID()</a>, <a class="el" href="../../#l02118">Player::GetTeamId()</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00140">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00139">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l04942">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00049">SPELL_ADAL_SONG_OF_BATTLE</a>, <a class="el" href="../../#l00054">SPELL_KIRU_SONG_OF_VICTORY</a>, <a class="el" href="../../#l00052">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00051">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00761">TEAM_HORDE</a>.</p>

</div>
</div>
<a id="a1123ff0edde32f57a1cc13b275c2e956" name="a1123ff0edde32f57a1cc13b275c2e956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1123ff0edde32f57a1cc13b275c2e956">&#9670;&#160;</a></span>HandleSunsReachPhaseTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleSunsReachPhaseTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>newPhase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  620</span>{</div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">if</span> (newPhase &lt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  622</span>    {</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordflow">while</span> (newPhase != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  624</span>        {</div>
<div class="line"><span class="lineno">  625</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">StopSunsReachPhase</a>(newPhase &gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  626</span>            --<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>;</div>
<div class="line"><span class="lineno">  627</span>        }</div>
<div class="line"><span class="lineno">  628</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a>();</div>
<div class="line"><span class="lineno">  629</span>    }</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  631</span>    {</div>
<div class="line"><span class="lineno">  632</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">StopSunsReachPhase</a>(newPhase &gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  633</span>        <span class="keywordtype">bool</span> moreThanOne = newPhase &gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> + 1; <span class="comment">// custom command case</span></div>
<div class="line"><span class="lineno">  634</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> = newPhase;</div>
<div class="line"><span class="lineno">  635</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a>(moreThanOne);</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  638</span>    {</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>: <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>: <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>:</div>
<div class="line"><span class="lineno">  642</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>);</div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>);</div>
<div class="line"><span class="lineno">  644</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  645</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  646</span>    }</div>
<div class="line"><span class="lineno">  647</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>, <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96">WORLD_STATE_QUEL_DANAS_MUSIC</a>);</div>
<div class="line"><span class="lineno">  648</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  649</span>}</div>
<div class="ttc" id="aGameEventMgr_8h_html_a3c1c916d94272dfe845b9cc5e8fc292a"><div class="ttname"><a href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a></div><div class="ttdeci">#define sGameEventMgr</div><div class="ttdef"><b>Definition</b> GameEventMgr.h:201</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldState.h:77</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</div><div class="ttdef"><b>Definition</b> WorldState.h:68</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</div><div class="ttdef"><b>Definition</b> WorldState.h:72</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldState.h:75</div></div>
<div class="ttc" id="aclassWorldState_html_a97eabce4c25bd59dabb9b417574cc2cb"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">WorldState::StopSunsReachPhase</a></div><div class="ttdeci">void StopSunsReachPhase(bool forward)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:807</div></div>
<div class="ttc" id="aclassWorldState_html_aa0ccc9b698e2449bbde90e85b3e6eda8"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">WorldState::StartSunsReachPhase</a></div><div class="ttdeci">void StartSunsReachPhase(bool initial=false)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:819</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00068">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>, <a class="el" href="../../#l00072">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>, <a class="el" href="../../#l00077">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>, <a class="el" href="../../#l00075">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00137">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00140">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00139">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00149">Save()</a>, <a class="el" href="../../#l00059">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00446">SendWorldstateUpdate()</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00819">StartSunsReachPhase()</a>, <a class="el" href="../../#l00807">StopSunsReachPhase()</a>, <a class="el" href="../../#l00099">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00098">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00100">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00097">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00090">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00091">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00092">SUNS_REACH_PHASE_4_HARBOR</a>, and <a class="el" href="../../#l00049">WORLD_STATE_QUEL_DANAS_MUSIC</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00470">AddSunsReachProgress()</a>.</p>

</div>
</div>
<a id="aa0cf4fec23a9aa71346996c46d38c58b" name="aa0cf4fec23a9aa71346996c46d38c58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0cf4fec23a9aa71346996c46d38c58b">&#9670;&#160;</a></span>HandleSunsReachSubPhaseTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleSunsReachSubPhaseTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>subPhaseMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initial</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  652</span>{</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordtype">bool</span> start = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (subPhaseMask &lt; 0)</div>
<div class="line"><span class="lineno">  655</span>    {</div>
<div class="line"><span class="lineno">  656</span>        start = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  657</span>        subPhaseMask = -subPhaseMask;</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordtype">bool</span> all = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  661</span>    {</div>
<div class="line"><span class="lineno">  662</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> |= subPhaseMask;</div>
<div class="line"><span class="lineno">  663</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>) == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>)</div>
<div class="line"><span class="lineno">  664</span>            all = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  665</span>    }</div>
<div class="line"><span class="lineno">  666</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  667</span>    {</div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>) == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>)</div>
<div class="line"><span class="lineno">  669</span>            all = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  670</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp;= ~subPhaseMask;</div>
<div class="line"><span class="lineno">  671</span>    }</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">if</span> (initial)</div>
<div class="line"><span class="lineno">  673</span>    {</div>
<div class="line"><span class="lineno">  674</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>)</div>
<div class="line"><span class="lineno">  675</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0)</div>
<div class="line"><span class="lineno">  676</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>);</div>
<div class="line"><span class="lineno">  677</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>)</div>
<div class="line"><span class="lineno">  678</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0)</div>
<div class="line"><span class="lineno">  679</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>);</div>
<div class="line"><span class="lineno">  680</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>)</div>
<div class="line"><span class="lineno">  681</span>        {</div>
<div class="line"><span class="lineno">  682</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0)</div>
<div class="line"><span class="lineno">  683</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>);</div>
<div class="line"><span class="lineno">  684</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0)</div>
<div class="line"><span class="lineno">  685</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>);</div>
<div class="line"><span class="lineno">  686</span>        }</div>
<div class="line"><span class="lineno">  687</span>    }</div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>))</div>
<div class="line"><span class="lineno">  689</span>    {</div>
<div class="line"><span class="lineno">  690</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>;</div>
<div class="line"><span class="lineno">  691</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a098f13784dc87ba5eb03fdb180918bd3">GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</a>;</div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  693</span>        {</div>
<div class="line"><span class="lineno">  694</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  695</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  696</span>        }</div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  698</span>        {</div>
<div class="line"><span class="lineno">  699</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  700</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  701</span>        }</div>
<div class="line"><span class="lineno">  702</span>    }</div>
<div class="line"><span class="lineno">  703</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>))</div>
<div class="line"><span class="lineno">  704</span>    {</div>
<div class="line"><span class="lineno">  705</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>;</div>
<div class="line"><span class="lineno">  706</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a858498a06e8dad4b35e61d229573239f">GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</a>;</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  708</span>        {</div>
<div class="line"><span class="lineno">  709</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  710</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  711</span>        }</div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  713</span>        {</div>
<div class="line"><span class="lineno">  714</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  715</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  716</span>        }</div>
<div class="line"><span class="lineno">  717</span>    }</div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>))</div>
<div class="line"><span class="lineno">  719</span>    {</div>
<div class="line"><span class="lineno">  720</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  721</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780afa50c0d5d0af7ac2567dca5d916f842c">GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  723</span>        {</div>
<div class="line"><span class="lineno">  724</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  725</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  726</span>        }</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  728</span>        {</div>
<div class="line"><span class="lineno">  729</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  730</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  731</span>        }</div>
<div class="line"><span class="lineno">  732</span>    }</div>
<div class="line"><span class="lineno">  733</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>))</div>
<div class="line"><span class="lineno">  734</span>    {</div>
<div class="line"><span class="lineno">  735</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  736</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a2fbc409aeb61c5d20ff2393062741bff">GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  737</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  738</span>        {</div>
<div class="line"><span class="lineno">  739</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  740</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  741</span>        }</div>
<div class="line"><span class="lineno">  742</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  743</span>        {</div>
<div class="line"><span class="lineno">  744</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  745</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  746</span>        }</div>
<div class="line"><span class="lineno">  747</span>    }</div>
<div class="line"><span class="lineno">  748</span>    <span class="keywordflow">if</span> (all)</div>
<div class="line"><span class="lineno">  749</span>    {</div>
<div class="line"><span class="lineno">  750</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  751</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a>);</div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  753</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a>);</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>        <span class="keywordflow">if</span> (!initial)</div>
<div class="line"><span class="lineno">  756</span>        {</div>
<div class="line"><span class="lineno">  757</span>            std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>);</div>
<div class="line"><span class="lineno">  758</span>            <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a>&amp; guid : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_sunsReachReclamationPlayers)</div>
<div class="line"><span class="lineno">  759</span>                if (<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player = <a class="code hl_namespace" href="../../de/d2d/namespaceObjectAccessor.html">ObjectAccessor</a>::<a class="code hl_function" href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">FindPlayer</a>(guid))</div>
<div class="line"><span class="lineno">  760</span>                {</div>
<div class="line"><span class="lineno">  761</span>                    <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  762</span>                        player-&gt;CastSpell(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  763</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  764</span>                        player-&gt;RemoveAurasDueToSpell(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>);</div>
<div class="line"><span class="lineno">  765</span>                }</div>
<div class="line"><span class="lineno">  766</span>        }</div>
<div class="line"><span class="lineno">  767</span>    }</div>
<div class="line"><span class="lineno">  768</span>    <span class="keywordflow">if</span> (!initial)</div>
<div class="line"><span class="lineno">  769</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  770</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a098f13784dc87ba5eb03fdb180918bd3"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a098f13784dc87ba5eb03fdb180918bd3">GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</div><div class="ttdef"><b>Definition</b> WorldState.h:69</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a2fbc409aeb61c5d20ff2393062741bff"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a2fbc409aeb61c5d20ff2393062741bff">GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldState.h:76</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</div><div class="ttdef"><b>Definition</b> WorldState.h:79</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a858498a06e8dad4b35e61d229573239f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a858498a06e8dad4b35e61d229573239f">GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</div><div class="ttdef"><b>Definition</b> WorldState.h:73</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780afa50c0d5d0af7ac2567dca5d916f842c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780afa50c0d5d0af7ac2567dca5d916f842c">GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldState.h:78</div></div>
<div class="ttc" id="aclassObjectGuid_html"><div class="ttname"><a href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition</b> ObjectGuid.h:118</div></div>
<div class="ttc" id="anamespaceObjectAccessor_html"><div class="ttname"><a href="../../de/d2d/namespaceObjectAccessor.html">ObjectAccessor</a></div><div class="ttdef"><b>Definition</b> ObjectAccessor.h:61</div></div>
<div class="ttc" id="anamespaceObjectAccessor_html_a9ede56180a13f102ad195136eadb97ee"><div class="ttname"><a href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a></div><div class="ttdeci">Player * FindPlayer(ObjectGuid const guid)</div><div class="ttdef"><b>Definition</b> ObjectAccessor.cpp:245</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>, <a class="el" href="../../#l00068">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>, <a class="el" href="../../#l00069">GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</a>, <a class="el" href="../../#l00073">GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</a>, <a class="el" href="../../#l00072">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>, <a class="el" href="../../#l00078">GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</a>, <a class="el" href="../../#l00079">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a>, <a class="el" href="../../#l00076">GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</a>, <a class="el" href="../../#l00077">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>, <a class="el" href="../../#l00075">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00137">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00140">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00139">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00149">Save()</a>, <a class="el" href="../../#l00059">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00054">SPELL_KIRU_SONG_OF_VICTORY</a>, <a class="el" href="../../#l00099">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00101">SUBPHASE_ALL</a>, <a class="el" href="../../#l00098">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00100">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00097">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00090">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00091">SUNS_REACH_PHASE_3_ARMORY</a>, and <a class="el" href="../../#l00092">SUNS_REACH_PHASE_4_HARBOR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00470">AddSunsReachProgress()</a>, and <a class="el" href="../../#l00043">Load()</a>.</p>

</div>
</div>
<a id="aa45877b4064df238a02c64f33990fba4" name="aa45877b4064df238a02c64f33990fba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa45877b4064df238a02c64f33990fba4">&#9670;&#160;</a></span>HandleSunwellGateTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleSunwellGateTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>newGate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  773</span>{</div>
<div class="line"><span class="lineno">  774</span>    <span class="keywordflow">if</span> (newGate &lt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno">  775</span>    {</div>
<div class="line"><span class="lineno">  776</span>        <span class="keywordflow">while</span> (newGate != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno">  777</span>        {</div>
<div class="line"><span class="lineno">  778</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">StopSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  779</span>            --<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>;</div>
<div class="line"><span class="lineno">  780</span>        }</div>
<div class="line"><span class="lineno">  781</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  782</span>    }</div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  784</span>    {</div>
<div class="line"><span class="lineno">  785</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">StopSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  786</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> = newGate;</div>
<div class="line"><span class="lineno">  787</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  788</span>    }</div>
<div class="line"><span class="lineno">  789</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> worldState = 0;</div>
<div class="line"><span class="lineno">  790</span>    <span class="keywordflow">switch</span> (newGate)</div>
<div class="line"><span class="lineno">  791</span>    {</div>
<div class="line"><span class="lineno">  792</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  794</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  795</span>    }</div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordflow">if</span> (worldState)</div>
<div class="line"><span class="lineno">  797</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>, worldState);</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  800</span>}</div>
<div class="ttc" id="aclassWorldState_html_a5cb1e1ff43eb6b88935b86c875363e40"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">WorldState::StartSunwellGatePhase</a></div><div class="ttdeci">void StartSunwellGatePhase()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1046</div></div>
<div class="ttc" id="aclassWorldState_html_afbd4d4141d81f26e9fb6508b628e7e59"><div class="ttname"><a href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">WorldState::StopSunwellGatePhase</a></div><div class="ttdeci">void StopSunwellGatePhase()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1058</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00141">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00140">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00139">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00149">Save()</a>, <a class="el" href="../../#l00059">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00446">SendWorldstateUpdate()</a>, <a class="el" href="../../#l01046">StartSunwellGatePhase()</a>, <a class="el" href="../../#l01058">StopSunwellGatePhase()</a>, <a class="el" href="../../#l00122">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00124">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, <a class="el" href="../../#l00123">SUNWELL_ROHENDOR_GATE2_OPEN</a>, <a class="el" href="../../#l00059">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="el" href="../../#l00061">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, and <a class="el" href="../../#l00060">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00985">AddSunwellGateProgress()</a>.</p>

</div>
</div>
<a id="ab82b11875771d0efc209c452e4bc0ffd" name="ab82b11875771d0efc209c452e4bc0ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82b11875771d0efc209c452e4bc0ffd">&#9670;&#160;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/da9/classWorldState.html">WorldState</a> * WorldState::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   27</span>{</div>
<div class="line"><span class="lineno">   28</span>    <span class="keyword">static</span> <a class="code hl_class" href="../../d3/da9/classWorldState.html">WorldState</a> <a class="code hl_function" href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">instance</a>;</div>
<div class="line"><span class="lineno">   29</span>    <span class="keywordflow">return</span> &amp;<a class="code hl_function" href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">instance</a>;</div>
<div class="line"><span class="lineno">   30</span>}</div>
<div class="ttc" id="aclassWorldState_html"><div class="ttname"><a href="../../d3/da9/classWorldState.html">WorldState</a></div><div class="ttdef"><b>Definition</b> WorldState.h:156</div></div>
<div class="ttc" id="aclassWorldState_html_ab82b11875771d0efc209c452e4bc0ffd"><div class="ttname"><a href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">WorldState::instance</a></div><div class="ttdeci">static WorldState * instance()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:26</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00026">instance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00026">instance()</a>.</p>

</div>
</div>
<a id="aa773eb6445da16f9e7eb5cb1344e6fa6" name="aa773eb6445da16f9e7eb5cb1344e6fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa773eb6445da16f9e7eb5cb1344e6fa6">&#9670;&#160;</a></span>IsConditionFulfilled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::IsConditionFulfilled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a>&#160;</td>
          <td class="paramname"><em>conditionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a>&#160;</td>
          <td class="paramname"><em>state</em> = <code><a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  171</span>{</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">switch</span> (conditionId)</div>
<div class="line"><span class="lineno">  173</span>    {</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af5369c5be7548a1e9ec08b006e73feeb">WORLD_STATE_CONDITION_TROLLBANES_COMMAND</a>:</div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a>;</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6ab8441229f6aecd4dc9dd1e3f3f835f8e">WORLD_STATE_CONDITION_NAZGRELS_FAVOR</a>:</div>
<div class="line"><span class="lineno">  177</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a>;</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>:</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>:</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>:</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a1bb66d84efa678b26d5ee37845586008">_transportStates</a>.at(conditionId) == state;</div>
<div class="line"><span class="lineno">  182</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;scripts&quot;</span>, <span class="stringliteral">&quot;WorldState::IsConditionFulfilled: Unhandled WorldStateCondition {}&quot;</span>, conditionId);</div>
<div class="line"><span class="lineno">  184</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  185</span>    }</div>
<div class="line"><span class="lineno">  186</span>}</div>
<div class="ttc" id="aLog_8h_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:157</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6ab8441229f6aecd4dc9dd1e3f3f835f8e"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6ab8441229f6aecd4dc9dd1e3f3f835f8e">WORLD_STATE_CONDITION_NAZGRELS_FAVOR</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_NAZGRELS_FAVOR</div><div class="ttdef"><b>Definition</b> WorldState.h:28</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6af5369c5be7548a1e9ec08b006e73feeb"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af5369c5be7548a1e9ec08b006e73feeb">WORLD_STATE_CONDITION_TROLLBANES_COMMAND</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_TROLLBANES_COMMAND</div><div class="ttdef"><b>Definition</b> WorldState.h:27</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00196">_isMagtheridonHeadSpawnedAlliance</a>, <a class="el" href="../../#l00195">_isMagtheridonHeadSpawnedHorde</a>, <a class="el" href="../../#l00198">_transportStates</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00028">WORLD_STATE_CONDITION_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00031">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>, <a class="el" href="../../#l00032">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>, <a class="el" href="../../#l00030">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>, and <a class="el" href="../../#l00027">WORLD_STATE_CONDITION_TROLLBANES_COMMAND</a>.</p>

</div>
</div>
<a id="a92f34655557b5a170b61e8b15ad07d6a" name="a92f34655557b5a170b61e8b15ad07d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f34655557b5a170b61e8b15ad07d6a">&#9670;&#160;</a></span>Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::Load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   44</span>{</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(<span class="stringliteral">&quot;SELECT Id, Data FROM world_state&quot;</span>);</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno">   47</span>    {</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   49</span>        {</div>
<div class="line"><span class="lineno">   50</span>            <a class="code hl_class" href="../../d7/d24/classField.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">   51</span>            <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keywordtype">id</span> = fields[0].<a class="code hl_function" href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno">   52</span>            std::string data = fields[1].<a class="code hl_function" href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">   53</span>            std::istringstream loadStream(data);</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>            <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno">   56</span>            {</div>
<div class="line"><span class="lineno">   57</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">   58</span>                {</div>
<div class="line"><span class="lineno">   59</span>                    <span class="keywordflow">if</span> (data.size())</div>
<div class="line"><span class="lineno">   60</span>                    {</div>
<div class="line"><span class="lineno">   61</span>                        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   62</span>                        {</div>
<div class="line"><span class="lineno">   63</span>                            loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a>;</div>
<div class="line"><span class="lineno">   64</span>                            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8">COUNTERS_MAX</a>; ++i)</div>
<div class="line"><span class="lineno">   65</span>                                loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[i];</div>
<div class="line"><span class="lineno">   66</span>                            loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>;</div>
<div class="line"><span class="lineno">   67</span>                            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa0247ea5e5a42ee81a890e65bc7876d78">COUNTERS_MAX_GATES</a>; ++i)</div>
<div class="line"><span class="lineno">   68</span>                                loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[i];</div>
<div class="line"><span class="lineno">   69</span>                        }</div>
<div class="line"><span class="lineno">   70</span>                        <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><span class="lineno">   71</span>                        {</div>
<div class="line"><span class="lineno">   72</span>                            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;scripts&quot;</span>, <span class="stringliteral">&quot;WorldState::Load: Exception reading SunsReach data {}&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">   73</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> = 0;</div>
<div class="line"><span class="lineno">   74</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> = 0;</div>
<div class="line"><span class="lineno">   75</span>                            memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>));</div>
<div class="line"><span class="lineno">   76</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>;</div>
<div class="line"><span class="lineno">   77</span>                            memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>));</div>
<div class="line"><span class="lineno">   78</span>                        }</div>
<div class="line"><span class="lineno">   79</span>                    }</div>
<div class="line"><span class="lineno">   80</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   81</span>                    {</div>
<div class="line"><span class="lineno">   82</span>                        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> = 0;</div>
<div class="line"><span class="lineno">   83</span>                        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> = 0;</div>
<div class="line"><span class="lineno">   84</span>                        memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>));</div>
<div class="line"><span class="lineno">   85</span>                        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>;</div>
<div class="line"><span class="lineno">   86</span>                        memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>));</div>
<div class="line"><span class="lineno">   87</span>                    }</div>
<div class="line"><span class="lineno">   88</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   89</span>                }</div>
<div class="line"><span class="lineno">   90</span>            }</div>
<div class="line"><span class="lineno">   91</span>        } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">   92</span>    }</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   96</span>}</div>
<div class="ttc" id="aDatabaseEnvFwd_8h_html_ab0c9feeec448a181290fcb39565b8253"><div class="ttname"><a href="../../d0/d5e/DatabaseEnvFwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; ResultSet &gt; QueryResult</div><div class="ttdef"><b>Definition</b> DatabaseEnvFwd.h:27</div></div>
<div class="ttc" id="aDatabaseEnv_8cpp_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition</b> DatabaseEnv.cpp:21</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fa0247ea5e5a42ee81a890e65bc7876d78"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa0247ea5e5a42ee81a890e65bc7876d78">COUNTERS_MAX_GATES</a></div><div class="ttdeci">@ COUNTERS_MAX_GATES</div><div class="ttdef"><b>Definition</b> WorldState.h:131</div></div>
<div class="ttc" id="aclassField_html"><div class="ttname"><a href="../../d7/d24/classField.html">Field</a></div><div class="ttdoc">Class used to access individual fields of database query result.</div><div class="ttdef"><b>Definition</b> Field.h:98</div></div>
<div class="ttc" id="aclassField_html_aae507d21d3570ffdaf1643ba02946f01"><div class="ttname"><a href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Field::Get</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_arithmetic_v&lt; T &gt;, T &gt; Get() const</div><div class="ttdef"><b>Definition</b> Field.h:112</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00116">COUNTERS_MAX</a>, <a class="el" href="../../#l00131">COUNTERS_MAX_GATES</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00651">HandleSunsReachSubPhaseTransition()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00141">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00142">SunsReachReclamationData::m_gateCounters</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00137">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00138">SunsReachReclamationData::m_sunsReachReclamationCounters</a>, <a class="el" href="../../#l00059">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00819">StartSunsReachPhase()</a>, <a class="el" href="../../#l01046">StartSunwellGatePhase()</a>, and <a class="el" href="../../#l00121">SUNWELL_ALL_GATES_CLOSED</a>.</p>

</div>
</div>
<a id="afd94cb3de9e3064b01114156333d61dc" name="afd94cb3de9e3064b01114156333d61dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd94cb3de9e3064b01114156333d61dc">&#9670;&#160;</a></span>LoadWorldStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::LoadWorldStates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   99</span>{</div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, value FROM worldstates&quot;</span>);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  105</span>    {</div>
<div class="line"><span class="lineno">  106</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 world states. DB table `worldstates` is empty!&quot;</span>);</div>
<div class="line"><span class="lineno">  107</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  112</span>    {</div>
<div class="line"><span class="lineno">  113</span>        <a class="code hl_class" href="../../d7/d24/classField.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  114</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>[fields[0].<a class="code hl_function" href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;()] = fields[1].Get&lt;uint32&gt;();</div>
<div class="line"><span class="lineno">  115</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} World States in {} ms&quot;</span>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.size(), <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  119</span>}</div>
<div class="ttc" id="aLog_8h_html_a271e427d8e8481efd5cd5f537ec9e419"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:165</div></div>
<div class="ttc" id="aLog_8h_html_adf09840a666e1d86bcd3439105db6edc"><div class="ttname"><a href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a></div><div class="ttdeci">#define LOG_WARN(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:161</div></div>
<div class="ttc" id="aTimer_8h_html_a23a2c8663a05f2b03a6f85501972e8c0"><div class="ttname"><a href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a></div><div class="ttdeci">uint32 GetMSTimeDiffToNow(uint32 oldMSTime)</div><div class="ttdef"><b>Definition</b> Timer.h:131</div></div>
<div class="ttc" id="aTimer_8h_html_a4476c8e13ea790c3536f2749105f9cb9"><div class="ttname"><a href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a></div><div class="ttdeci">uint32 getMSTime()</div><div class="ttdef"><b>Definition</b> Timer.h:103</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">_worldstates</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, and <a class="el" href="../../#l00161">LOG_WARN</a>.</p>

</div>
</div>
<a id="a1b3f1594b47259d2f8b128781e08dbd1" name="a1b3f1594b47259d2f8b128781e08dbd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3f1594b47259d2f8b128781e08dbd1">&#9670;&#160;</a></span>Save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::Save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a>&#160;</td>
          <td class="paramname"><em>saveId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  150</span>{</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">switch</span> (saveId)</div>
<div class="line"><span class="lineno">  152</span>    {</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">  154</span>        {</div>
<div class="line"><span class="lineno">  155</span>            std::string expansionData = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#ae7ef124f28f2bc8230b4234652734994">GetData</a>();</div>
<div class="line"><span class="lineno">  156</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0bc6726c3515b63dbbd28072b36f108">SaveHelper</a>(expansionData, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  157</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  158</span>        }</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  160</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span>}</div>
<div class="ttc" id="aclassWorldState_html_aa0bc6726c3515b63dbbd28072b36f108"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa0bc6726c3515b63dbbd28072b36f108">WorldState::SaveHelper</a></div><div class="ttdeci">void SaveHelper(std::string &amp;stringToSave, WorldStateSaveIds saveId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:164</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_ae7ef124f28f2bc8230b4234652734994"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#ae7ef124f28f2bc8230b4234652734994">SunsReachReclamationData::GetData</a></div><div class="ttdeci">std::string GetData()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:942</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00942">SunsReachReclamationData::GetData()</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00059">SAVE_ID_QUEL_DANAS</a>, and <a class="el" href="../../#l00164">SaveHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00470">AddSunsReachProgress()</a>, <a class="el" href="../../#l00985">AddSunwellGateProgress()</a>, <a class="el" href="../../#l00619">HandleSunsReachPhaseTransition()</a>, <a class="el" href="../../#l00651">HandleSunsReachSubPhaseTransition()</a>, and <a class="el" href="../../#l00772">HandleSunwellGateTransition()</a>.</p>

</div>
</div>
<a id="aa0bc6726c3515b63dbbd28072b36f108" name="aa0bc6726c3515b63dbbd28072b36f108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0bc6726c3515b63dbbd28072b36f108">&#9670;&#160;</a></span>SaveHelper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SaveHelper </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>stringToSave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a>&#160;</td>
          <td class="paramname"><em>saveId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  165</span>{</div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(<span class="stringliteral">&quot;DELETE FROM world_state WHERE Id=&#39;{}&#39;&quot;</span>, saveId);</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(<span class="stringliteral">&quot;INSERT INTO world_state(Id,Data) VALUES(&#39;{}&#39;,&#39;{}&#39;)&quot;</span>, saveId, stringToSave.data());</div>
<div class="line"><span class="lineno">  168</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00021">CharacterDatabase</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00149">Save()</a>.</p>

</div>
</div>
<a id="a61245833b5b6b4ad89c3dd17c3691ef1" name="a61245833b5b6b4ad89c3dd17c3691ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61245833b5b6b4ad89c3dd17c3691ef1">&#9670;&#160;</a></span>SendWorldstateUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SendWorldstateUpdate </td>
          <td>(</td>
          <td class="paramtype">std::mutex &amp;&#160;</td>
          <td class="paramname"><em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dc9/ObjectGuid_8h.html#a173958393e55b3150391dfb3a6d387ed">GuidVector</a> const &amp;&#160;</td>
          <td class="paramname"><em>guids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>worldStateId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  447</span>{</div>
<div class="line"><span class="lineno">  448</span>    std::lock_guard&lt;std::mutex&gt; guard(mutex);</div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a> <span class="keyword">const</span>&amp; guid : guids)</div>
<div class="line"><span class="lineno">  450</span>        if (<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player = <a class="code hl_namespace" href="../../de/d2d/namespaceObjectAccessor.html">ObjectAccessor</a>::<a class="code hl_function" href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">FindPlayer</a>(guid))</div>
<div class="line"><span class="lineno">  451</span>            player-&gt;SendUpdateWorldState(worldStateId, value);</div>
<div class="line"><span class="lineno">  452</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00470">AddSunsReachProgress()</a>, <a class="el" href="../../#l00985">AddSunwellGateProgress()</a>, <a class="el" href="../../#l00619">HandleSunsReachPhaseTransition()</a>, and <a class="el" href="../../#l00772">HandleSunwellGateTransition()</a>.</p>

</div>
</div>
<a id="a67c189d45ab5f01e820ff001a7427b77" name="a67c189d45ab5f01e820ff001a7427b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c189d45ab5f01e820ff001a7427b77">&#9670;&#160;</a></span>SetSunsReachCounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetSunsReachCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211c">SunsReachCounters</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  803</span>{</div>
<div class="line"><span class="lineno">  804</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[index] = value;</div>
<div class="line"><span class="lineno">  805</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00197">m_sunsReachData</a>, and <a class="el" href="../../#l00138">SunsReachReclamationData::m_sunsReachReclamationCounters</a>.</p>

</div>
</div>
<a id="ac4c45cd6d06a2f7e103d8e13c07f5656" name="ac4c45cd6d06a2f7e103d8e13c07f5656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c45cd6d06a2f7e103d8e13c07f5656">&#9670;&#160;</a></span>SetSunwellGateCounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetSunwellGateCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34f">SunwellGateCounters</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1042</span>{</div>
<div class="line"><span class="lineno"> 1043</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[index] = value;</div>
<div class="line"><span class="lineno"> 1044</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">SunsReachReclamationData::m_gateCounters</a>, and <a class="el" href="../../#l00197">m_sunsReachData</a>.</p>

</div>
</div>
<a id="a944f5cb17580e70671d45d49b3d2138a" name="a944f5cb17580e70671d45d49b3d2138a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944f5cb17580e70671d45d49b3d2138a">&#9670;&#160;</a></span>setWorldState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::setWorldState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  123</span>{</div>
<div class="line"><span class="lineno">  124</span>    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; it = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.find(index);</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">if</span> (it != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.end())</div>
<div class="line"><span class="lineno">  126</span>    {</div>
<div class="line"><span class="lineno">  127</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7afd113fa1016792456236c2a22a511741">CHAR_UPD_WORLDSTATE</a>);</div>
<div class="line"><span class="lineno">  128</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(timeValue));</div>
<div class="line"><span class="lineno">  129</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, index);</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  133</span>    {</div>
<div class="line"><span class="lineno">  134</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7ab8174ed238ef2280fade95d60435fe5a">CHAR_INS_WORLDSTATE</a>);</div>
<div class="line"><span class="lineno">  135</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, index);</div>
<div class="line"><span class="lineno">  136</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(timeValue));</div>
<div class="line"><span class="lineno">  137</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  138</span>    }</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>[index] = timeValue;</div>
<div class="line"><span class="lineno">  141</span>}</div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7ab8174ed238ef2280fade95d60435fe5a"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7ab8174ed238ef2280fade95d60435fe5a">CHAR_INS_WORLDSTATE</a></div><div class="ttdeci">@ CHAR_INS_WORLDSTATE</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:307</div></div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7afd113fa1016792456236c2a22a511741"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7afd113fa1016792456236c2a22a511741">CHAR_UPD_WORLDSTATE</a></div><div class="ttdeci">@ CHAR_UPD_WORLDSTATE</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:306</div></div>
<div class="ttc" id="aclassPreparedStatementBase_html_a52fc2e65042c1db51f0923725a0f0ed0"><div class="ttname"><a href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">PreparedStatementBase::SetData</a></div><div class="ttdeci">Acore::Types::is_default&lt; T &gt; SetData(const uint8 index, T value)</div><div class="ttdef"><b>Definition</b> PreparedStatement.h:77</div></div>
<div class="ttc" id="aclassPreparedStatement_html"><div class="ttname"><a href="../../d7/d0f/classPreparedStatement.html">PreparedStatement</a></div><div class="ttdef"><b>Definition</b> PreparedStatement.h:157</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">_worldstates</a>, <a class="el" href="../../#l00307">CHAR_INS_WORLDSTATE</a>, <a class="el" href="../../#l00306">CHAR_UPD_WORLDSTATE</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

</div>
</div>
<a id="aa0ccc9b698e2449bbde90e85b3e6eda8" name="aa0ccc9b698e2449bbde90e85b3e6eda8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ccc9b698e2449bbde90e85b3e6eda8">&#9670;&#160;</a></span>StartSunsReachPhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartSunsReachPhase </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initial</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  820</span>{</div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  822</span>    {</div>
<div class="line"><span class="lineno">  823</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>:</div>
<div class="line"><span class="lineno">  824</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164">GAME_EVENT_QUEL_DANAS_PHASE_1</a>);</div>
<div class="line"><span class="lineno">  825</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  826</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da33ce6050f5c9a8dbbfc2556756f960c3">WEATHER_STATE_MEDIUM_RAIN</a>, 0.75f);</div>
<div class="line"><span class="lineno">  827</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  828</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>:</div>
<div class="line"><span class="lineno">  829</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>);</div>
<div class="line"><span class="lineno">  830</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  831</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  832</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d">WEATHER_STATE_LIGHT_RAIN</a>, 0.5f);</div>
<div class="line"><span class="lineno">  833</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  834</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>:</div>
<div class="line"><span class="lineno">  835</span>            <span class="keywordflow">if</span> (initial)</div>
<div class="line"><span class="lineno">  836</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  837</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>); <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  838</span>            <span class="comment">// TODO: Should be id 2 0.25f?</span></div>
<div class="line"><span class="lineno">  839</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  840</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d">WEATHER_STATE_LIGHT_RAIN</a>, 0.25f);</div>
<div class="line"><span class="lineno">  841</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  842</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>:</div>
<div class="line"><span class="lineno">  843</span>            <span class="keywordflow">if</span> (initial)</div>
<div class="line"><span class="lineno">  844</span>            {</div>
<div class="line"><span class="lineno">  845</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  846</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  847</span>            }</div>
<div class="line"><span class="lineno">  848</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a">GAME_EVENT_QUEL_DANAS_PHASE_4</a>);</div>
<div class="line"><span class="lineno">  849</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  850</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da5d4c47a117d36afee4195bd260951366">WEATHER_STATE_FINE</a>, 0.0f);</div>
<div class="line"><span class="lineno">  851</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  852</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  853</span>    }</div>
<div class="line"><span class="lineno">  854</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a></div><div class="ttdeci">@ MAP_OUTLAND</div><div class="ttdef"><b>Definition</b> AreaDefines.h:215</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</div><div class="ttdef"><b>Definition</b> WorldState.h:70</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</div><div class="ttdef"><b>Definition</b> WorldState.h:67</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a">GAME_EVENT_QUEL_DANAS_PHASE_4</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4</div><div class="ttdef"><b>Definition</b> WorldState.h:74</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</div><div class="ttdef"><b>Definition</b> WorldState.h:71</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</div><div class="ttdef"><b>Definition</b> WorldState.h:66</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164">GAME_EVENT_QUEL_DANAS_PHASE_1</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_1</div><div class="ttdef"><b>Definition</b> WorldState.h:65</div></div>
<div class="ttc" id="agroup__world_html_gga32b7b9e733438755c99c2abd6cb8c94da33ce6050f5c9a8dbbfc2556756f960c3"><div class="ttname"><a href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da33ce6050f5c9a8dbbfc2556756f960c3">WEATHER_STATE_MEDIUM_RAIN</a></div><div class="ttdeci">@ WEATHER_STATE_MEDIUM_RAIN</div><div class="ttdef"><b>Definition</b> Weather.h:49</div></div>
<div class="ttc" id="agroup__world_html_gga32b7b9e733438755c99c2abd6cb8c94da5d4c47a117d36afee4195bd260951366"><div class="ttname"><a href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da5d4c47a117d36afee4195bd260951366">WEATHER_STATE_FINE</a></div><div class="ttdeci">@ WEATHER_STATE_FINE</div><div class="ttdef"><b>Definition</b> Weather.h:46</div></div>
<div class="ttc" id="agroup__world_html_gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d"><div class="ttname"><a href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d">WEATHER_STATE_LIGHT_RAIN</a></div><div class="ttdeci">@ WEATHER_STATE_LIGHT_RAIN</div><div class="ttdef"><b>Definition</b> Weather.h:48</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00138">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00065">GAME_EVENT_QUEL_DANAS_PHASE_1</a>, <a class="el" href="../../#l00066">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>, <a class="el" href="../../#l00067">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>, <a class="el" href="../../#l00070">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>, <a class="el" href="../../#l00071">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>, <a class="el" href="../../#l00074">GAME_EVENT_QUEL_DANAS_PHASE_4</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00215">MAP_OUTLAND</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00220">sMapMgr</a>, <a class="el" href="../../#l00089">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00090">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00091">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00092">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00046">WEATHER_STATE_FINE</a>, <a class="el" href="../../#l00048">WEATHER_STATE_LIGHT_RAIN</a>, and <a class="el" href="../../#l00049">WEATHER_STATE_MEDIUM_RAIN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00619">HandleSunsReachPhaseTransition()</a>, and <a class="el" href="../../#l00043">Load()</a>.</p>

</div>
</div>
<a id="a5cb1e1ff43eb6b88935b86c875363e40" name="a5cb1e1ff43eb6b88935b86c875363e40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb1e1ff43eb6b88935b86c875363e40">&#9670;&#160;</a></span>StartSunwellGatePhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartSunwellGatePhase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1047</span>{</div>
<div class="line"><span class="lineno"> 1048</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno"> 1049</span>    {</div>
<div class="line"><span class="lineno"> 1050</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423">GAME_EVENT_SWP_GATES_PHASE_0</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1051</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b">GAME_EVENT_SWP_GATES_PHASE_1</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1052</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c">GAME_EVENT_SWP_GATES_PHASE_2</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1053</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8">GAME_EVENT_SWP_GATES_PHASE_3</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1054</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1055</span>    }</div>
<div class="line"><span class="lineno"> 1056</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b">GAME_EVENT_SWP_GATES_PHASE_1</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_1</div><div class="ttdef"><b>Definition</b> WorldState.h:82</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8">GAME_EVENT_SWP_GATES_PHASE_3</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_3</div><div class="ttdef"><b>Definition</b> WorldState.h:84</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423">GAME_EVENT_SWP_GATES_PHASE_0</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_0</div><div class="ttdef"><b>Definition</b> WorldState.h:81</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c">GAME_EVENT_SWP_GATES_PHASE_2</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_2</div><div class="ttdef"><b>Definition</b> WorldState.h:83</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00081">GAME_EVENT_SWP_GATES_PHASE_0</a>, <a class="el" href="../../#l00082">GAME_EVENT_SWP_GATES_PHASE_1</a>, <a class="el" href="../../#l00083">GAME_EVENT_SWP_GATES_PHASE_2</a>, <a class="el" href="../../#l00084">GAME_EVENT_SWP_GATES_PHASE_3</a>, <a class="el" href="../../#l00141">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00122">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00121">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00124">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, and <a class="el" href="../../#l00123">SUNWELL_ROHENDOR_GATE2_OPEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00772">HandleSunwellGateTransition()</a>, and <a class="el" href="../../#l00043">Load()</a>.</p>

</div>
</div>
<a id="a97eabce4c25bd59dabb9b417574cc2cb" name="a97eabce4c25bd59dabb9b417574cc2cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97eabce4c25bd59dabb9b417574cc2cb">&#9670;&#160;</a></span>StopSunsReachPhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StopSunsReachPhase </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  808</span>{</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  810</span>    {</div>
<div class="line"><span class="lineno">  811</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164">GAME_EVENT_QUEL_DANAS_PHASE_1</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>); <span class="keywordflow">if</span> (!forward) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  813</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>); <span class="keywordflow">if</span> (!forward) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  814</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a">GAME_EVENT_QUEL_DANAS_PHASE_4</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  815</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  816</span>    }</div>
<div class="line"><span class="lineno">  817</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00065">GAME_EVENT_QUEL_DANAS_PHASE_1</a>, <a class="el" href="../../#l00066">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>, <a class="el" href="../../#l00067">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>, <a class="el" href="../../#l00070">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>, <a class="el" href="../../#l00071">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>, <a class="el" href="../../#l00074">GAME_EVENT_QUEL_DANAS_PHASE_4</a>, <a class="el" href="../../#l00136">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00089">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00090">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00091">SUNS_REACH_PHASE_3_ARMORY</a>, and <a class="el" href="../../#l00092">SUNS_REACH_PHASE_4_HARBOR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00619">HandleSunsReachPhaseTransition()</a>.</p>

</div>
</div>
<a id="afbd4d4141d81f26e9fb6508b628e7e59" name="afbd4d4141d81f26e9fb6508b628e7e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd4d4141d81f26e9fb6508b628e7e59">&#9670;&#160;</a></span>StopSunwellGatePhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StopSunwellGatePhase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1059</span>{</div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno"> 1061</span>    {</div>
<div class="line"><span class="lineno"> 1062</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423">GAME_EVENT_SWP_GATES_PHASE_0</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1063</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b">GAME_EVENT_SWP_GATES_PHASE_1</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1064</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c">GAME_EVENT_SWP_GATES_PHASE_2</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1065</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8">GAME_EVENT_SWP_GATES_PHASE_3</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1066</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1067</span>    }</div>
<div class="line"><span class="lineno"> 1068</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00081">GAME_EVENT_SWP_GATES_PHASE_0</a>, <a class="el" href="../../#l00082">GAME_EVENT_SWP_GATES_PHASE_1</a>, <a class="el" href="../../#l00083">GAME_EVENT_SWP_GATES_PHASE_2</a>, <a class="el" href="../../#l00084">GAME_EVENT_SWP_GATES_PHASE_3</a>, <a class="el" href="../../#l00141">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00197">m_sunsReachData</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00122">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00121">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00124">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, and <a class="el" href="../../#l00123">SUNWELL_ROHENDOR_GATE2_OPEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00772">HandleSunwellGateTransition()</a>.</p>

</div>
</div>
<a id="a392dd15b70d42ff2ce9f74605d495513" name="a392dd15b70d42ff2ce9f74605d495513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392dd15b70d42ff2ce9f74605d495513">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::Update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>diff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  235</span>{</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  237</span>    {</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> &lt;= diff)</div>
<div class="line"><span class="lineno">  239</span>        {</div>
<div class="line"><span class="lineno">  240</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> = 0;</div>
<div class="line"><span class="lineno">  241</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#a20f98292f5c55cab7b70fd7c20d8cb5a">DispelAdalsSongOfBattle</a>();</div>
<div class="line"><span class="lineno">  242</span>        }</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  244</span>        {</div>
<div class="line"><span class="lineno">  245</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> -= diff;</div>
<div class="line"><span class="lineno">  246</span>        }</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="line"><span class="lineno">  248</span>}</div>
<div class="ttc" id="aclassWorldState_html_a20f98292f5c55cab7b70fd7c20d8cb5a"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a20f98292f5c55cab7b70fd7c20d8cb5a">WorldState::DispelAdalsSongOfBattle</a></div><div class="ttdeci">void DispelAdalsSongOfBattle()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:419</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">_adalSongOfBattleTimer</a>, and <a class="el" href="../../#l00419">DispelAdalsSongOfBattle()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aedccbddea39cd0a6ddf835147ca27da1" name="aedccbddea39cd0a6ddf835147ca27da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedccbddea39cd0a6ddf835147ca27da1">&#9670;&#160;</a></span>_adalSongOfBattleTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::_adalSongOfBattleTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00193">HandleExternalEvent()</a>, <a class="el" href="../../#l00250">HandlePlayerEnterZone()</a>, <a class="el" href="../../#l00287">HandlePlayerLeaveZone()</a>, and <a class="el" href="../../#l00234">Update()</a>.</p>

</div>
</div>
<a id="a6408344019152591c457b63601aac4dd" name="a6408344019152591c457b63601aac4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6408344019152591c457b63601aac4dd">&#9670;&#160;</a></span>_isMagtheridonHeadSpawnedAlliance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::_isMagtheridonHeadSpawnedAlliance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00193">HandleExternalEvent()</a>, <a class="el" href="../../#l00250">HandlePlayerEnterZone()</a>, and <a class="el" href="../../#l00170">IsConditionFulfilled()</a>.</p>

</div>
</div>
<a id="a66fb9980d02e5d6d11b0a1113aba2d39" name="a66fb9980d02e5d6d11b0a1113aba2d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66fb9980d02e5d6d11b0a1113aba2d39">&#9670;&#160;</a></span>_isMagtheridonHeadSpawnedHorde</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::_isMagtheridonHeadSpawnedHorde</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00193">HandleExternalEvent()</a>, <a class="el" href="../../#l00250">HandlePlayerEnterZone()</a>, and <a class="el" href="../../#l00170">IsConditionFulfilled()</a>.</p>

</div>
</div>
<a id="a8b6fa603f03ebf22874990b5beb37f55" name="a8b6fa603f03ebf22874990b5beb37f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6fa603f03ebf22874990b5beb37f55">&#9670;&#160;</a></span>_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex WorldState::_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00193">HandleExternalEvent()</a>, <a class="el" href="../../#l00250">HandlePlayerEnterZone()</a>, and <a class="el" href="../../#l00287">HandlePlayerLeaveZone()</a>.</p>

</div>
</div>
<a id="a1bb66d84efa678b26d5ee37845586008" name="a1bb66d84efa678b26d5ee37845586008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb66d84efa678b26d5ee37845586008">&#9670;&#160;</a></span>_transportStates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a>, std::atomic&lt;<a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a>&gt; &gt; WorldState::_transportStates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00188">HandleConditionStateChange()</a>, <a class="el" href="../../#l00170">IsConditionFulfilled()</a>, and <a class="el" href="../../#l00032">WorldState()</a>.</p>

</div>
</div>
<a id="a9692b273469befd8d81da34a2318d7e0" name="a9692b273469befd8d81da34a2318d7e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9692b273469befd8d81da34a2318d7e0">&#9670;&#160;</a></span>_worldstates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldStatesMap</a> WorldState::_worldstates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00143">getWorldState()</a>, <a class="el" href="../../#l00098">LoadWorldStates()</a>, and <a class="el" href="../../#l00122">setWorldState()</a>.</p>

</div>
</div>
<a id="a9d3901ed4c6fd2440118bdebdcb632f4" name="a9d3901ed4c6fd2440118bdebdcb632f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3901ed4c6fd2440118bdebdcb632f4">&#9670;&#160;</a></span>m_sunsReachData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/db1/structSunsReachReclamationData.html">SunsReachReclamationData</a> WorldState::m_sunsReachData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00470">AddSunsReachProgress()</a>, <a class="el" href="../../#l00985">AddSunwellGateProgress()</a>, <a class="el" href="../../#l01090">FillInitialWorldStates()</a>, <a class="el" href="../../#l00856">GetSunsReachPrintout()</a>, <a class="el" href="../../#l00250">HandlePlayerEnterZone()</a>, <a class="el" href="../../#l00287">HandlePlayerLeaveZone()</a>, <a class="el" href="../../#l00619">HandleSunsReachPhaseTransition()</a>, <a class="el" href="../../#l00651">HandleSunsReachSubPhaseTransition()</a>, <a class="el" href="../../#l00772">HandleSunwellGateTransition()</a>, <a class="el" href="../../#l00043">Load()</a>, <a class="el" href="../../#l00149">Save()</a>, <a class="el" href="../../#l00802">SetSunsReachCounter()</a>, <a class="el" href="../../#l01041">SetSunwellGateCounter()</a>, <a class="el" href="../../#l00819">StartSunsReachPhase()</a>, <a class="el" href="../../#l01046">StartSunwellGatePhase()</a>, <a class="el" href="../../#l00807">StopSunsReachPhase()</a>, and <a class="el" href="../../#l01058">StopSunwellGatePhase()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>azerothcore-wotlk/src/server/game/World/<a class="el" href="../../">WorldState.h</a></li>
<li>azerothcore-wotlk/src/server/game/World/<a class="el" href="../../">WorldState.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/da9/classWorldState.html">WorldState</a></li>
    <li class="footer">Generated on Sun Jun 22 2025 06:23:17 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
