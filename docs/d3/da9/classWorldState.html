<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>AzerothCore Doxygen</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d3/da9/classWorldState.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../de/d5a/classWorldState-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">WorldState Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="../../">WorldState.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad14e01bcb94b4edea5d2515cf6cf0868" id="r_ad14e01bcb94b4edea5d2515cf6cf0868"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ad14e01bcb94b4edea5d2515cf6cf0868">WorldState</a> ()</td></tr>
<tr class="separator:ad14e01bcb94b4edea5d2515cf6cf0868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae529d95330f8037a21cea02cc079b0cd" id="r_ae529d95330f8037a21cea02cc079b0cd"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ae529d95330f8037a21cea02cc079b0cd">~WorldState</a> ()</td></tr>
<tr class="separator:ae529d95330f8037a21cea02cc079b0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f34655557b5a170b61e8b15ad07d6a" id="r_a92f34655557b5a170b61e8b15ad07d6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a92f34655557b5a170b61e8b15ad07d6a">Load</a> ()</td></tr>
<tr class="separator:a92f34655557b5a170b61e8b15ad07d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd94cb3de9e3064b01114156333d61dc" id="r_afd94cb3de9e3064b01114156333d61dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#afd94cb3de9e3064b01114156333d61dc">LoadWorldStates</a> ()</td></tr>
<tr class="separator:afd94cb3de9e3064b01114156333d61dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944f5cb17580e70671d45d49b3d2138a" id="r_a944f5cb17580e70671d45d49b3d2138a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a944f5cb17580e70671d45d49b3d2138a">setWorldState</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> index, <a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> value)</td></tr>
<tr class="separator:a944f5cb17580e70671d45d49b3d2138a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c0fb89d452d67fff79fe92070b831f" id="r_a43c0fb89d452d67fff79fe92070b831f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a43c0fb89d452d67fff79fe92070b831f">getWorldState</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> index) const</td></tr>
<tr class="separator:a43c0fb89d452d67fff79fe92070b831f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3f1594b47259d2f8b128781e08dbd1" id="r_a1b3f1594b47259d2f8b128781e08dbd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a> saveId)</td></tr>
<tr class="separator:a1b3f1594b47259d2f8b128781e08dbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bc6726c3515b63dbbd28072b36f108" id="r_aa0bc6726c3515b63dbbd28072b36f108"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa0bc6726c3515b63dbbd28072b36f108">SaveHelper</a> (std::string &amp;stringToSave, <a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a> saveId)</td></tr>
<tr class="separator:aa0bc6726c3515b63dbbd28072b36f108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adea39d5d407e56368e4a67dd959d0c78" id="r_adea39d5d407e56368e4a67dd959d0c78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#adea39d5d407e56368e4a67dd959d0c78">HandlePlayerEnterZone</a> (<a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *player, <a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a> zoneId)</td></tr>
<tr class="separator:adea39d5d407e56368e4a67dd959d0c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaccc044b7005ac0a58304310ee549fbc" id="r_aaccc044b7005ac0a58304310ee549fbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aaccc044b7005ac0a58304310ee549fbc">HandlePlayerLeaveZone</a> (<a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *player, <a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a> zoneId)</td></tr>
<tr class="separator:aaccc044b7005ac0a58304310ee549fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24c140bb68aacc7d749dabeefba5f63" id="r_ae24c140bb68aacc7d749dabeefba5f63"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ae24c140bb68aacc7d749dabeefba5f63">IsConditionFulfilled</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> conditionId, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> state=<a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>) const</td></tr>
<tr class="separator:ae24c140bb68aacc7d749dabeefba5f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210ba9c92b727b3a0bb18b59194cc70a" id="r_a210ba9c92b727b3a0bb18b59194cc70a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a210ba9c92b727b3a0bb18b59194cc70a">HandleConditionStateChange</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a> conditionId, <a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a> state)</td></tr>
<tr class="separator:a210ba9c92b727b3a0bb18b59194cc70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade529a26b08fca422a215c5aac78bb52" id="r_ade529a26b08fca422a215c5aac78bb52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ade529a26b08fca422a215c5aac78bb52">HandleExternalEvent</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266">WorldStateEvent</a> eventId, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> param)</td></tr>
<tr class="separator:ade529a26b08fca422a215c5aac78bb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392dd15b70d42ff2ce9f74605d495513" id="r_a392dd15b70d42ff2ce9f74605d495513"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a392dd15b70d42ff2ce9f74605d495513">Update</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> diff)</td></tr>
<tr class="separator:a392dd15b70d42ff2ce9f74605d495513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfad77c7558a708b61ee9999766dbd43" id="r_abfad77c7558a708b61ee9999766dbd43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#abfad77c7558a708b61ee9999766dbd43">AddSunwellGateProgress</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</td></tr>
<tr class="separator:abfad77c7558a708b61ee9999766dbd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9226767ddacaf1bbdbfc911e5f63956" id="r_ab9226767ddacaf1bbdbfc911e5f63956"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ab9226767ddacaf1bbdbfc911e5f63956">AddSunsReachProgress</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</td></tr>
<tr class="separator:ab9226767ddacaf1bbdbfc911e5f63956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023a69d9e9608aa7dde3cb769f76e1fc" id="r_a023a69d9e9608aa7dde3cb769f76e1fc"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a023a69d9e9608aa7dde3cb769f76e1fc">GetSunsReachPrintout</a> ()</td></tr>
<tr class="separator:a023a69d9e9608aa7dde3cb769f76e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41ca189b0ec20d9dc3f78d7f191011e" id="r_af41ca189b0ec20d9dc3f78d7f191011e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#af41ca189b0ec20d9dc3f78d7f191011e">FillInitialWorldStates</a> (<a class="el" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html">WorldPackets::WorldState::InitWorldStates</a> &amp;packet, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>)</td></tr>
<tr class="separator:af41ca189b0ec20d9dc3f78d7f191011e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1123ff0edde32f57a1cc13b275c2e956" id="r_a1123ff0edde32f57a1cc13b275c2e956"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newPhase)</td></tr>
<tr class="separator:a1123ff0edde32f57a1cc13b275c2e956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0cf4fec23a9aa71346996c46d38c58b" id="r_aa0cf4fec23a9aa71346996c46d38c58b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a> (<a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> subPhaseMask, bool initial=false)</td></tr>
<tr class="separator:aa0cf4fec23a9aa71346996c46d38c58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c189d45ab5f01e820ff001a7427b77" id="r_a67c189d45ab5f01e820ff001a7427b77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a67c189d45ab5f01e820ff001a7427b77">SetSunsReachCounter</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211c">SunsReachCounters</a> index, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value)</td></tr>
<tr class="separator:a67c189d45ab5f01e820ff001a7427b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45877b4064df238a02c64f33990fba4" id="r_aa45877b4064df238a02c64f33990fba4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newGate)</td></tr>
<tr class="separator:aa45877b4064df238a02c64f33990fba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c45cd6d06a2f7e103d8e13c07f5656" id="r_ac4c45cd6d06a2f7e103d8e13c07f5656"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ac4c45cd6d06a2f7e103d8e13c07f5656">SetSunwellGateCounter</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34f">SunwellGateCounters</a> index, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value)</td></tr>
<tr class="separator:ac4c45cd6d06a2f7e103d8e13c07f5656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83055208536e3138eabf84f154bd4f05" id="r_a83055208536e3138eabf84f154bd4f05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a83055208536e3138eabf84f154bd4f05">SetScourgeInvasionState</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690">SIState</a> state)</td></tr>
<tr class="separator:a83055208536e3138eabf84f154bd4f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe83b61f649a15570fa9b1db023af842" id="r_afe83b61f649a15570fa9b1db023af842"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#afe83b61f649a15570fa9b1db023af842">StartScourgeInvasion</a> (bool sendMail)</td></tr>
<tr class="separator:afe83b61f649a15570fa9b1db023af842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae922047e213d43094fbc45e9d73cc9c7" id="r_ae922047e213d43094fbc45e9d73cc9c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ae922047e213d43094fbc45e9d73cc9c7">StopScourgeInvasion</a> ()</td></tr>
<tr class="separator:ae922047e213d43094fbc45e9d73cc9c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e4ceea71e4863c4cb0558af3a41292" id="r_af6e4ceea71e4863c4cb0558af3a41292"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a> remaining) const</td></tr>
<tr class="separator:af6e4ceea71e4863c4cb0558af3a41292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d76dc8d44bbde93e18c3c4879db191" id="r_a25d76dc8d44bbde93e18c3c4879db191"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a25d76dc8d44bbde93e18c3c4879db191">GetSIRemainingByZone</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId) const</td></tr>
<tr class="separator:a25d76dc8d44bbde93e18c3c4879db191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee232ea215af146768dad9ea07b4ec5" id="r_afee232ea215af146768dad9ea07b4ec5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#afee232ea215af146768dad9ea07b4ec5">SetSIRemaining</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a> remaining, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value)</td></tr>
<tr class="separator:afee232ea215af146768dad9ea07b4ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528f3b83ecaba4c1e99198340204b2b1" id="r_a528f3b83ecaba4c1e99198340204b2b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a528f3b83ecaba4c1e99198340204b2b1">GetSITimer</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a> timer)</td></tr>
<tr class="separator:a528f3b83ecaba4c1e99198340204b2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72df8ce99ca52de6ca74c532eef2836" id="r_ab72df8ce99ca52de6ca74c532eef2836"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ab72df8ce99ca52de6ca74c532eef2836">SetSITimer</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a> timer, <a class="el" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> timePoint)</td></tr>
<tr class="separator:ab72df8ce99ca52de6ca74c532eef2836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea82fdf833a8154c0516288e92bce2a" id="r_a2ea82fdf833a8154c0516288e92bce2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a2ea82fdf833a8154c0516288e92bce2a">GetBattlesWon</a> ()</td></tr>
<tr class="separator:a2ea82fdf833a8154c0516288e92bce2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa69e44277bc638ba017ee7fda781d03a" id="r_aa69e44277bc638ba017ee7fda781d03a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa69e44277bc638ba017ee7fda781d03a">AddBattlesWon</a> (<a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> count)</td></tr>
<tr class="separator:aa69e44277bc638ba017ee7fda781d03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c85c9b354d7e77c8661011168125ed" id="r_a44c85c9b354d7e77c8661011168125ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a44c85c9b354d7e77c8661011168125ed">GetLastAttackZone</a> ()</td></tr>
<tr class="separator:a44c85c9b354d7e77c8661011168125ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ed2c74d2ba5dfb3d76f43b518f08b4" id="r_a23ed2c74d2ba5dfb3d76f43b518f08b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a23ed2c74d2ba5dfb3d76f43b518f08b4">SetLastAttackZone</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a23ed2c74d2ba5dfb3d76f43b518f08b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8048f1e34b7b5ea702bc37d1f911654" id="r_af8048f1e34b7b5ea702bc37d1f911654"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#af8048f1e34b7b5ea702bc37d1f911654">BroadcastSIWorldstates</a> ()</td></tr>
<tr class="separator:af8048f1e34b7b5ea702bc37d1f911654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63958dd407c96479e4d46dfbfc6d5371" id="r_a63958dd407c96479e4d46dfbfc6d5371"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a63958dd407c96479e4d46dfbfc6d5371">HandleDefendedZones</a> ()</td></tr>
<tr class="separator:a63958dd407c96479e4d46dfbfc6d5371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87440a36077b77c3419a35ef2bb87bfc" id="r_a87440a36077b77c3419a35ef2bb87bfc"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a87440a36077b77c3419a35ef2bb87bfc">GetScourgeInvasionPrintout</a> ()</td></tr>
<tr class="separator:a87440a36077b77c3419a35ef2bb87bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c3fd1a5f033ace408dfe719b5e78b4" id="r_ac4c3fd1a5f033ace408dfe719b5e78b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ac4c3fd1a5f033ace408dfe719b5e78b4">StartZoneEvent</a> (<a class="el" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8">SIZoneIds</a> eventId)</td></tr>
<tr class="separator:ac4c3fd1a5f033ace408dfe719b5e78b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d5e7cd4ef857d7085fdb0b16107d12" id="r_a60d5e7cd4ef857d7085fdb0b16107d12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a60d5e7cd4ef857d7085fdb0b16107d12">StartNewInvasionIfTime</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> attackTimeVar, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a60d5e7cd4ef857d7085fdb0b16107d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad09269608f3670926c7d195743ce0e" id="r_a6ad09269608f3670926c7d195743ce0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a6ad09269608f3670926c7d195743ce0e">StartNewCityAttackIfTime</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> attackTimeVar, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a6ad09269608f3670926c7d195743ce0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6981d17a891b8460a64ced84ff5470f4" id="r_a6981d17a891b8460a64ced84ff5470f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a6981d17a891b8460a64ced84ff5470f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add06d6fee1a195c36bed0c3eec227487" id="r_add06d6fee1a195c36bed0c3eec227487"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#add06d6fee1a195c36bed0c3eec227487">StartNewCityAttack</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:add06d6fee1a195c36bed0c3eec227487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb3f551a1002c2b5fb0dfd85e03b2a1" id="r_aafb3f551a1002c2b5fb0dfd85e03b2a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aafb3f551a1002c2b5fb0dfd85e03b2a1">ResumeInvasion</a> (<a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;zone)</td></tr>
<tr class="separator:aafb3f551a1002c2b5fb0dfd85e03b2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b53e82f0e852bd8c96151fc95e1152" id="r_a93b53e82f0e852bd8c96151fc95e1152"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a93b53e82f0e852bd8c96151fc95e1152">SummonMouth</a> (<a class="el" href="../../d7/db0/classMap.html">Map</a> *map, <a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;zone, <a class="el" href="../../d0/df4/structPosition.html">Position</a> position, bool newInvasion)</td></tr>
<tr class="separator:a93b53e82f0e852bd8c96151fc95e1152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a532dda18bff01067da90c6ce303f7a04" id="r_a532dda18bff01067da90c6ce303f7a04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a532dda18bff01067da90c6ce303f7a04">SummonPallid</a> (<a class="el" href="../../d7/db0/classMap.html">Map</a> *map, <a class="el" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html">ScourgeInvasionData::CityAttack</a> &amp;zone, const <a class="el" href="../../d0/df4/structPosition.html">Position</a> &amp;position, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spawnLoc)</td></tr>
<tr class="separator:a532dda18bff01067da90c6ce303f7a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f240edaae8866dc573d5b3816196193" id="r_a9f240edaae8866dc573d5b3816196193"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a9f240edaae8866dc573d5b3816196193">HandleActiveZone</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> attackTimeVar, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingVar, <a class="el" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> now)</td></tr>
<tr class="separator:a9f240edaae8866dc573d5b3816196193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7478dfc56b6941b135d97ff3bdd91746" id="r_a7478dfc56b6941b135d97ff3bdd91746"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/db0/classMap.html">Map</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mapId, <a class="el" href="../../d0/df4/structPosition.html">Position</a> const &amp;invZone)</td></tr>
<tr class="separator:a7478dfc56b6941b135d97ff3bdd91746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff00c48b4887f6be5ec67a0d70a39be" id="r_aeff00c48b4887f6be5ec67a0d70a39be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aeff00c48b4887f6be5ec67a0d70a39be">IsActiveZone</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:aeff00c48b4887f6be5ec67a0d70a39be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0729184dcf24b56d3c09962e64b0f04a" id="r_a0729184dcf24b56d3c09962e64b0f04a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a0729184dcf24b56d3c09962e64b0f04a">GetActiveZones</a> ()</td></tr>
<tr class="separator:a0729184dcf24b56d3c09962e64b0f04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963da869c85fde49ec5baee67e1ad93a" id="r_a963da869c85fde49ec5baee67e1ad93a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a963da869c85fde49ec5baee67e1ad93a">GetTimerIdForZone</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a963da869c85fde49ec5baee67e1ad93a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb278d6f403d01de4cf40a19fd85e0df" id="r_abb278d6f403d01de4cf40a19fd85e0df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#abb278d6f403d01de4cf40a19fd85e0df">SetPallidGuid</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId, <a class="el" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a> guid)</td></tr>
<tr class="separator:abb278d6f403d01de4cf40a19fd85e0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883a7d6112a3069ab357ad1c042a2f09" id="r_a883a7d6112a3069ab357ad1c042a2f09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a883a7d6112a3069ab357ad1c042a2f09">SetMouthGuid</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId, <a class="el" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a> guid)</td></tr>
<tr class="separator:a883a7d6112a3069ab357ad1c042a2f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513a4bd7d27428d4551cbbe0048dbeee" id="r_a513a4bd7d27428d4551cbbe0048dbeee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a513a4bd7d27428d4551cbbe0048dbeee">AddPendingInvasion</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a513a4bd7d27428d4551cbbe0048dbeee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f7ef31ab254d4801e757bd52a4efa8" id="r_a37f7ef31ab254d4801e757bd52a4efa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a37f7ef31ab254d4801e757bd52a4efa8">RemovePendingInvasion</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a37f7ef31ab254d4801e757bd52a4efa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e088e8123065a055429e22d2e68190" id="r_a36e088e8123065a055429e22d2e68190"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a36e088e8123065a055429e22d2e68190">AddPendingPallid</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a36e088e8123065a055429e22d2e68190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3460a7a1de349125352363d135b036a5" id="r_a3460a7a1de349125352363d135b036a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a3460a7a1de349125352363d135b036a5">RemovePendingPallid</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId)</td></tr>
<tr class="separator:a3460a7a1de349125352363d135b036a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a39d93f0a8369d107d13d20c3c3305" id="r_af8a39d93f0a8369d107d13d20c3c3305"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#af8a39d93f0a8369d107d13d20c3c3305">OnEnable</a> (<a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;zone)</td></tr>
<tr class="separator:af8a39d93f0a8369d107d13d20c3c3305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fd33de5296c57eaa4beea933fb55fc" id="r_ac1fd33de5296c57eaa4beea933fb55fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ac1fd33de5296c57eaa4beea933fb55fc">OnDisable</a> (<a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;zone)</td></tr>
<tr class="separator:ac1fd33de5296c57eaa4beea933fb55fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a179f2f88047da4752e061d2d95ac2ddf" id="r_a179f2f88047da4752e061d2d95ac2ddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a179f2f88047da4752e061d2d95ac2ddf">OnDisable</a> (<a class="el" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html">ScourgeInvasionData::CityAttack</a> &amp;zone)</td></tr>
<tr class="separator:a179f2f88047da4752e061d2d95ac2ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab82b11875771d0efc209c452e4bc0ffd" id="r_ab82b11875771d0efc209c452e4bc0ffd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/da9/classWorldState.html">WorldState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">instance</a> ()</td></tr>
<tr class="separator:ab82b11875771d0efc209c452e4bc0ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a66228290309a4c9dc76994e6f0ab1e2c" id="r_a66228290309a4c9dc76994e6f0ab1e2c"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldStatesMap</a></td></tr>
<tr class="separator:a66228290309a4c9dc76994e6f0ab1e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a61245833b5b6b4ad89c3dd17c3691ef1" id="r_a61245833b5b6b4ad89c3dd17c3691ef1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a> (std::mutex &amp;mutex, <a class="el" href="../../dc/dc9/ObjectGuid_8h.html#a173958393e55b3150391dfb3a6d387ed">GuidVector</a> const &amp;guids, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> worldStateId)</td></tr>
<tr class="separator:a61245833b5b6b4ad89c3dd17c3691ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97eabce4c25bd59dabb9b417574cc2cb" id="r_a97eabce4c25bd59dabb9b417574cc2cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">StopSunsReachPhase</a> (bool forward)</td></tr>
<tr class="separator:a97eabce4c25bd59dabb9b417574cc2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ccc9b698e2449bbde90e85b3e6eda8" id="r_aa0ccc9b698e2449bbde90e85b3e6eda8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a> (bool initial=false)</td></tr>
<tr class="separator:aa0ccc9b698e2449bbde90e85b3e6eda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb1e1ff43eb6b88935b86c875363e40" id="r_a5cb1e1ff43eb6b88935b86c875363e40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a> ()</td></tr>
<tr class="separator:a5cb1e1ff43eb6b88935b86c875363e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd4d4141d81f26e9fb6508b628e7e59" id="r_afbd4d4141d81f26e9fb6508b628e7e59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">StopSunwellGatePhase</a> ()</td></tr>
<tr class="separator:afbd4d4141d81f26e9fb6508b628e7e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8d179e7211636c5cb406356cbc548e" id="r_a4d8d179e7211636c5cb406356cbc548e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a4d8d179e7211636c5cb406356cbc548e">BuffAdalsSongOfBattle</a> ()</td></tr>
<tr class="separator:a4d8d179e7211636c5cb406356cbc548e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f98292f5c55cab7b70fd7c20d8cb5a" id="r_a20f98292f5c55cab7b70fd7c20d8cb5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a20f98292f5c55cab7b70fd7c20d8cb5a">DispelAdalsSongOfBattle</a> ()</td></tr>
<tr class="separator:a20f98292f5c55cab7b70fd7c20d8cb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcfb88f8c931e68b98bfd2f06ce1cee5" id="r_adcfb88f8c931e68b98bfd2f06ce1cee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">BuffMagtheridonTeam</a> (<a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> team)</td></tr>
<tr class="separator:adcfb88f8c931e68b98bfd2f06ce1cee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eafdbdd9c30de839b5768aaf9ae16a8" id="r_a6eafdbdd9c30de839b5768aaf9ae16a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">DispelMagtheridonTeam</a> (<a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> team)</td></tr>
<tr class="separator:a6eafdbdd9c30de839b5768aaf9ae16a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e287b6be058d7260edbbf86d112305" id="r_ab6e287b6be058d7260edbbf86d112305"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#ab6e287b6be058d7260edbbf86d112305">SendScourgeInvasionMail</a> ()</td></tr>
<tr class="separator:ab6e287b6be058d7260edbbf86d112305"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9692b273469befd8d81da34a2318d7e0" id="r_a9692b273469befd8d81da34a2318d7e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldStatesMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a></td></tr>
<tr class="separator:a9692b273469befd8d81da34a2318d7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedccbddea39cd0a6ddf835147ca27da1" id="r_aedccbddea39cd0a6ddf835147ca27da1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a></td></tr>
<tr class="separator:aedccbddea39cd0a6ddf835147ca27da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66fb9980d02e5d6d11b0a1113aba2d39" id="r_a66fb9980d02e5d6d11b0a1113aba2d39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a></td></tr>
<tr class="separator:a66fb9980d02e5d6d11b0a1113aba2d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6408344019152591c457b63601aac4dd" id="r_a6408344019152591c457b63601aac4dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a></td></tr>
<tr class="separator:a6408344019152591c457b63601aac4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3901ed4c6fd2440118bdebdcb632f4" id="r_a9d3901ed4c6fd2440118bdebdcb632f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/db1/structSunsReachReclamationData.html">SunsReachReclamationData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a></td></tr>
<tr class="separator:a9d3901ed4c6fd2440118bdebdcb632f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a623770af3df5cf1f60ad79f4d58dc463" id="r_a623770af3df5cf1f60ad79f4d58dc463"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, std::atomic&lt; <a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a623770af3df5cf1f60ad79f4d58dc463">_transportStates</a></td></tr>
<tr class="separator:a623770af3df5cf1f60ad79f4d58dc463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6fa603f03ebf22874990b5beb37f55" id="r_a8b6fa603f03ebf22874990b5beb37f55"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a></td></tr>
<tr class="separator:a8b6fa603f03ebf22874990b5beb37f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d376afaf495232bbe2fb9939f12765" id="r_a10d376afaf495232bbe2fb9939f12765"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d8a/structScourgeInvasionData.html">ScourgeInvasionData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a></td></tr>
<tr class="separator:a10d376afaf495232bbe2fb9939f12765"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a66228290309a4c9dc76994e6f0ab1e2c" name="a66228290309a4c9dc76994e6f0ab1e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66228290309a4c9dc76994e6f0ab1e2c">&#9670;&#160;</a></span>WorldStatesMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt; <a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldState::WorldStatesMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad14e01bcb94b4edea5d2515cf6cf0868" name="ad14e01bcb94b4edea5d2515cf6cf0868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14e01bcb94b4edea5d2515cf6cf0868">&#9670;&#160;</a></span>WorldState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WorldState::WorldState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   38</span>                       : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a>(<span class="keyword">false</span>), <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a>(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a623770af3df5cf1f60ad79f4d58dc463">_transportStates</a>[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>]      = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>;</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a623770af3df5cf1f60ad79f4d58dc463">_transportStates</a>[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>] = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>;</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a623770af3df5cf1f60ad79f4d58dc463">_transportStates</a>[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>]   = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a>;</div>
<div class="line"><span class="lineno">   43</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_STATE_NONE</div><div class="ttdef"><b>Definition</b> WorldState.h:38</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_THE_THUNDERCALLER</div><div class="ttdef"><b>Definition</b> WorldState.h:31</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_THE_IRON_EAGLE</div><div class="ttdef"><b>Definition</b> WorldState.h:32</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</div><div class="ttdef"><b>Definition</b> WorldState.h:33</div></div>
<div class="ttc" id="aclassWorldState_html_a623770af3df5cf1f60ad79f4d58dc463"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a623770af3df5cf1f60ad79f4d58dc463">WorldState::_transportStates</a></div><div class="ttdeci">std::map&lt; uint32, std::atomic&lt; WorldStateConditionState &gt; &gt; _transportStates</div><div class="ttdef"><b>Definition</b> WorldState.h:326</div></div>
<div class="ttc" id="aclassWorldState_html_a6408344019152591c457b63601aac4dd"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">WorldState::_isMagtheridonHeadSpawnedAlliance</a></div><div class="ttdeci">bool _isMagtheridonHeadSpawnedAlliance</div><div class="ttdef"><b>Definition</b> WorldState.h:324</div></div>
<div class="ttc" id="aclassWorldState_html_a66fb9980d02e5d6d11b0a1113aba2d39"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">WorldState::_isMagtheridonHeadSpawnedHorde</a></div><div class="ttdeci">bool _isMagtheridonHeadSpawnedHorde</div><div class="ttdef"><b>Definition</b> WorldState.h:323</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00326">_transportStates</a>, <a class="el" href="../../#l00038">WORLD_STATE_CONDITION_STATE_NONE</a>, <a class="el" href="../../#l00032">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>, <a class="el" href="../../#l00033">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>, and <a class="el" href="../../#l00031">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>.</p>

</div>
</div>
<a id="ae529d95330f8037a21cea02cc079b0cd" name="ae529d95330f8037a21cea02cc079b0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae529d95330f8037a21cea02cc079b0cd">&#9670;&#160;</a></span>~WorldState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WorldState::~WorldState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   46</span>{</div>
<div class="line"><span class="lineno">   47</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa69e44277bc638ba017ee7fda781d03a" name="aa69e44277bc638ba017ee7fda781d03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa69e44277bc638ba017ee7fda781d03a">&#9670;&#160;</a></span>AddBattlesWon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::AddBattlesWon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1505</span>{</div>
<div class="line"><span class="lineno"> 1506</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1507</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> += count;</div>
<div class="line"><span class="lineno"> 1508</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a63958dd407c96479e4d46dfbfc6d5371">HandleDefendedZones</a>();</div>
<div class="line"><span class="lineno"> 1509</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10">SAVE_ID_SCOURGE_INVASION</a>);</div>
<div class="line"><span class="lineno"> 1510</span>}</div>
<div class="ttc" id="aWorldState_8h_html_affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10">SAVE_ID_SCOURGE_INVASION</a></div><div class="ttdeci">@ SAVE_ID_SCOURGE_INVASION</div><div class="ttdef"><b>Definition</b> WorldState.h:60</div></div>
<div class="ttc" id="aclassWorldState_html_a10d376afaf495232bbe2fb9939f12765"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">WorldState::m_siData</a></div><div class="ttdeci">ScourgeInvasionData m_siData</div><div class="ttdef"><b>Definition</b> WorldState.h:374</div></div>
<div class="ttc" id="aclassWorldState_html_a1b3f1594b47259d2f8b128781e08dbd1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">WorldState::Save</a></div><div class="ttdeci">void Save(WorldStateSaveIds saveId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:188</div></div>
<div class="ttc" id="aclassWorldState_html_a63958dd407c96479e4d46dfbfc6d5371"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a63958dd407c96479e4d46dfbfc6d5371">WorldState::HandleDefendedZones</a></div><div class="ttdeci">void HandleDefendedZones()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1568</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_acefb72f28d000395bc1362cd9a62b26a"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">ScourgeInvasionData::m_siMutex</a></div><div class="ttdeci">std::mutex m_siMutex</div><div class="ttdef"><b>Definition</b> WorldState.h:202</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_aea7079c6f876188857219c574ca0798d"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">ScourgeInvasionData::m_battlesWon</a></div><div class="ttdeci">uint32 m_battlesWon</div><div class="ttdef"><b>Definition</b> WorldState.h:198</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01568">HandleDefendedZones()</a>, <a class="el" href="../../#l00198">ScourgeInvasionData::m_battlesWon</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>, <a class="el" href="../../#l00188">Save()</a>, and <a class="el" href="../../#l00060">SAVE_ID_SCOURGE_INVASION</a>.</p>

</div>
</div>
<a id="a513a4bd7d27428d4551cbbe0048dbeee" name="a513a4bd7d27428d4551cbbe0048dbeee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a513a4bd7d27428d4551cbbe0048dbeee">&#9670;&#160;</a></span>AddPendingInvasion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::AddPendingInvasion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1852</span>{</div>
<div class="line"><span class="lineno"> 1853</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1854</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#af62efb05ce49a3cb764328976f8054f6">m_pendingInvasions</a>.insert(zoneId);</div>
<div class="line"><span class="lineno"> 1855</span>}</div>
<div class="ttc" id="astructScourgeInvasionData_html_af62efb05ce49a3cb764328976f8054f6"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#af62efb05ce49a3cb764328976f8054f6">ScourgeInvasionData::m_pendingInvasions</a></div><div class="ttdeci">std::set&lt; uint32 &gt; m_pendingInvasions</div><div class="ttdef"><b>Definition</b> WorldState.h:204</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00204">ScourgeInvasionData::m_pendingInvasions</a>, <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01737">SummonMouth()</a>.</p>

</div>
</div>
<a id="a36e088e8123065a055429e22d2e68190" name="a36e088e8123065a055429e22d2e68190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e088e8123065a055429e22d2e68190">&#9670;&#160;</a></span>AddPendingPallid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::AddPendingPallid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1864</span>{</div>
<div class="line"><span class="lineno"> 1865</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1866</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a2a2f610d9c398bc82f4e39eea4fbadfc">m_pendingPallids</a>.insert(zoneId);</div>
<div class="line"><span class="lineno"> 1867</span>}</div>
<div class="ttc" id="astructScourgeInvasionData_html_a2a2f610d9c398bc82f4e39eea4fbadfc"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#a2a2f610d9c398bc82f4e39eea4fbadfc">ScourgeInvasionData::m_pendingPallids</a></div><div class="ttdeci">std::set&lt; uint32 &gt; m_pendingPallids</div><div class="ttdef"><b>Definition</b> WorldState.h:205</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00205">ScourgeInvasionData::m_pendingPallids</a>, <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01764">SummonPallid()</a>.</p>

</div>
</div>
<a id="ab9226767ddacaf1bbdbfc911e5f63956" name="ab9226767ddacaf1bbdbfc911e5f63956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9226767ddacaf1bbdbfc911e5f63956">&#9670;&#160;</a></span>AddSunsReachProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::AddSunsReachProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>questId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  568</span>{</div>
<div class="line"><span class="lineno">  569</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counter = 0;</div>
<div class="line"><span class="lineno">  570</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> otherCounter = -1;</div>
<div class="line"><span class="lineno">  571</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> worldState = 0;</div>
<div class="line"><span class="lineno">  572</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> subPhaseMask = 0;</div>
<div class="line"><span class="lineno">  573</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> addedValue = 1;</div>
<div class="line"><span class="lineno">  574</span>    <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno">  575</span>    {</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24">QUEST_ERRATIC_BEHAVIOR</a>:</div>
<div class="line"><span class="lineno">  577</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a>;</div>
<div class="line"><span class="lineno">  578</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a>;</div>
<div class="line"><span class="lineno">  579</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a>;</div>
<div class="line"><span class="lineno">  580</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0">QUEST_SANCTUM_WARDS</a>:</div>
<div class="line"><span class="lineno">  582</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a>;</div>
<div class="line"><span class="lineno">  583</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a>;</div>
<div class="line"><span class="lineno">  584</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a>;</div>
<div class="line"><span class="lineno">  585</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  586</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>:</div>
<div class="line"><span class="lineno">  587</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>;</div>
<div class="line"><span class="lineno">  588</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>;</div>
<div class="line"><span class="lineno">  589</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a>;</div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a>:</div>
<div class="line"><span class="lineno">  592</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>;</div>
<div class="line"><span class="lineno">  593</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>;</div>
<div class="line"><span class="lineno">  594</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a>;</div>
<div class="line"><span class="lineno">  595</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377">QUEST_INTERCEPTING_THE_MANA_CELLS</a>:</div>
<div class="line"><span class="lineno">  597</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>;</div>
<div class="line"><span class="lineno">  598</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>;</div>
<div class="line"><span class="lineno">  599</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84">WORLD_STATE_QUEL_DANAS_PORTAL</a>;</div>
<div class="line"><span class="lineno">  600</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5">QUEST_INTERCEPT_THE_REINFORCEMENTS</a>:</div>
<div class="line"><span class="lineno">  602</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>;</div>
<div class="line"><span class="lineno">  603</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a>;</div>
<div class="line"><span class="lineno">  604</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a>;</div>
<div class="line"><span class="lineno">  605</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3">QUEST_TAKING_THE_HARBOR</a>:</div>
<div class="line"><span class="lineno">  607</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a>;</div>
<div class="line"><span class="lineno">  608</span>            otherCounter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>;</div>
<div class="line"><span class="lineno">  609</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a>;</div>
<div class="line"><span class="lineno">  610</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430">QUEST_MAKING_READY</a>:</div>
<div class="line"><span class="lineno">  612</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671">COUNTER_MAKING_READY</a>;</div>
<div class="line"><span class="lineno">  613</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>;</div>
<div class="line"><span class="lineno">  614</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689">WORLD_STATE_QUEL_DANAS_ANVIL</a>;</div>
<div class="line"><span class="lineno">  615</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  616</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158">QUEST_DISCOVERING_YOUR_ROOTS</a>:</div>
<div class="line"><span class="lineno">  617</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb">COUNTER_DISCOVERING_YOUR_ROOTS</a>;</div>
<div class="line"><span class="lineno">  618</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  619</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  620</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  621</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b">QUEST_A_CHARITABLE_DONATION</a>:</div>
<div class="line"><span class="lineno">  622</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a>;</div>
<div class="line"><span class="lineno">  623</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  624</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  625</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4">QUEST_A_MAGNANIMOUS_BENEFACTOR</a>:</div>
<div class="line"><span class="lineno">  627</span>            counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a>;</div>
<div class="line"><span class="lineno">  628</span>            subPhaseMask = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  629</span>            worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  630</span>            addedValue = 150;</div>
<div class="line"><span class="lineno">  631</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  634</span>    }</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> previousValue = 0;</div>
<div class="line"><span class="lineno">  637</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newValue = 0;</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">if</span> (!subPhaseMask)</div>
<div class="line"><span class="lineno">  640</span>        previousValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  642</span>        previousValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(subPhaseMask);</div>
<div class="line"><span class="lineno">  643</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[counter] += addedValue;</div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">if</span> (!subPhaseMask)</div>
<div class="line"><span class="lineno">  645</span>        newValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  647</span>        newValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(subPhaseMask);</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">if</span> (previousValue != newValue)</div>
<div class="line"><span class="lineno">  649</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, newValue, worldState);</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordtype">bool</span> save = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  652</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counterValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[counter];</div>
<div class="line"><span class="lineno">  653</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> modifier = 1;</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (otherCounter != -1)</div>
<div class="line"><span class="lineno">  655</span>    {</div>
<div class="line"><span class="lineno">  656</span>        modifier = 2;</div>
<div class="line"><span class="lineno">  657</span>        counterValue += <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[otherCounter];</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">if</span> (counterValue &gt;= <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0aa665c623ee4ce5d5942b73e3864328f4">CONFIG_SUNSREACH_COUNTER_MAX</a>) * modifier)</div>
<div class="line"><span class="lineno">  660</span>    {</div>
<div class="line"><span class="lineno">  661</span>        save = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno">  663</span>        {</div>
<div class="line"><span class="lineno">  664</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24">QUEST_ERRATIC_BEHAVIOR</a>:</div>
<div class="line"><span class="lineno">  665</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0">QUEST_SANCTUM_WARDS</a>:</div>
<div class="line"><span class="lineno">  666</span>            {</div>
<div class="line"><span class="lineno">  667</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>)</div>
<div class="line"><span class="lineno">  668</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>);</div>
<div class="line"><span class="lineno">  669</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  670</span>            }</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>:</div>
<div class="line"><span class="lineno">  672</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a>:</div>
<div class="line"><span class="lineno">  673</span>            {</div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>)</div>
<div class="line"><span class="lineno">  675</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>);</div>
<div class="line"><span class="lineno">  676</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  677</span>            }</div>
<div class="line"><span class="lineno">  678</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377">QUEST_INTERCEPTING_THE_MANA_CELLS</a>:</div>
<div class="line"><span class="lineno">  679</span>            {</div>
<div class="line"><span class="lineno">  680</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0)</div>
<div class="line"><span class="lineno">  681</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>);</div>
<div class="line"><span class="lineno">  682</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  683</span>            }</div>
<div class="line"><span class="lineno">  684</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5">QUEST_INTERCEPT_THE_REINFORCEMENTS</a>:</div>
<div class="line"><span class="lineno">  685</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3">QUEST_TAKING_THE_HARBOR</a>:</div>
<div class="line"><span class="lineno">  686</span>            {</div>
<div class="line"><span class="lineno">  687</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>)</div>
<div class="line"><span class="lineno">  688</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">HandleSunsReachPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>);</div>
<div class="line"><span class="lineno">  689</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  690</span>            }</div>
<div class="line"><span class="lineno">  691</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430">QUEST_MAKING_READY</a>:</div>
<div class="line"><span class="lineno">  692</span>            {</div>
<div class="line"><span class="lineno">  693</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0)</div>
<div class="line"><span class="lineno">  694</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>);</div>
<div class="line"><span class="lineno">  695</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  696</span>            }</div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158">QUEST_DISCOVERING_YOUR_ROOTS</a>:</div>
<div class="line"><span class="lineno">  698</span>            {</div>
<div class="line"><span class="lineno">  699</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0)</div>
<div class="line"><span class="lineno">  700</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>);</div>
<div class="line"><span class="lineno">  701</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  702</span>            }</div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b">QUEST_A_CHARITABLE_DONATION</a>:</div>
<div class="line"><span class="lineno">  704</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4">QUEST_A_MAGNANIMOUS_BENEFACTOR</a>:</div>
<div class="line"><span class="lineno">  705</span>            {</div>
<div class="line"><span class="lineno">  706</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0)</div>
<div class="line"><span class="lineno">  707</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>);</div>
<div class="line"><span class="lineno">  708</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  709</span>            }</div>
<div class="line"><span class="lineno">  710</span>        }</div>
<div class="line"><span class="lineno">  711</span>    }</div>
<div class="line"><span class="lineno">  712</span>    <span class="keywordflow">if</span> (save)</div>
<div class="line"><span class="lineno">  713</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  714</span>}</div>
<div class="ttc" id="aDefine_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition</b> Define.h:103</div></div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition</b> Define.h:107</div></div>
<div class="ttc" id="aWorldConfig_8h_html_a468ad15992691eb97dd20680046832e0aa665c623ee4ce5d5942b73e3864328f4"><div class="ttname"><a href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0aa665c623ee4ce5d5942b73e3864328f4">CONFIG_SUNSREACH_COUNTER_MAX</a></div><div class="ttdeci">@ CONFIG_SUNSREACH_COUNTER_MAX</div><div class="ttdef"><b>Definition</b> WorldConfig.h:384</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:56</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_HARBOR</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:50</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689">WORLD_STATE_QUEL_DANAS_ANVIL</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_ANVIL</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:55</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:51</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_SANCTUM</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:53</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_ARMORY</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:52</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84">WORLD_STATE_QUEL_DANAS_PORTAL</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_PORTAL</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:54</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a4f2a85bb3172f682d010d0782c9bcc24">QUEST_ERRATIC_BEHAVIOR</a></div><div class="ttdeci">@ QUEST_ERRATIC_BEHAVIOR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:553</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a6f30cdc73db7de9c5c0c7be0e1b6c377">QUEST_INTERCEPTING_THE_MANA_CELLS</a></div><div class="ttdeci">@ QUEST_INTERCEPTING_THE_MANA_CELLS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:557</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a937beacad369f610742b3d62fe33cab0">QUEST_SANCTUM_WARDS</a></div><div class="ttdeci">@ QUEST_SANCTUM_WARDS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:554</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704a98ebea3b62e2627835de9b62156cf05a">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a></div><div class="ttdeci">@ QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</div><div class="ttdef"><b>Definition</b> WorldState.cpp:555</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ab875551f6415f6ac57dfd81dae4b1af5">QUEST_INTERCEPT_THE_REINFORCEMENTS</a></div><div class="ttdeci">@ QUEST_INTERCEPT_THE_REINFORCEMENTS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:558</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704abadeaae10ba1cf07a4e49d58b27a2430">QUEST_MAKING_READY</a></div><div class="ttdeci">@ QUEST_MAKING_READY</div><div class="ttdef"><b>Definition</b> WorldState.cpp:560</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ac530d05014596aa5ace83a6c92b0b5c4">QUEST_A_MAGNANIMOUS_BENEFACTOR</a></div><div class="ttdeci">@ QUEST_A_MAGNANIMOUS_BENEFACTOR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:563</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704ad53e4065f2edb54c276af531e4cbd158">QUEST_DISCOVERING_YOUR_ROOTS</a></div><div class="ttdeci">@ QUEST_DISCOVERING_YOUR_ROOTS</div><div class="ttdef"><b>Definition</b> WorldState.cpp:561</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf3a2dd8db11cc9c77b39a8eaebce873">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a></div><div class="ttdeci">@ QUEST_DISTRACTION_AT_THE_DEAD_SCAR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:556</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704adf6f0dde850df588195e298e20884dc3">QUEST_TAKING_THE_HARBOR</a></div><div class="ttdeci">@ QUEST_TAKING_THE_HARBOR</div><div class="ttdef"><b>Definition</b> WorldState.cpp:559</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ae92d2d64df97e6d4e504459dbe62a704af367c41748283293358b00d0ceea276b">QUEST_A_CHARITABLE_DONATION</a></div><div class="ttdeci">@ QUEST_A_CHARITABLE_DONATION</div><div class="ttdef"><b>Definition</b> WorldState.cpp:562</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a></div><div class="ttdeci">@ SUBPHASE_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldState.h:227</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a></div><div class="ttdeci">@ SUBPHASE_ANVIL</div><div class="ttdef"><b>Definition</b> WorldState.h:226</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a></div><div class="ttdeci">@ SUBPHASE_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldState.h:228</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a></div><div class="ttdeci">@ SUBPHASE_PORTAL</div><div class="ttdef"><b>Definition</b> WorldState.h:225</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_3_ARMORY</div><div class="ttdef"><b>Definition</b> WorldState.h:219</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_2_SANCTUM</div><div class="ttdef"><b>Definition</b> WorldState.h:218</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_1_STAGING_AREA</div><div class="ttdef"><b>Definition</b> WorldState.h:217</div></div>
<div class="ttc" id="aWorldState_8h_html_aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a></div><div class="ttdeci">@ SUNS_REACH_PHASE_4_HARBOR</div><div class="ttdef"><b>Definition</b> WorldState.h:220</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a></div><div class="ttdeci">@ COUNTER_ERRATIC_BEHAVIOR</div><div class="ttdef"><b>Definition</b> WorldState.h:234</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a></div><div class="ttdeci">@ COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</div><div class="ttdef"><b>Definition</b> WorldState.h:236</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec">COUNTER_INTERCEPTING_THE_MANA_CELLS</a></div><div class="ttdeci">@ COUNTER_INTERCEPTING_THE_MANA_CELLS</div><div class="ttdef"><b>Definition</b> WorldState.h:238</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671">COUNTER_MAKING_READY</a></div><div class="ttdeci">@ COUNTER_MAKING_READY</div><div class="ttdef"><b>Definition</b> WorldState.h:241</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a></div><div class="ttdeci">@ COUNTER_TAKING_THE_HARBOR</div><div class="ttdef"><b>Definition</b> WorldState.h:240</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a></div><div class="ttdeci">@ COUNTER_A_CHARITABLE_DONATION</div><div class="ttdef"><b>Definition</b> WorldState.h:243</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a></div><div class="ttdeci">@ COUNTER_INTERCEPT_THE_REINFORCEMENTS</div><div class="ttdef"><b>Definition</b> WorldState.h:239</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb">COUNTER_DISCOVERING_YOUR_ROOTS</a></div><div class="ttdeci">@ COUNTER_DISCOVERING_YOUR_ROOTS</div><div class="ttdef"><b>Definition</b> WorldState.h:242</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a></div><div class="ttdeci">@ COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</div><div class="ttdef"><b>Definition</b> WorldState.h:237</div></div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a></div><div class="ttdeci">@ COUNTER_SANCTUM_WARDS</div><div class="ttdef"><b>Definition</b> WorldState.h:235</div></div>
<div class="ttc" id="aWorldState_8h_html_affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a></div><div class="ttdeci">@ SAVE_ID_QUEL_DANAS</div><div class="ttdef"><b>Definition</b> WorldState.h:61</div></div>
<div class="ttc" id="aclassWorldState_html_a1123ff0edde32f57a1cc13b275c2e956"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a1123ff0edde32f57a1cc13b275c2e956">WorldState::HandleSunsReachPhaseTransition</a></div><div class="ttdeci">void HandleSunsReachPhaseTransition(uint32 newPhase)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:716</div></div>
<div class="ttc" id="aclassWorldState_html_a61245833b5b6b4ad89c3dd17c3691ef1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">WorldState::SendWorldstateUpdate</a></div><div class="ttdeci">void SendWorldstateUpdate(std::mutex &amp;mutex, GuidVector const &amp;guids, uint32 value, uint32 worldStateId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:543</div></div>
<div class="ttc" id="aclassWorldState_html_a9d3901ed4c6fd2440118bdebdcb632f4"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">WorldState::m_sunsReachData</a></div><div class="ttdeci">SunsReachReclamationData m_sunsReachData</div><div class="ttdef"><b>Definition</b> WorldState.h:325</div></div>
<div class="ttc" id="aclassWorldState_html_aa0cf4fec23a9aa71346996c46d38c58b"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">WorldState::HandleSunsReachSubPhaseTransition</a></div><div class="ttdeci">void HandleSunsReachSubPhaseTransition(int32 subPhaseMask, bool initial=false)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:748</div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition</b> World.h:316</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a0a94a3b69ac5ccfcfae35af007ed375c"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">SunsReachReclamationData::m_subphaseMask</a></div><div class="ttdeci">uint32 m_subphaseMask</div><div class="ttdef"><b>Definition</b> WorldState.h:265</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a0ef2835b702469482926ec4942d0f786"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">SunsReachReclamationData::m_sunsReachReclamationMutex</a></div><div class="ttdeci">std::mutex m_sunsReachReclamationMutex</div><div class="ttdef"><b>Definition</b> WorldState.h:268</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a14253084085c114aa2cfeefdebb0257d"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">SunsReachReclamationData::m_sunsReachReclamationCounters</a></div><div class="ttdeci">uint32 m_sunsReachReclamationCounters[COUNTERS_MAX]</div><div class="ttdef"><b>Definition</b> WorldState.h:266</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a215cec505dd74695704ae7961161e195"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">SunsReachReclamationData::GetPhasePercentage</a></div><div class="ttdeci">uint32 GetPhasePercentage(uint32 phase)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1111</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a67711cd7d43f481161b8f98690d67fe3"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">SunsReachReclamationData::m_phase</a></div><div class="ttdeci">uint32 m_phase</div><div class="ttdef"><b>Definition</b> WorldState.h:264</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a72780ba8e17ccf5513d104eb228b3411"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">SunsReachReclamationData::m_sunsReachReclamationPlayers</a></div><div class="ttdeci">GuidVector m_sunsReachReclamationPlayers</div><div class="ttdef"><b>Definition</b> WorldState.h:267</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_aaee292336c57d967842d63f55e69bf0f"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">SunsReachReclamationData::GetSubPhasePercentage</a></div><div class="ttdeci">uint32 GetSubPhasePercentage(uint32 subPhase)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1122</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00384">CONFIG_SUNSREACH_COUNTER_MAX</a>, <a class="el" href="../../#l00243">COUNTER_A_CHARITABLE_DONATION</a>, <a class="el" href="../../#l00236">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>, <a class="el" href="../../#l00242">COUNTER_DISCOVERING_YOUR_ROOTS</a>, <a class="el" href="../../#l00237">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>, <a class="el" href="../../#l00234">COUNTER_ERRATIC_BEHAVIOR</a>, <a class="el" href="../../#l00239">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>, <a class="el" href="../../#l00238">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>, <a class="el" href="../../#l00241">COUNTER_MAKING_READY</a>, <a class="el" href="../../#l00235">COUNTER_SANCTUM_WARDS</a>, <a class="el" href="../../#l00240">COUNTER_TAKING_THE_HARBOR</a>, <a class="el" href="../../#l01111">SunsReachReclamationData::GetPhasePercentage()</a>, <a class="el" href="../../#l01122">SunsReachReclamationData::GetSubPhasePercentage()</a>, <a class="el" href="../../#l00716">HandleSunsReachPhaseTransition()</a>, <a class="el" href="../../#l00748">HandleSunsReachSubPhaseTransition()</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00265">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00266">SunsReachReclamationData::m_sunsReachReclamationCounters</a>, <a class="el" href="../../#l00268">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00267">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00562">QUEST_A_CHARITABLE_DONATION</a>, <a class="el" href="../../#l00563">QUEST_A_MAGNANIMOUS_BENEFACTOR</a>, <a class="el" href="../../#l00555">QUEST_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>, <a class="el" href="../../#l00561">QUEST_DISCOVERING_YOUR_ROOTS</a>, <a class="el" href="../../#l00556">QUEST_DISTRACTION_AT_THE_DEAD_SCAR</a>, <a class="el" href="../../#l00553">QUEST_ERRATIC_BEHAVIOR</a>, <a class="el" href="../../#l00558">QUEST_INTERCEPT_THE_REINFORCEMENTS</a>, <a class="el" href="../../#l00557">QUEST_INTERCEPTING_THE_MANA_CELLS</a>, <a class="el" href="../../#l00560">QUEST_MAKING_READY</a>, <a class="el" href="../../#l00554">QUEST_SANCTUM_WARDS</a>, <a class="el" href="../../#l00559">QUEST_TAKING_THE_HARBOR</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l00061">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00543">SendWorldstateUpdate()</a>, <a class="el" href="../../#l00227">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00226">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00228">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00225">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00217">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00218">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00219">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00220">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00316">sWorld</a>, <a class="el" href="../../#l00051">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>, <a class="el" href="../../#l00055">WORLD_STATE_QUEL_DANAS_ANVIL</a>, <a class="el" href="../../#l00052">WORLD_STATE_QUEL_DANAS_ARMORY</a>, <a class="el" href="../../#l00050">WORLD_STATE_QUEL_DANAS_HARBOR</a>, <a class="el" href="../../#l00056">WORLD_STATE_QUEL_DANAS_MONUMENT</a>, <a class="el" href="../../#l00054">WORLD_STATE_QUEL_DANAS_PORTAL</a>, and <a class="el" href="../../#l00053">WORLD_STATE_QUEL_DANAS_SANCTUM</a>.</p>

</div>
</div>
<a id="abfad77c7558a708b61ee9999766dbd43" name="abfad77c7558a708b61ee9999766dbd43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfad77c7558a708b61ee9999766dbd43">&#9670;&#160;</a></span>AddSunwellGateProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::AddSunwellGateProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>questId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1144</span>{</div>
<div class="line"><span class="lineno"> 1145</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counter = 0;</div>
<div class="line"><span class="lineno"> 1146</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> worldState = 0;</div>
<div class="line"><span class="lineno"> 1147</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> addedValue = 1;</div>
<div class="line"><span class="lineno"> 1148</span>    <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno"> 1149</span>    {</div>
<div class="line"><span class="lineno"> 1150</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb">QUEST_AGAMATH_THE_FIRST_GATE</a>:</div>
<div class="line"><span class="lineno"> 1151</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52">QUEST_ROHENDOR_THE_SECOND_GATE</a>:</div>
<div class="line"><span class="lineno"> 1152</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc">QUEST_ARCHONISUS_THE_FINAL_GATE</a>:</div>
<div class="line"><span class="lineno"> 1153</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1154</span>        <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1155</span>    }</div>
<div class="line"><span class="lineno"> 1156</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno"> 1157</span>    {</div>
<div class="line"><span class="lineno"> 1158</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c">COUNTER_AGAMATH_THE_FIRST_GATE</a>; worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1159</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f">COUNTER_ROHENDOR_THE_SECOND_GATE</a>; worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1160</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: counter = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>; worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1161</span>        <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1162</span>    }</div>
<div class="line"><span class="lineno"> 1163</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> previousValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>);</div>
<div class="line"><span class="lineno"> 1164</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newValue = 0;</div>
<div class="line"><span class="lineno"> 1165</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[counter] += addedValue;</div>
<div class="line"><span class="lineno"> 1166</span>    newValue = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>);</div>
<div class="line"><span class="lineno"> 1167</span>    <span class="keywordflow">if</span> (previousValue != newValue)</div>
<div class="line"><span class="lineno"> 1168</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, newValue, worldState);</div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keywordtype">bool</span> save = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1170</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[counter] &gt;= <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caadc56c79d9946a6da707fde15807fcfc5">COUNTER_MAX_VAL_REQ_SWP_GATES</a>)</div>
<div class="line"><span class="lineno"> 1171</span>    {</div>
<div class="line"><span class="lineno"> 1172</span>        save = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1173</span>        <span class="keywordflow">switch</span> (questId)</div>
<div class="line"><span class="lineno"> 1174</span>        {</div>
<div class="line"><span class="lineno"> 1175</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb">QUEST_AGAMATH_THE_FIRST_GATE</a>:</div>
<div class="line"><span class="lineno"> 1176</span>            {</div>
<div class="line"><span class="lineno"> 1177</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>)</div>
<div class="line"><span class="lineno"> 1178</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>);</div>
<div class="line"><span class="lineno"> 1179</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1180</span>            }</div>
<div class="line"><span class="lineno"> 1181</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52">QUEST_ROHENDOR_THE_SECOND_GATE</a>:</div>
<div class="line"><span class="lineno"> 1182</span>            {</div>
<div class="line"><span class="lineno"> 1183</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>)</div>
<div class="line"><span class="lineno"> 1184</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>);</div>
<div class="line"><span class="lineno"> 1185</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1186</span>            }</div>
<div class="line"><span class="lineno"> 1187</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc">QUEST_ARCHONISUS_THE_FINAL_GATE</a>:</div>
<div class="line"><span class="lineno"> 1188</span>            {</div>
<div class="line"><span class="lineno"> 1189</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>)</div>
<div class="line"><span class="lineno"> 1190</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">HandleSunwellGateTransition</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>);</div>
<div class="line"><span class="lineno"> 1191</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1192</span>            }</div>
<div class="line"><span class="lineno"> 1193</span>        }</div>
<div class="line"><span class="lineno"> 1194</span>    }</div>
<div class="line"><span class="lineno"> 1195</span>    <span class="keywordflow">if</span> (save)</div>
<div class="line"><span class="lineno"> 1196</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno"> 1197</span>}</div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a></div><div class="ttdeci">@ WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:60</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a></div><div class="ttdeci">@ WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:61</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a></div><div class="ttdeci">@ WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:59</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa5488c9368a2859c5f47656009ebe9eeb">QUEST_AGAMATH_THE_FIRST_GATE</a></div><div class="ttdeci">@ QUEST_AGAMATH_THE_FIRST_GATE</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1137</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caa79773a037e39a86021645c7ef20836dc">QUEST_ARCHONISUS_THE_FINAL_GATE</a></div><div class="ttdeci">@ QUEST_ARCHONISUS_THE_FINAL_GATE</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1139</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caaac3b523ff003dbd2c4630a2f64f9ef52">QUEST_ROHENDOR_THE_SECOND_GATE</a></div><div class="ttdeci">@ QUEST_ROHENDOR_THE_SECOND_GATE</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1138</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ab96270d11fbb117a1f967bc0d80f91caadc56c79d9946a6da707fde15807fcfc5"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ab96270d11fbb117a1f967bc0d80f91caadc56c79d9946a6da707fde15807fcfc5">COUNTER_MAX_VAL_REQ_SWP_GATES</a></div><div class="ttdeci">@ COUNTER_MAX_VAL_REQ_SWP_GATES</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1140</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a></div><div class="ttdeci">@ SUNWELL_ARCHONISUS_GATE3_OPEN</div><div class="ttdef"><b>Definition</b> WorldState.h:252</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a></div><div class="ttdeci">@ SUNWELL_ALL_GATES_CLOSED</div><div class="ttdef"><b>Definition</b> WorldState.h:249</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a></div><div class="ttdeci">@ SUNWELL_AGAMATH_GATE1_OPEN</div><div class="ttdef"><b>Definition</b> WorldState.h:250</div></div>
<div class="ttc" id="aWorldState_8h_html_a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a></div><div class="ttdeci">@ SUNWELL_ROHENDOR_GATE2_OPEN</div><div class="ttdef"><b>Definition</b> WorldState.h:251</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f">COUNTER_ROHENDOR_THE_SECOND_GATE</a></div><div class="ttdeci">@ COUNTER_ROHENDOR_THE_SECOND_GATE</div><div class="ttdef"><b>Definition</b> WorldState.h:257</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d">COUNTER_ARCHONISUS_THE_FINAL_GATE</a></div><div class="ttdeci">@ COUNTER_ARCHONISUS_THE_FINAL_GATE</div><div class="ttdef"><b>Definition</b> WorldState.h:258</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c">COUNTER_AGAMATH_THE_FIRST_GATE</a></div><div class="ttdeci">@ COUNTER_AGAMATH_THE_FIRST_GATE</div><div class="ttdef"><b>Definition</b> WorldState.h:256</div></div>
<div class="ttc" id="aclassWorldState_html_aa45877b4064df238a02c64f33990fba4"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa45877b4064df238a02c64f33990fba4">WorldState::HandleSunwellGateTransition</a></div><div class="ttdeci">void HandleSunwellGateTransition(uint32 newGate)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:869</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a35755bcf3f67cfb2ebc77dcb36fa4dfb"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">SunsReachReclamationData::m_gate</a></div><div class="ttdeci">uint32 m_gate</div><div class="ttdef"><b>Definition</b> WorldState.h:269</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a76b38d6f571386c1d818752e12a66f66"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">SunsReachReclamationData::m_gateCounters</a></div><div class="ttdeci">uint32 m_gateCounters[COUNTERS_MAX_GATES]</div><div class="ttdef"><b>Definition</b> WorldState.h:270</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_a9b5de26596e174f9a94e019fcb998f9e"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">SunsReachReclamationData::GetSunwellGatePercentage</a></div><div class="ttdeci">uint32 GetSunwellGatePercentage(uint32 gate)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1228</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00256">COUNTER_AGAMATH_THE_FIRST_GATE</a>, <a class="el" href="../../#l00258">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>, <a class="el" href="../../#l01140">COUNTER_MAX_VAL_REQ_SWP_GATES</a>, <a class="el" href="../../#l00257">COUNTER_ROHENDOR_THE_SECOND_GATE</a>, <a class="el" href="../../#l01228">SunsReachReclamationData::GetSunwellGatePercentage()</a>, <a class="el" href="../../#l00869">HandleSunwellGateTransition()</a>, <a class="el" href="../../#l00269">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00270">SunsReachReclamationData::m_gateCounters</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00268">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00267">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l01137">QUEST_AGAMATH_THE_FIRST_GATE</a>, <a class="el" href="../../#l01139">QUEST_ARCHONISUS_THE_FINAL_GATE</a>, <a class="el" href="../../#l01138">QUEST_ROHENDOR_THE_SECOND_GATE</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l00061">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00543">SendWorldstateUpdate()</a>, <a class="el" href="../../#l00250">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00249">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00252">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, <a class="el" href="../../#l00251">SUNWELL_ROHENDOR_GATE2_OPEN</a>, <a class="el" href="../../#l00059">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="el" href="../../#l00061">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, and <a class="el" href="../../#l00060">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>.</p>

</div>
</div>
<a id="af8048f1e34b7b5ea702bc37d1f911654" name="af8048f1e34b7b5ea702bc37d1f911654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8048f1e34b7b5ea702bc37d1f911654">&#9670;&#160;</a></span>BroadcastSIWorldstates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::BroadcastSIWorldstates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1525</span>{</div>
<div class="line"><span class="lineno"> 1526</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> victories = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a2ea82fdf833a8154c0516288e92bce2a">GetBattlesWon</a>();</div>
<div class="line"><span class="lineno"> 1527</span> </div>
<div class="line"><span class="lineno"> 1528</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingAzshara = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeac12501f2dfc2e92462231a9171a4a192">SI_REMAINING_AZSHARA</a>);</div>
<div class="line"><span class="lineno"> 1529</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingBlastedLands = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaa749bb9df442ebee816047ad078ad876">SI_REMAINING_BLASTED_LANDS</a>);</div>
<div class="line"><span class="lineno"> 1530</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingBurningSteppes = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6e93dbfb45c3c30c9c8d6c2efdf4df04">SI_REMAINING_BURNING_STEPPES</a>);</div>
<div class="line"><span class="lineno"> 1531</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingEasternPlaguelands = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6edea7eb295c687aab2d49f538b7ff66">SI_REMAINING_EASTERN_PLAGUELANDS</a>);</div>
<div class="line"><span class="lineno"> 1532</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingTanaris = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea91588368688397c3757fd568872cc23b">SI_REMAINING_TANARIS</a>);</div>
<div class="line"><span class="lineno"> 1533</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingWinterspring = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaf588d257fc56fb070049cde06af24005">SI_REMAINING_WINTERSPRING</a>);</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno"> 1536</span>    {</div>
<div class="line"><span class="lineno"> 1537</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno"> 1538</span>        {</div>
<div class="line"><span class="lineno"> 1539</span>            case MAP_EASTERN_KINGDOMS:</div>
<div class="line"><span class="lineno"> 1540</span>            case MAP_KALIMDOR:</div>
<div class="line"><span class="lineno"> 1541</span>                map-&gt;DoForAllPlayers([&amp;](Player* pl)</div>
<div class="line"><span class="lineno"> 1542</span>                {</div>
<div class="line"><span class="lineno"> 1543</span>                    <span class="comment">// do not process players which are not in world</span></div>
<div class="line"><span class="lineno"> 1544</span>                    if (!pl-&gt;IsInWorld())</div>
<div class="line"><span class="lineno"> 1545</span>                        return;</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_AZSHARA, remainingAzshara &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1548</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_BLASTED_LANDS, remainingBlastedLands &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1549</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_BURNING_STEPPES, remainingBurningSteppes &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1550</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_EASTERN_PLAGUELANDS, remainingEasternPlaguelands &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1551</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_TANARIS, remainingTanaris &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1552</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_WINTERSPRING, remainingWinterspring &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1553</span> </div>
<div class="line"><span class="lineno"> 1554</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_VICTORIES, victories);</div>
<div class="line"><span class="lineno"> 1555</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_AZSHARA, remainingAzshara);</div>
<div class="line"><span class="lineno"> 1556</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BLASTED_LANDS, remainingBlastedLands);</div>
<div class="line"><span class="lineno"> 1557</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BURNING_STEPPES, remainingBurningSteppes);</div>
<div class="line"><span class="lineno"> 1558</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_EASTERN_PLAGUELANDS, remainingEasternPlaguelands);</div>
<div class="line"><span class="lineno"> 1559</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_TANARIS, remainingTanaris);</div>
<div class="line"><span class="lineno"> 1560</span>                    pl-&gt;SendUpdateWorldState(WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_WINTERSPRING, remainingWinterspring);</div>
<div class="line"><span class="lineno"> 1561</span>                });</div>
<div class="line"><span class="lineno"> 1562</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1563</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1564</span>        }</div>
<div class="line"><span class="lineno"> 1565</span>    });</div>
<div class="line"><span class="lineno"> 1566</span>}</div>
<div class="ttc" id="aMapMgr_8h_html_a9132749f8376c48b0ca7212eb3293905"><div class="ttname"><a href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a></div><div class="ttdeci">#define sMapMgr</div><div class="ttdef"><b>Definition</b> MapMgr.h:220</div></div>
<div class="ttc" id="aWorldState_8h_html_a3fb19d2d868c1633a094f84570f4a6eea6e93dbfb45c3c30c9c8d6c2efdf4df04"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6e93dbfb45c3c30c9c8d6c2efdf4df04">SI_REMAINING_BURNING_STEPPES</a></div><div class="ttdeci">@ SI_REMAINING_BURNING_STEPPES</div><div class="ttdef"><b>Definition</b> WorldState.h:159</div></div>
<div class="ttc" id="aWorldState_8h_html_a3fb19d2d868c1633a094f84570f4a6eea6edea7eb295c687aab2d49f538b7ff66"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6edea7eb295c687aab2d49f538b7ff66">SI_REMAINING_EASTERN_PLAGUELANDS</a></div><div class="ttdeci">@ SI_REMAINING_EASTERN_PLAGUELANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:160</div></div>
<div class="ttc" id="aWorldState_8h_html_a3fb19d2d868c1633a094f84570f4a6eea91588368688397c3757fd568872cc23b"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea91588368688397c3757fd568872cc23b">SI_REMAINING_TANARIS</a></div><div class="ttdeci">@ SI_REMAINING_TANARIS</div><div class="ttdef"><b>Definition</b> WorldState.h:161</div></div>
<div class="ttc" id="aWorldState_8h_html_a3fb19d2d868c1633a094f84570f4a6eeaa749bb9df442ebee816047ad078ad876"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaa749bb9df442ebee816047ad078ad876">SI_REMAINING_BLASTED_LANDS</a></div><div class="ttdeci">@ SI_REMAINING_BLASTED_LANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:158</div></div>
<div class="ttc" id="aWorldState_8h_html_a3fb19d2d868c1633a094f84570f4a6eeac12501f2dfc2e92462231a9171a4a192"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeac12501f2dfc2e92462231a9171a4a192">SI_REMAINING_AZSHARA</a></div><div class="ttdeci">@ SI_REMAINING_AZSHARA</div><div class="ttdef"><b>Definition</b> WorldState.h:157</div></div>
<div class="ttc" id="aWorldState_8h_html_a3fb19d2d868c1633a094f84570f4a6eeaf588d257fc56fb070049cde06af24005"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaf588d257fc56fb070049cde06af24005">SI_REMAINING_WINTERSPRING</a></div><div class="ttdeci">@ SI_REMAINING_WINTERSPRING</div><div class="ttdef"><b>Definition</b> WorldState.h:162</div></div>
<div class="ttc" id="aclassMap_html"><div class="ttname"><a href="../../d7/db0/classMap.html">Map</a></div><div class="ttdef"><b>Definition</b> Map.h:163</div></div>
<div class="ttc" id="aclassMap_html_abea8ed605071226978969647a0246e86"><div class="ttname"><a href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">Map::GetId</a></div><div class="ttdeci">uint32 GetId() const</div><div class="ttdef"><b>Definition</b> Map.h:229</div></div>
<div class="ttc" id="aclassWorldState_html_a2ea82fdf833a8154c0516288e92bce2a"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a2ea82fdf833a8154c0516288e92bce2a">WorldState::GetBattlesWon</a></div><div class="ttdeci">uint32 GetBattlesWon()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1498</div></div>
<div class="ttc" id="aclassWorldState_html_af6e4ceea71e4863c4cb0558af3a41292"><div class="ttname"><a href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">WorldState::GetSIRemaining</a></div><div class="ttdeci">uint32 GetSIRemaining(SIRemaining remaining) const</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1458</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01498">GetBattlesWon()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l01458">GetSIRemaining()</a>, <a class="el" href="../../#l00157">SI_REMAINING_AZSHARA</a>, <a class="el" href="../../#l00158">SI_REMAINING_BLASTED_LANDS</a>, <a class="el" href="../../#l00159">SI_REMAINING_BURNING_STEPPES</a>, <a class="el" href="../../#l00160">SI_REMAINING_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00161">SI_REMAINING_TANARIS</a>, <a class="el" href="../../#l00162">SI_REMAINING_WINTERSPRING</a>, and <a class="el" href="../../#l00220">sMapMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01290">StartScourgeInvasion()</a>, <a class="el" href="../../#l01437">StopScourgeInvasion()</a>, and <a class="el" href="../../#l00305">Update()</a>.</p>

</div>
</div>
<a id="a4d8d179e7211636c5cb406356cbc548e" name="a4d8d179e7211636c5cb406356cbc548e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8d179e7211636c5cb406356cbc548e">&#9670;&#160;</a></span>BuffAdalsSongOfBattle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::BuffAdalsSongOfBattle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  490</span>{</div>
<div class="line"><span class="lineno">  491</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  492</span>    {</div>
<div class="line"><span class="lineno">  493</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  494</span>        {</div>
<div class="line"><span class="lineno">  495</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  496</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  497</span>                {</div>
<div class="line"><span class="lineno">  498</span>                    if (player-&gt;GetZoneId() == AREA_SHATTRATH_CITY)</div>
<div class="line"><span class="lineno">  499</span>                        player-&gt;CastSpell(player, SPELL_ADAL_SONG_OF_BATTLE, true);</div>
<div class="line"><span class="lineno">  500</span>                });</div>
<div class="line"><span class="lineno">  501</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  502</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  503</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462">MAP_TEMPEST_KEEP_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4">MAP_TEMPEST_KEEP_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  505</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  506</span>                {</div>
<div class="line"><span class="lineno">  507</span>                    player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  508</span>                });</div>
<div class="line"><span class="lineno">  509</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  510</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  511</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  512</span>        }</div>
<div class="line"><span class="lineno">  513</span>    });</div>
<div class="line"><span class="lineno">  514</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462">MAP_TEMPEST_KEEP_THE_BOTANICA</a></div><div class="ttdeci">@ MAP_TEMPEST_KEEP_THE_BOTANICA</div><div class="ttdef"><b>Definition</b> AreaDefines.h:232</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a></div><div class="ttdeci">@ MAP_TEMPEST_KEEP_THE_ARCATRAZ</div><div class="ttdef"><b>Definition</b> AreaDefines.h:231</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4">MAP_TEMPEST_KEEP_THE_MECHANAR</a></div><div class="ttdeci">@ MAP_TEMPEST_KEEP_THE_MECHANAR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:233</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a></div><div class="ttdeci">@ SPELL_ADAL_SONG_OF_BATTLE</div><div class="ttdef"><b>Definition</b> WorldState.h:50</div></div>
<div class="ttc" id="aclassMap_html_aa5eada6f20e4dfecef62fe82e6668946"><div class="ttname"><a href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">Map::DoForAllPlayers</a></div><div class="ttdeci">void DoForAllPlayers(std::function&lt; void(Player *)&gt; exec)</div><div class="ttdef"><b>Definition</b> Map.cpp:2911</div></div>
<div class="ttc" id="aclassPlayer_html"><div class="ttname"><a href="../../d2/d4b/classPlayer.html">Player</a></div><div class="ttdef"><b>Definition</b> Player.h:1066</div></div>
<div class="ttc" id="aclassUnit_html_aa3ca95f7a14041f562ed69c3994afdfc"><div class="ttname"><a href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(SpellCastTargets const &amp;targets, SpellInfo const *spellInfo, CustomSpellValues const *value, TriggerCastFlags triggerFlags=TRIGGERED_NONE, Item *castItem=nullptr, AuraEffect const *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition</b> Unit.cpp:1194</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01194">Unit::CastSpell()</a>, <a class="el" href="../../#l02911">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l00231">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>, <a class="el" href="../../#l00232">MAP_TEMPEST_KEEP_THE_BOTANICA</a>, <a class="el" href="../../#l00233">MAP_TEMPEST_KEEP_THE_MECHANAR</a>, <a class="el" href="../../#l00220">sMapMgr</a>, and <a class="el" href="../../#l00050">SPELL_ADAL_SONG_OF_BATTLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00264">HandleExternalEvent()</a>.</p>

</div>
</div>
<a id="adcfb88f8c931e68b98bfd2f06ce1cee5" name="adcfb88f8c931e68b98bfd2f06ce1cee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcfb88f8c931e68b98bfd2f06ce1cee5">&#9670;&#160;</a></span>BuffMagtheridonTeam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::BuffMagtheridonTeam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td>
          <td class="paramname"><em>team</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  424</span>{</div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  426</span>    {</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  428</span>        {</div>
<div class="line"><span class="lineno">  429</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  430</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  431</span>                {</div>
<div class="line"><span class="lineno">  432</span>                    if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_ALLIANCE &amp;&amp; team == TEAM_ALLIANCE)</div>
<div class="line"><span class="lineno">  433</span>                        player-&gt;CastSpell(player, SPELL_TROLLBANES_COMMAND, true);</div>
<div class="line"><span class="lineno">  434</span>                    else if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_HORDE &amp;&amp; team == TEAM_HORDE)</div>
<div class="line"><span class="lineno">  435</span>                        player-&gt;CastSpell(player, SPELL_NAZGRELS_FAVOR, true);</div>
<div class="line"><span class="lineno">  436</span>                });</div>
<div class="line"><span class="lineno">  437</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  438</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  439</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a">MAP_HELLFIRE_CITADEL_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d">MAP_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  442</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  443</span>                {</div>
<div class="line"><span class="lineno">  444</span>                    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  445</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  446</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  447</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  448</span>                });</div>
<div class="line"><span class="lineno">  449</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  450</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  451</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  452</span>        }</div>
<div class="line"><span class="lineno">  453</span>    });</div>
<div class="line"><span class="lineno">  454</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a></div><div class="ttdeci">@ MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</div><div class="ttdef"><b>Definition</b> AreaDefines.h:223</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a">MAP_HELLFIRE_CITADEL_RAMPARTS</a></div><div class="ttdeci">@ MAP_HELLFIRE_CITADEL_RAMPARTS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:224</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a></div><div class="ttdeci">@ MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:222</div></div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d">MAP_MAGTHERIDONS_LAIR</a></div><div class="ttdeci">@ MAP_MAGTHERIDONS_LAIR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:225</div></div>
<div class="ttc" id="aSharedDefines_8h_html_abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a></div><div class="ttdeci">@ TEAM_ALLIANCE</div><div class="ttdef"><b>Definition</b> SharedDefines.h:771</div></div>
<div class="ttc" id="aSharedDefines_8h_html_abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a></div><div class="ttdeci">@ TEAM_HORDE</div><div class="ttdef"><b>Definition</b> SharedDefines.h:772</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a></div><div class="ttdeci">@ SPELL_NAZGRELS_FAVOR</div><div class="ttdef"><b>Definition</b> WorldState.h:53</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a></div><div class="ttdeci">@ SPELL_TROLLBANES_COMMAND</div><div class="ttdef"><b>Definition</b> WorldState.h:52</div></div>
<div class="ttc" id="aclassPlayer_html_a4874f5c152e187c381c2a349f16aa0d4"><div class="ttname"><a href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">Player::GetTeamId</a></div><div class="ttdeci">TeamId GetTeamId(bool original=false) const</div><div class="ttdef"><b>Definition</b> Player.h:2100</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01194">Unit::CastSpell()</a>, <a class="el" href="../../#l02911">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l02100">Player::GetTeamId()</a>, <a class="el" href="../../#l00224">MAP_HELLFIRE_CITADEL_RAMPARTS</a>, <a class="el" href="../../#l00223">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00222">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l00225">MAP_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l00220">sMapMgr</a>, <a class="el" href="../../#l00053">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00052">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00771">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00772">TEAM_HORDE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00264">HandleExternalEvent()</a>.</p>

</div>
</div>
<a id="a20f98292f5c55cab7b70fd7c20d8cb5a" name="a20f98292f5c55cab7b70fd7c20d8cb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f98292f5c55cab7b70fd7c20d8cb5a">&#9670;&#160;</a></span>DispelAdalsSongOfBattle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::DispelAdalsSongOfBattle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  517</span>{</div>
<div class="line"><span class="lineno">  518</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  519</span>    {</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  521</span>        {</div>
<div class="line"><span class="lineno">  522</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  523</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  524</span>                {</div>
<div class="line"><span class="lineno">  525</span>                    if (player-&gt;GetZoneId() == AREA_SHATTRATH_CITY)</div>
<div class="line"><span class="lineno">  526</span>                        player-&gt;RemoveAurasDueToSpell(SPELL_ADAL_SONG_OF_BATTLE);</div>
<div class="line"><span class="lineno">  527</span>                });</div>
<div class="line"><span class="lineno">  528</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  529</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba66eaa4e30eeef21c289cca0c44137edf">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  530</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba511482b3d15a41453a219a8431213462">MAP_TEMPEST_KEEP_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  531</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba8042aff64bde7d3eef7074fd7f58e7a4">MAP_TEMPEST_KEEP_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  532</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  533</span>                {</div>
<div class="line"><span class="lineno">  534</span>                    player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>);</div>
<div class="line"><span class="lineno">  535</span>                });</div>
<div class="line"><span class="lineno">  536</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  537</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  538</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  539</span>        }</div>
<div class="line"><span class="lineno">  540</span>    });</div>
<div class="line"><span class="lineno">  541</span>}</div>
<div class="ttc" id="aclassUnit_html_aac612f06e84142d92dcfc432b5feb4ac"><div class="ttname"><a href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">Unit::RemoveAurasDueToSpell</a></div><div class="ttdeci">void RemoveAurasDueToSpell(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, uint8 reqEffMask=0, AuraRemoveMode removeMode=AURA_REMOVE_BY_DEFAULT)</div><div class="ttdef"><b>Definition</b> Unit.cpp:5032</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02911">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l00231">MAP_TEMPEST_KEEP_THE_ARCATRAZ</a>, <a class="el" href="../../#l00232">MAP_TEMPEST_KEEP_THE_BOTANICA</a>, <a class="el" href="../../#l00233">MAP_TEMPEST_KEEP_THE_MECHANAR</a>, <a class="el" href="../../#l05032">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00220">sMapMgr</a>, and <a class="el" href="../../#l00050">SPELL_ADAL_SONG_OF_BATTLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00305">Update()</a>.</p>

</div>
</div>
<a id="a6eafdbdd9c30de839b5768aaf9ae16a8" name="a6eafdbdd9c30de839b5768aaf9ae16a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eafdbdd9c30de839b5768aaf9ae16a8">&#9670;&#160;</a></span>DispelMagtheridonTeam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::DispelMagtheridonTeam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td>
          <td class="paramname"><em>team</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  457</span>{</div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;DoForAllMaps([&amp;](<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map) -&gt; <span class="keywordtype">void</span></div>
<div class="line"><span class="lineno">  459</span>    {</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">switch</span> (map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#abea8ed605071226978969647a0246e86">GetId</a>())</div>
<div class="line"><span class="lineno">  461</span>        {</div>
<div class="line"><span class="lineno">  462</span>            case MAP_OUTLAND:</div>
<div class="line"><span class="lineno">  463</span>                map-&gt;DoForAllPlayers([&amp;](Player* player)</div>
<div class="line"><span class="lineno">  464</span>                {</div>
<div class="line"><span class="lineno">  465</span>                    if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_ALLIANCE &amp;&amp; team == TEAM_ALLIANCE)</div>
<div class="line"><span class="lineno">  466</span>                        player-&gt;RemoveAurasDueToSpell(SPELL_TROLLBANES_COMMAND);</div>
<div class="line"><span class="lineno">  467</span>                    else if (player-&gt;GetZoneId() == AREA_HELLFIRE_PENINSULA &amp;&amp; player-&gt;GetTeamId() == TEAM_HORDE &amp;&amp; team == TEAM_HORDE)</div>
<div class="line"><span class="lineno">  468</span>                        player-&gt;RemoveAurasDueToSpell(SPELL_NAZGRELS_FAVOR);</div>
<div class="line"><span class="lineno">  469</span>                });</div>
<div class="line"><span class="lineno">  470</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  471</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbac81485d22dff8d6a4ed903b6e4b766e2">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba0486a02047f797c0b010499b4d157f20">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  473</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba749687f0b98762ba7b58242f0ce6d47a">MAP_HELLFIRE_CITADEL_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  474</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cbad429d04315a23b910d4c062f2b87060d">MAP_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  475</span>                map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aa5eada6f20e4dfecef62fe82e6668946">DoForAllPlayers</a>([&amp;](<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player)</div>
<div class="line"><span class="lineno">  476</span>                {</div>
<div class="line"><span class="lineno">  477</span>                    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  478</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>);</div>
<div class="line"><span class="lineno">  479</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a> &amp;&amp; team == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  480</span>                        player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>);</div>
<div class="line"><span class="lineno">  481</span>                });</div>
<div class="line"><span class="lineno">  482</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  483</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  484</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  485</span>        }</div>
<div class="line"><span class="lineno">  486</span>    });</div>
<div class="line"><span class="lineno">  487</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02911">Map::DoForAllPlayers()</a>, <a class="el" href="../../#l00229">Map::GetId()</a>, <a class="el" href="../../#l02100">Player::GetTeamId()</a>, <a class="el" href="../../#l00224">MAP_HELLFIRE_CITADEL_RAMPARTS</a>, <a class="el" href="../../#l00223">MAP_HELLFIRE_CITADEL_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00222">MAP_HELLFIRE_CITADEL_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l00225">MAP_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l05032">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00220">sMapMgr</a>, <a class="el" href="../../#l00053">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00052">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00771">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00772">TEAM_HORDE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00264">HandleExternalEvent()</a>.</p>

</div>
</div>
<a id="af41ca189b0ec20d9dc3f78d7f191011e" name="af41ca189b0ec20d9dc3f78d7f191011e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af41ca189b0ec20d9dc3f78d7f191011e">&#9670;&#160;</a></span>FillInitialWorldStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::FillInitialWorldStates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html">WorldPackets::WorldState::InitWorldStates</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1952</span>{</div>
<div class="line"><span class="lineno"> 1953</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a> != <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a647b0f36eda55bfcd44ea079847f4b39">STATE_0_DISABLED</a>) <span class="comment">// scourge invasion active - need to send all worldstates</span></div>
<div class="line"><span class="lineno"> 1954</span>    {</div>
<div class="line"><span class="lineno"> 1955</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> victories = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a2ea82fdf833a8154c0516288e92bce2a">GetBattlesWon</a>();</div>
<div class="line"><span class="lineno"> 1956</span> </div>
<div class="line"><span class="lineno"> 1957</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingAzshara = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeac12501f2dfc2e92462231a9171a4a192">SI_REMAINING_AZSHARA</a>);</div>
<div class="line"><span class="lineno"> 1958</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingBlastedLands = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaa749bb9df442ebee816047ad078ad876">SI_REMAINING_BLASTED_LANDS</a>);</div>
<div class="line"><span class="lineno"> 1959</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingBurningSteppes = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6e93dbfb45c3c30c9c8d6c2efdf4df04">SI_REMAINING_BURNING_STEPPES</a>);</div>
<div class="line"><span class="lineno"> 1960</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingEasternPlaguelands = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6edea7eb295c687aab2d49f538b7ff66">SI_REMAINING_EASTERN_PLAGUELANDS</a>);</div>
<div class="line"><span class="lineno"> 1961</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingTanaris = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea91588368688397c3757fd568872cc23b">SI_REMAINING_TANARIS</a>);</div>
<div class="line"><span class="lineno"> 1962</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remainingWinterspring = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaf588d257fc56fb070049cde06af24005">SI_REMAINING_WINTERSPRING</a>);</div>
<div class="line"><span class="lineno"> 1963</span> </div>
<div class="line"><span class="lineno"> 1964</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.reserve(13);</div>
<div class="line"><span class="lineno"> 1965</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baed62628c57ce0036ccc3482005118670">WORLD_STATE_SCOURGE_INVASION_AZSHARA</a>, remainingAzshara &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1966</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba0ec185507377f0f64cbfe8e2cd6dad6d">WORLD_STATE_SCOURGE_INVASION_BLASTED_LANDS</a>, remainingBlastedLands &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1967</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba2e20047f1517986f527570f7e98f3434">WORLD_STATE_SCOURGE_INVASION_BURNING_STEPPES</a>, remainingBurningSteppes &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1968</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba073ac47221ac978a57f28b3152e0bea9">WORLD_STATE_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>, remainingEasternPlaguelands &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1969</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba7091f2c7059746b1e883eb214539d0cb">WORLD_STATE_SCOURGE_INVASION_TANARIS</a>, remainingTanaris &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1970</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba8b96ce3c697740085a8261cb97cdc13f">WORLD_STATE_SCOURGE_INVASION_WINTERSPRING</a>, remainingWinterspring &gt; 0 ? 1 : 0);</div>
<div class="line"><span class="lineno"> 1971</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba053f97bde62700718e3ae0c81cc8bc11">WORLD_STATE_SCOURGE_INVASION_VICTORIES</a>, victories);</div>
<div class="line"><span class="lineno"> 1972</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac0b6bfa9b336c2d15a35e1ecc8c3a8e7">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_AZSHARA</a>, remainingAzshara);</div>
<div class="line"><span class="lineno"> 1973</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baa2b78029b4c8cacf5581220d8b69765d">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BLASTED_LANDS</a>, remainingBlastedLands);</div>
<div class="line"><span class="lineno"> 1974</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba14f45b0e6058f6dc8d4ee8b1c9723685">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BURNING_STEPPES</a>, remainingBurningSteppes);</div>
<div class="line"><span class="lineno"> 1975</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baf13988eedf0754f51afa0c87aa52bab8">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_EASTERN_PLAGUELANDS</a>, remainingEasternPlaguelands);</div>
<div class="line"><span class="lineno"> 1976</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab81a5089e8feb6024b446afbcef5c9ef">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_TANARIS</a>, remainingTanaris);</div>
<div class="line"><span class="lineno"> 1977</span>        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba7460c02a519692fedf7bea1199758d0a">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_WINTERSPRING</a>, remainingWinterspring);</div>
<div class="line"><span class="lineno"> 1978</span>    }</div>
<div class="line"><span class="lineno"> 1979</span> </div>
<div class="line"><span class="lineno"> 1980</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno"> 1981</span>    {</div>
<div class="line"><span class="lineno"> 1982</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno"> 1983</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a>:</div>
<div class="line"><span class="lineno"> 1984</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a>:</div>
<div class="line"><span class="lineno"> 1985</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a>:</div>
<div class="line"><span class="lineno"> 1986</span>        {</div>
<div class="line"><span class="lineno"> 1987</span>            <span class="comment">// Sunwell Reclamation</span></div>
<div class="line"><span class="lineno"> 1988</span>            <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno"> 1989</span>            {</div>
<div class="line"><span class="lineno"> 1990</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>:</div>
<div class="line"><span class="lineno"> 1991</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac513079d0c4766e09dc256367b5c1065">WORLD_STATE_QUEL_DANAS_SANCTUM</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>));</div>
<div class="line"><span class="lineno"> 1992</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1993</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>:</div>
<div class="line"><span class="lineno"> 1994</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac9442ece4a8caafbd2e8d76a6186bc64">WORLD_STATE_QUEL_DANAS_ARMORY</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>));</div>
<div class="line"><span class="lineno"> 1995</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1996</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>:</div>
<div class="line"><span class="lineno"> 1997</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba361d27a4d3da5cefbc7c7d25aecd8e3a">WORLD_STATE_QUEL_DANAS_HARBOR</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>));</div>
<div class="line"><span class="lineno"> 1998</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1999</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>:</div>
<div class="line"><span class="lineno"> 2000</span>                    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0)</div>
<div class="line"><span class="lineno"> 2001</span>                        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab8a463c68e0636e8bf99d7743fda6509">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>));</div>
<div class="line"><span class="lineno"> 2002</span>                    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0)</div>
<div class="line"><span class="lineno"> 2003</span>                        packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba23c2e83b7fe4dcae33037b9f798878c1">WORLD_STATE_QUEL_DANAS_MONUMENT</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>));</div>
<div class="line"><span class="lineno"> 2004</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2005</span>            }</div>
<div class="line"><span class="lineno"> 2006</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a> &amp;&amp; (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0)</div>
<div class="line"><span class="lineno"> 2007</span>                packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baca9a0055f57978d36052050d211dbb84">WORLD_STATE_QUEL_DANAS_PORTAL</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>));</div>
<div class="line"><span class="lineno"> 2008</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a> &amp;&amp; (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0)</div>
<div class="line"><span class="lineno"> 2009</span>                packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba66acdf83ce5e091e8360e71286fcd689">WORLD_STATE_QUEL_DANAS_ANVIL</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>));</div>
<div class="line"><span class="lineno"> 2010</span>            packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96">WORLD_STATE_QUEL_DANAS_MUSIC</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno"> 2011</span> </div>
<div class="line"><span class="lineno"> 2012</span>            <span class="comment">// Sunwell Gates</span></div>
<div class="line"><span class="lineno"> 2013</span>            <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno"> 2014</span>            {</div>
<div class="line"><span class="lineno"> 2015</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>:</div>
<div class="line"><span class="lineno"> 2016</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>));</div>
<div class="line"><span class="lineno"> 2017</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2018</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>:</div>
<div class="line"><span class="lineno"> 2019</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>));</div>
<div class="line"><span class="lineno"> 2020</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2021</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>:</div>
<div class="line"><span class="lineno"> 2022</span>                    packet.<a class="code hl_variable" href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">Worldstates</a>.emplace_back(<a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a9b5de26596e174f9a94e019fcb998f9e">GetSunwellGatePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>));</div>
<div class="line"><span class="lineno"> 2023</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2024</span>            }</div>
<div class="line"><span class="lineno"> 2025</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2026</span>        }</div>
<div class="line"><span class="lineno"> 2027</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2028</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2029</span>    }</div>
<div class="line"><span class="lineno"> 2030</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a></div><div class="ttdeci">@ AREA_ISLE_OF_QUEL_DANAS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:140</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a></div><div class="ttdeci">@ AREA_MAGISTERS_TERRACE</div><div class="ttdef"><b>Definition</b> AreaDefines.h:143</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a></div><div class="ttdeci">@ AREA_SUNWELL_PLATEAU</div><div class="ttdef"><b>Definition</b> AreaDefines.h:139</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a></div><div class="ttdeci">@ AREA_SHATTRATH_CITY</div><div class="ttdef"><b>Definition</b> AreaDefines.h:118</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba053f97bde62700718e3ae0c81cc8bc11"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba053f97bde62700718e3ae0c81cc8bc11">WORLD_STATE_SCOURGE_INVASION_VICTORIES</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_VICTORIES</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:24</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba073ac47221ac978a57f28b3152e0bea9"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba073ac47221ac978a57f28b3152e0bea9">WORLD_STATE_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_EASTERN_PLAGUELANDS</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:32</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba0ec185507377f0f64cbfe8e2cd6dad6d"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba0ec185507377f0f64cbfe8e2cd6dad6d">WORLD_STATE_SCOURGE_INVASION_BLASTED_LANDS</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_BLASTED_LANDS</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:29</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba14f45b0e6058f6dc8d4ee8b1c9723685"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba14f45b0e6058f6dc8d4ee8b1c9723685">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BURNING_STEPPES</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BURNING_STEPPES</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:37</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba2e20047f1517986f527570f7e98f3434"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba2e20047f1517986f527570f7e98f3434">WORLD_STATE_SCOURGE_INVASION_BURNING_STEPPES</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_BURNING_STEPPES</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:30</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba7091f2c7059746b1e883eb214539d0cb"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba7091f2c7059746b1e883eb214539d0cb">WORLD_STATE_SCOURGE_INVASION_TANARIS</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_TANARIS</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:31</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba7460c02a519692fedf7bea1199758d0a"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba7460c02a519692fedf7bea1199758d0a">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_WINTERSPRING</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_WINTERSPRING</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:40</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21ba8b96ce3c697740085a8261cb97cdc13f"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba8b96ce3c697740085a8261cb97cdc13f">WORLD_STATE_SCOURGE_INVASION_WINTERSPRING</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_WINTERSPRING</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:27</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21baa2b78029b4c8cacf5581220d8b69765d"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baa2b78029b4c8cacf5581220d8b69765d">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BLASTED_LANDS</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BLASTED_LANDS</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:36</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bab81a5089e8feb6024b446afbcef5c9ef"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bab81a5089e8feb6024b446afbcef5c9ef">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_TANARIS</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_TANARIS</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:39</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96">WORLD_STATE_QUEL_DANAS_MUSIC</a></div><div class="ttdeci">@ WORLD_STATE_QUEL_DANAS_MUSIC</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:49</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21bac0b6bfa9b336c2d15a35e1ecc8c3a8e7"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21bac0b6bfa9b336c2d15a35e1ecc8c3a8e7">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_AZSHARA</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_AZSHARA</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:35</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21baed62628c57ce0036ccc3482005118670"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baed62628c57ce0036ccc3482005118670">WORLD_STATE_SCOURGE_INVASION_AZSHARA</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_AZSHARA</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:28</div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_ae6baf1e387f45e029dcac6faea13c21baf13988eedf0754f51afa0c87aa52bab8"><div class="ttname"><a href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baf13988eedf0754f51afa0c87aa52bab8">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_EASTERN_PLAGUELANDS</a></div><div class="ttdeci">@ WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_EASTERN_PLAGUELANDS</div><div class="ttdef"><b>Definition</b> WorldStateDefines.h:38</div></div>
<div class="ttc" id="aWorldState_8h_html_aecf9527110a7255a02e5f9add33dd690a647b0f36eda55bfcd44ea079847f4b39"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a647b0f36eda55bfcd44ea079847f4b39">STATE_0_DISABLED</a></div><div class="ttdeci">@ STATE_0_DISABLED</div><div class="ttdef"><b>Definition</b> WorldState.h:125</div></div>
<div class="ttc" id="aclassWorldPackets_1_1WorldState_1_1InitWorldStates_html_a29ffba2a130f0b93d61b2025255502fb"><div class="ttname"><a href="../../d6/dd8/classWorldPackets_1_1WorldState_1_1InitWorldStates.html#a29ffba2a130f0b93d61b2025255502fb">WorldPackets::WorldState::InitWorldStates::Worldstates</a></div><div class="ttdeci">std::vector&lt; WorldStateInfo &gt; Worldstates</div><div class="ttdef"><b>Definition</b> WorldStatePackets.h:46</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_acb26a954f14aec654513b16e5e53cad8"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">ScourgeInvasionData::m_state</a></div><div class="ttdeci">SIState m_state</div><div class="ttdef"><b>Definition</b> WorldState.h:195</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00140">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00143">AREA_MAGISTERS_TERRACE</a>, <a class="el" href="../../#l00118">AREA_SHATTRATH_CITY</a>, <a class="el" href="../../#l00139">AREA_SUNWELL_PLATEAU</a>, <a class="el" href="../../#l01498">GetBattlesWon()</a>, <a class="el" href="../../#l01111">SunsReachReclamationData::GetPhasePercentage()</a>, <a class="el" href="../../#l01458">GetSIRemaining()</a>, <a class="el" href="../../#l01122">SunsReachReclamationData::GetSubPhasePercentage()</a>, <a class="el" href="../../#l01228">SunsReachReclamationData::GetSunwellGatePercentage()</a>, <a class="el" href="../../#l00269">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00195">ScourgeInvasionData::m_state</a>, <a class="el" href="../../#l00265">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00157">SI_REMAINING_AZSHARA</a>, <a class="el" href="../../#l00158">SI_REMAINING_BLASTED_LANDS</a>, <a class="el" href="../../#l00159">SI_REMAINING_BURNING_STEPPES</a>, <a class="el" href="../../#l00160">SI_REMAINING_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00161">SI_REMAINING_TANARIS</a>, <a class="el" href="../../#l00162">SI_REMAINING_WINTERSPRING</a>, <a class="el" href="../../#l00125">STATE_0_DISABLED</a>, <a class="el" href="../../#l00227">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00226">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00228">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00225">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00217">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00218">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00219">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00220">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00250">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00249">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00251">SUNWELL_ROHENDOR_GATE2_OPEN</a>, <a class="el" href="../../#l00059">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="el" href="../../#l00061">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, <a class="el" href="../../#l00051">WORLD_STATE_QUEL_DANAS_ALCHEMY_LAB</a>, <a class="el" href="../../#l00055">WORLD_STATE_QUEL_DANAS_ANVIL</a>, <a class="el" href="../../#l00052">WORLD_STATE_QUEL_DANAS_ARMORY</a>, <a class="el" href="../../#l00050">WORLD_STATE_QUEL_DANAS_HARBOR</a>, <a class="el" href="../../#l00056">WORLD_STATE_QUEL_DANAS_MONUMENT</a>, <a class="el" href="../../#l00049">WORLD_STATE_QUEL_DANAS_MUSIC</a>, <a class="el" href="../../#l00054">WORLD_STATE_QUEL_DANAS_PORTAL</a>, <a class="el" href="../../#l00053">WORLD_STATE_QUEL_DANAS_SANCTUM</a>, <a class="el" href="../../#l00060">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>, <a class="el" href="../../#l00028">WORLD_STATE_SCOURGE_INVASION_AZSHARA</a>, <a class="el" href="../../#l00029">WORLD_STATE_SCOURGE_INVASION_BLASTED_LANDS</a>, <a class="el" href="../../#l00030">WORLD_STATE_SCOURGE_INVASION_BURNING_STEPPES</a>, <a class="el" href="../../#l00032">WORLD_STATE_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00035">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_AZSHARA</a>, <a class="el" href="../../#l00036">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BLASTED_LANDS</a>, <a class="el" href="../../#l00037">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_BURNING_STEPPES</a>, <a class="el" href="../../#l00038">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00039">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_TANARIS</a>, <a class="el" href="../../#l00040">WORLD_STATE_SCOURGE_INVASION_NECROPOLIS_WINTERSPRING</a>, <a class="el" href="../../#l00031">WORLD_STATE_SCOURGE_INVASION_TANARIS</a>, <a class="el" href="../../#l00024">WORLD_STATE_SCOURGE_INVASION_VICTORIES</a>, <a class="el" href="../../#l00027">WORLD_STATE_SCOURGE_INVASION_WINTERSPRING</a>, and <a class="el" href="../../#l00046">WorldPackets::WorldState::InitWorldStates::Worldstates</a>.</p>

</div>
</div>
<a id="a0729184dcf24b56d3c09962e64b0f04a" name="a0729184dcf24b56d3c09962e64b0f04a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0729184dcf24b56d3c09962e64b0f04a">&#9670;&#160;</a></span>GetActiveZones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::GetActiveZones </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1915</span>{</div>
<div class="line"><span class="lineno"> 1916</span>    <span class="keywordtype">size_t</span> i = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#af62efb05ce49a3cb764328976f8054f6">m_pendingInvasions</a>.size();</div>
<div class="line"><span class="lineno"> 1917</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [zoneId, invasionData] : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_activeInvasions)</div>
<div class="line"><span class="lineno"> 1918</span>    {</div>
<div class="line"><span class="lineno"> 1919</span>        <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a>(invasionData.map, invasionData.mouth[0]);</div>
<div class="line"><span class="lineno"> 1920</span>        <span class="keywordflow">if</span> (!map)</div>
<div class="line"><span class="lineno"> 1921</span>        {</div>
<div class="line"><span class="lineno"> 1922</span>            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::GetActiveZones no map for zone {}.&quot;</span>, invasionData.map);</div>
<div class="line"><span class="lineno"> 1923</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1924</span>        }</div>
<div class="line"><span class="lineno"> 1925</span> </div>
<div class="line"><span class="lineno"> 1926</span>        <a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* mouth = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#af0a630f225718009751c788dbcbf5333">GetCreature</a>(invasionData.mouthGuid);</div>
<div class="line"><span class="lineno"> 1927</span>        <span class="keywordflow">if</span> (mouth)</div>
<div class="line"><span class="lineno"> 1928</span>            i++;</div>
<div class="line"><span class="lineno"> 1929</span>    }</div>
<div class="line"><span class="lineno"> 1930</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno"> 1931</span>}</div>
<div class="ttc" id="aLog_8h_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:158</div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="../../db/dd5/classCreature.html">Creature</a></div><div class="ttdef"><b>Definition</b> Creature.h:47</div></div>
<div class="ttc" id="aclassMap_html_af0a630f225718009751c788dbcbf5333"><div class="ttname"><a href="../../d7/db0/classMap.html#af0a630f225718009751c788dbcbf5333">Map::GetCreature</a></div><div class="ttdeci">Creature * GetCreature(ObjectGuid const &amp;guid)</div><div class="ttdef"><b>Definition</b> Map.cpp:2357</div></div>
<div class="ttc" id="aclassWorldState_html_a7478dfc56b6941b135d97ff3bdd91746"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">WorldState::GetMap</a></div><div class="ttdeci">Map * GetMap(uint32 mapId, Position const &amp;invZone)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:252</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02357">Map::GetCreature()</a>, <a class="el" href="../../#l00252">GetMap()</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00206">ScourgeInvasionData::m_activeInvasions</a>, <a class="el" href="../../#l00204">ScourgeInvasionData::m_pendingInvasions</a>, and <a class="el" href="../../#l00374">m_siData</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01790">HandleActiveZone()</a>, and <a class="el" href="../../#l01638">StartNewInvasion()</a>.</p>

</div>
</div>
<a id="a2ea82fdf833a8154c0516288e92bce2a" name="a2ea82fdf833a8154c0516288e92bce2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea82fdf833a8154c0516288e92bce2a">&#9670;&#160;</a></span>GetBattlesWon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::GetBattlesWon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1499</span>{</div>
<div class="line"><span class="lineno"> 1500</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1501</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a>;</div>
<div class="line"><span class="lineno"> 1502</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00198">ScourgeInvasionData::m_battlesWon</a>, <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01524">BroadcastSIWorldstates()</a>, and <a class="el" href="../../#l01951">FillInitialWorldStates()</a>.</p>

</div>
</div>
<a id="a44c85c9b354d7e77c8661011168125ed" name="a44c85c9b354d7e77c8661011168125ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c85c9b354d7e77c8661011168125ed">&#9670;&#160;</a></span>GetLastAttackZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::GetLastAttackZone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1513</span>{</div>
<div class="line"><span class="lineno"> 1514</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1515</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a38ead6b33009083055538fd4f0b7de35">m_lastAttackZone</a>;</div>
<div class="line"><span class="lineno"> 1516</span>}</div>
<div class="ttc" id="astructScourgeInvasionData_html_a38ead6b33009083055538fd4f0b7de35"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#a38ead6b33009083055538fd4f0b7de35">ScourgeInvasionData::m_lastAttackZone</a></div><div class="ttdeci">uint32 m_lastAttackZone</div><div class="ttdef"><b>Definition</b> WorldState.h:199</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00199">ScourgeInvasionData::m_lastAttackZone</a>, <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>.</p>

</div>
</div>
<a id="a7478dfc56b6941b135d97ff3bdd91746" name="a7478dfc56b6941b135d97ff3bdd91746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7478dfc56b6941b135d97ff3bdd91746">&#9670;&#160;</a></span>GetMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/db0/classMap.html">Map</a> * WorldState::GetMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>mapId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/df4/structPosition.html">Position</a> const &amp;&#160;</td>
          <td class="paramname"><em>invZone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  253</span>{</div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseMap(mapId);</div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (!map)</div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;scripts&quot;</span>,</div>
<div class="line"><span class="lineno">  257</span>            <span class="stringliteral">&quot;ScourgeInvasionEvent::GetMap found no map with mapId {} , x: {}, y: {}.&quot;</span>,</div>
<div class="line"><span class="lineno">  258</span>            mapId,</div>
<div class="line"><span class="lineno">  259</span>            invZone.GetPositionX(),</div>
<div class="line"><span class="lineno">  260</span>            invZone.GetPositionY());</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">return</span> map;</div>
<div class="line"><span class="lineno">  262</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00121">Position::GetPositionX()</a>, <a class="el" href="../../#l00122">Position::GetPositionY()</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, and <a class="el" href="../../#l00220">sMapMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01914">GetActiveZones()</a>, <a class="el" href="../../#l01897">OnDisable()</a>, <a class="el" href="../../#l01886">OnDisable()</a>, <a class="el" href="../../#l01707">ResumeInvasion()</a>, <a class="el" href="../../#l01680">StartNewCityAttack()</a>, and <a class="el" href="../../#l01638">StartNewInvasion()</a>.</p>

</div>
</div>
<a id="a87440a36077b77c3419a35ef2bb87bfc" name="a87440a36077b77c3419a35ef2bb87bfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87440a36077b77c3419a35ef2bb87bfc">&#9670;&#160;</a></span>GetScourgeInvasionPrintout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string WorldState::GetScourgeInvasionPrintout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1040</span>{</div>
<div class="line"><span class="lineno"> 1041</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1042</span>    std::string output = <span class="stringliteral">&quot;Scourge Invasion Status:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keyword">auto</span> formatState = [<span class="keyword">this</span>]() -&gt; std::string</div>
<div class="line"><span class="lineno"> 1045</span>    {</div>
<div class="line"><span class="lineno"> 1046</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a>)</div>
<div class="line"><span class="lineno"> 1047</span>        {</div>
<div class="line"><span class="lineno"> 1048</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a647b0f36eda55bfcd44ea079847f4b39">STATE_0_DISABLED</a>:</div>
<div class="line"><span class="lineno"> 1049</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Disabled&quot;</span>;</div>
<div class="line"><span class="lineno"> 1050</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a27acc7e6cdaaad5f13ed4df7be56defc">STATE_1_ENABLED</a>:</div>
<div class="line"><span class="lineno"> 1051</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Enabled&quot;</span>;</div>
<div class="line"><span class="lineno"> 1052</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1053</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><span class="lineno"> 1054</span>        }</div>
<div class="line"><span class="lineno"> 1055</span>    };</div>
<div class="line"><span class="lineno"> 1056</span>    <span class="keyword">auto</span> formatRemaining = [<span class="keyword">this</span>](<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a> val, <span class="keywordtype">char</span> <span class="keyword">const</span>* name) { <span class="keywordflow">return</span> <span class="stringliteral">&quot;  &quot;</span> + std::string(name) + <span class="stringliteral">&quot;: &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#afa0f9b63b3c2111affdf9769ee529d88">m_remaining</a>[val]) + <span class="stringliteral">&quot;\n&quot;</span>; };</div>
<div class="line"><span class="lineno"> 1057</span> </div>
<div class="line"><span class="lineno"> 1058</span>    output += <span class="stringliteral">&quot;State: &quot;</span> + formatState() + <span class="stringliteral">&quot; (&quot;</span> + std::to_string(<span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a>)) + <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1059</span>    output += <span class="stringliteral">&quot;Battles Won: &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a>) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1060</span>    output += <span class="stringliteral">&quot;Last Attack Zone ID: &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a38ead6b33009083055538fd4f0b7de35">m_lastAttackZone</a>) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1061</span> </div>
<div class="line"><span class="lineno"> 1062</span>    output += <span class="stringliteral">&quot;Zone Necropolis Count Remaining:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1063</span>    output += formatRemaining(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaf588d257fc56fb070049cde06af24005">SI_REMAINING_WINTERSPRING</a>, <span class="stringliteral">&quot;Winterspring&quot;</span>);</div>
<div class="line"><span class="lineno"> 1064</span>    output += formatRemaining(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeac12501f2dfc2e92462231a9171a4a192">SI_REMAINING_AZSHARA</a>, <span class="stringliteral">&quot;Azshara&quot;</span>);</div>
<div class="line"><span class="lineno"> 1065</span>    output += formatRemaining(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaa749bb9df442ebee816047ad078ad876">SI_REMAINING_BLASTED_LANDS</a>, <span class="stringliteral">&quot;Blasted Lands&quot;</span>);</div>
<div class="line"><span class="lineno"> 1066</span>    output += formatRemaining(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6e93dbfb45c3c30c9c8d6c2efdf4df04">SI_REMAINING_BURNING_STEPPES</a>, <span class="stringliteral">&quot;Burning Steppes&quot;</span>);</div>
<div class="line"><span class="lineno"> 1067</span>    output += formatRemaining(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea91588368688397c3757fd568872cc23b">SI_REMAINING_TANARIS</a>, <span class="stringliteral">&quot;Tanaris&quot;</span>);</div>
<div class="line"><span class="lineno"> 1068</span>    output += formatRemaining(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6edea7eb295c687aab2d49f538b7ff66">SI_REMAINING_EASTERN_PLAGUELANDS</a>, <span class="stringliteral">&quot;Eastern Plaguelands&quot;</span>);</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>    output += <span class="stringliteral">&quot;Zone Timers (time until next event):\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1071</span>    <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> now = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 1072</span>    <span class="keyword">auto</span> formatTimer = [<span class="keyword">this</span>](<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a> timerId, <span class="keywordtype">char</span> <span class="keyword">const</span>* name, <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> now)</div>
<div class="line"><span class="lineno"> 1073</span>    {</div>
<div class="line"><span class="lineno"> 1074</span>        <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> tp = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a06375cf97a023be4f3fff94cc43405a9">m_timers</a>[timerId];</div>
<div class="line"><span class="lineno"> 1075</span>        std::string timerStr;</div>
<div class="line"><span class="lineno"> 1076</span>        <span class="keywordflow">if</span> (tp == <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a>())</div>
<div class="line"><span class="lineno"> 1077</span>            timerStr = <span class="stringliteral">&quot;Not set&quot;</span>;</div>
<div class="line"><span class="lineno"> 1078</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tp &lt;= now)</div>
<div class="line"><span class="lineno"> 1079</span>            timerStr = <span class="stringliteral">&quot;Elapsed&quot;</span>;</div>
<div class="line"><span class="lineno"> 1080</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1081</span>        {</div>
<div class="line"><span class="lineno"> 1082</span>            <span class="keyword">auto</span> diff = std::chrono::duration_cast&lt;std::chrono::seconds&gt;(tp - now);</div>
<div class="line"><span class="lineno"> 1083</span>            timerStr = std::to_string(diff.count()) + <span class="stringliteral">&quot;s remaining&quot;</span>;</div>
<div class="line"><span class="lineno"> 1084</span>        }</div>
<div class="line"><span class="lineno"> 1085</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;  &quot;</span> + std::string(name) + <span class="stringliteral">&quot;: &quot;</span> + timerStr + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1086</span>    };</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea9432f2ec7be5888384363ca926e965c6">SI_TIMER_WINTERSPRING</a>, <span class="stringliteral">&quot;Winterspring Invasion&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1089</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea7e70bc925a4eb641a96cec8e9fcac7d8">SI_TIMER_AZSHARA</a>, <span class="stringliteral">&quot;Azshara Invasion&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1090</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea532499014508a368d7047092f279707d">SI_TIMER_BLASTED_LANDS</a>, <span class="stringliteral">&quot;Blasted Lands Invasion&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1091</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea8e1db7192af80f8edb51db2a23f1a23a">SI_TIMER_BURNING_STEPPES</a>, <span class="stringliteral">&quot;Burning Steppes Invasion&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1092</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea832c45419d88e7550c9c2be9e9f80a6d">SI_TIMER_TANARIS</a>, <span class="stringliteral">&quot;Tanaris Invasion&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1093</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea9e3c2bac63f9ec687deb109e579cdc81">SI_TIMER_EASTERN_PLAGUELANDS</a>, <span class="stringliteral">&quot;Eastern Plaguelands Invasion&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1094</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea62abd4548974545032422538cb50e7ac">SI_TIMER_STORMWIND</a>, <span class="stringliteral">&quot;Stormwind City Attack&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1095</span>    output += formatTimer(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea1ed9e8fd06f5592cbf0d6e1b11020188">SI_TIMER_UNDERCITY</a>, <span class="stringliteral">&quot;Undercity Attack&quot;</span>, now);</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    <span class="keywordflow">return</span> output;</div>
<div class="line"><span class="lineno"> 1098</span>}</div>
<div class="ttc" id="aDuration_8h_html_ae5ca775e8d8c664b6edef818ce1251b9"><div class="ttname"><a href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a></div><div class="ttdeci">std::chrono::steady_clock::time_point TimePoint</div><div class="ttdoc">time_point shorthand typedefs</div><div class="ttdef"><b>Definition</b> Duration.h:69</div></div>
<div class="ttc" id="aWorldState_8h_html_a3fb19d2d868c1633a094f84570f4a6ee"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a></div><div class="ttdeci">SIRemaining</div><div class="ttdef"><b>Definition</b> WorldState.h:156</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99e"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a></div><div class="ttdeci">SITimers</div><div class="ttdef"><b>Definition</b> WorldState.h:143</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea1ed9e8fd06f5592cbf0d6e1b11020188"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea1ed9e8fd06f5592cbf0d6e1b11020188">SI_TIMER_UNDERCITY</a></div><div class="ttdeci">@ SI_TIMER_UNDERCITY</div><div class="ttdef"><b>Definition</b> WorldState.h:151</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea532499014508a368d7047092f279707d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea532499014508a368d7047092f279707d">SI_TIMER_BLASTED_LANDS</a></div><div class="ttdeci">@ SI_TIMER_BLASTED_LANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:145</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea62abd4548974545032422538cb50e7ac"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea62abd4548974545032422538cb50e7ac">SI_TIMER_STORMWIND</a></div><div class="ttdeci">@ SI_TIMER_STORMWIND</div><div class="ttdef"><b>Definition</b> WorldState.h:150</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea7e70bc925a4eb641a96cec8e9fcac7d8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea7e70bc925a4eb641a96cec8e9fcac7d8">SI_TIMER_AZSHARA</a></div><div class="ttdeci">@ SI_TIMER_AZSHARA</div><div class="ttdef"><b>Definition</b> WorldState.h:144</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea832c45419d88e7550c9c2be9e9f80a6d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea832c45419d88e7550c9c2be9e9f80a6d">SI_TIMER_TANARIS</a></div><div class="ttdeci">@ SI_TIMER_TANARIS</div><div class="ttdef"><b>Definition</b> WorldState.h:148</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea8e1db7192af80f8edb51db2a23f1a23a"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea8e1db7192af80f8edb51db2a23f1a23a">SI_TIMER_BURNING_STEPPES</a></div><div class="ttdeci">@ SI_TIMER_BURNING_STEPPES</div><div class="ttdef"><b>Definition</b> WorldState.h:146</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea9432f2ec7be5888384363ca926e965c6"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea9432f2ec7be5888384363ca926e965c6">SI_TIMER_WINTERSPRING</a></div><div class="ttdeci">@ SI_TIMER_WINTERSPRING</div><div class="ttdef"><b>Definition</b> WorldState.h:149</div></div>
<div class="ttc" id="aWorldState_8h_html_a785ea701ad6ed657955501468a40e99ea9e3c2bac63f9ec687deb109e579cdc81"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea9e3c2bac63f9ec687deb109e579cdc81">SI_TIMER_EASTERN_PLAGUELANDS</a></div><div class="ttdeci">@ SI_TIMER_EASTERN_PLAGUELANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:147</div></div>
<div class="ttc" id="aWorldState_8h_html_aecf9527110a7255a02e5f9add33dd690a27acc7e6cdaaad5f13ed4df7be56defc"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a27acc7e6cdaaad5f13ed4df7be56defc">STATE_1_ENABLED</a></div><div class="ttdeci">@ STATE_1_ENABLED</div><div class="ttdef"><b>Definition</b> WorldState.h:126</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_a06375cf97a023be4f3fff94cc43405a9"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#a06375cf97a023be4f3fff94cc43405a9">ScourgeInvasionData::m_timers</a></div><div class="ttdeci">TimePoint m_timers[SI_TIMER_MAX]</div><div class="ttdef"><b>Definition</b> WorldState.h:197</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_afa0f9b63b3c2111affdf9769ee529d88"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#afa0f9b63b3c2111affdf9769ee529d88">ScourgeInvasionData::m_remaining</a></div><div class="ttdeci">uint32 m_remaining[SI_REMAINING_MAX]</div><div class="ttdef"><b>Definition</b> WorldState.h:200</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00198">ScourgeInvasionData::m_battlesWon</a>, <a class="el" href="../../#l00199">ScourgeInvasionData::m_lastAttackZone</a>, <a class="el" href="../../#l00200">ScourgeInvasionData::m_remaining</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>, <a class="el" href="../../#l00195">ScourgeInvasionData::m_state</a>, <a class="el" href="../../#l00197">ScourgeInvasionData::m_timers</a>, <a class="el" href="../../#l00157">SI_REMAINING_AZSHARA</a>, <a class="el" href="../../#l00158">SI_REMAINING_BLASTED_LANDS</a>, <a class="el" href="../../#l00159">SI_REMAINING_BURNING_STEPPES</a>, <a class="el" href="../../#l00160">SI_REMAINING_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00161">SI_REMAINING_TANARIS</a>, <a class="el" href="../../#l00162">SI_REMAINING_WINTERSPRING</a>, <a class="el" href="../../#l00144">SI_TIMER_AZSHARA</a>, <a class="el" href="../../#l00145">SI_TIMER_BLASTED_LANDS</a>, <a class="el" href="../../#l00146">SI_TIMER_BURNING_STEPPES</a>, <a class="el" href="../../#l00147">SI_TIMER_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00150">SI_TIMER_STORMWIND</a>, <a class="el" href="../../#l00148">SI_TIMER_TANARIS</a>, <a class="el" href="../../#l00151">SI_TIMER_UNDERCITY</a>, <a class="el" href="../../#l00149">SI_TIMER_WINTERSPRING</a>, <a class="el" href="../../#l00125">STATE_0_DISABLED</a>, and <a class="el" href="../../#l00126">STATE_1_ENABLED</a>.</p>

</div>
</div>
<a id="af6e4ceea71e4863c4cb0558af3a41292" name="af6e4ceea71e4863c4cb0558af3a41292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6e4ceea71e4863c4cb0558af3a41292">&#9670;&#160;</a></span>GetSIRemaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::GetSIRemaining </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a>&#160;</td>
          <td class="paramname"><em>remaining</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1459</span>{</div>
<div class="line"><span class="lineno"> 1460</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#afa0f9b63b3c2111affdf9769ee529d88">m_remaining</a>[remaining];</div>
<div class="line"><span class="lineno"> 1461</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00200">ScourgeInvasionData::m_remaining</a>, and <a class="el" href="../../#l00374">m_siData</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01524">BroadcastSIWorldstates()</a>, <a class="el" href="../../#l01951">FillInitialWorldStates()</a>, <a class="el" href="../../#l01463">GetSIRemainingByZone()</a>, <a class="el" href="../../#l01790">HandleActiveZone()</a>, and <a class="el" href="../../#l00217">IsConditionFulfilled()</a>.</p>

</div>
</div>
<a id="a25d76dc8d44bbde93e18c3c4879db191" name="a25d76dc8d44bbde93e18c3c4879db191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d76dc8d44bbde93e18c3c4879db191">&#9670;&#160;</a></span>GetSIRemainingByZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::GetSIRemainingByZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1464</span>{</div>
<div class="line"><span class="lineno"> 1465</span>    <a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a> remainingId;</div>
<div class="line"><span class="lineno"> 1466</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno"> 1467</span>    {</div>
<div class="line"><span class="lineno"> 1468</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3ed4b016327f4a8ae44c847705cb0bf">AREA_WINTERSPRING</a>: remainingId = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaf588d257fc56fb070049cde06af24005">SI_REMAINING_WINTERSPRING</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1469</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a18cd2566d133329214f27a17511fd506">AREA_AZSHARA</a>: remainingId = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeac12501f2dfc2e92462231a9171a4a192">SI_REMAINING_AZSHARA</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1470</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3eeec438db2c0efc014467891451d23">AREA_EASTERN_PLAGUELANDS</a>: remainingId = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6edea7eb295c687aab2d49f538b7ff66">SI_REMAINING_EASTERN_PLAGUELANDS</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1471</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace303ba93d149035825673730b8b1d2a">AREA_BLASTED_LANDS</a>: remainingId = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaa749bb9df442ebee816047ad078ad876">SI_REMAINING_BLASTED_LANDS</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1472</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad424385a06b292570b5c7178fa0f4921">AREA_BURNING_STEPPES</a>: remainingId = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6e93dbfb45c3c30c9c8d6c2efdf4df04">SI_REMAINING_BURNING_STEPPES</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1473</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a87eaccec6b2c1a46bccb2c29ac0f8315">AREA_TANARIS</a>: remainingId = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea91588368688397c3757fd568872cc23b">SI_REMAINING_TANARIS</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1474</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1475</span>            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;WorldState&quot;</span>, <span class="stringliteral">&quot;GetSIRemainingByZone called with invalid zone ID: {}&quot;</span>, zoneId);</div>
<div class="line"><span class="lineno"> 1476</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1477</span>    }</div>
<div class="line"><span class="lineno"> 1478</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(remainingId);</div>
<div class="line"><span class="lineno"> 1479</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a18cd2566d133329214f27a17511fd506"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a18cd2566d133329214f27a17511fd506">AREA_AZSHARA</a></div><div class="ttdeci">@ AREA_AZSHARA</div><div class="ttdef"><b>Definition</b> AreaDefines.h:34</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a87eaccec6b2c1a46bccb2c29ac0f8315"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a87eaccec6b2c1a46bccb2c29ac0f8315">AREA_TANARIS</a></div><div class="ttdeci">@ AREA_TANARIS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:73</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ab3ed4b016327f4a8ae44c847705cb0bf"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3ed4b016327f4a8ae44c847705cb0bf">AREA_WINTERSPRING</a></div><div class="ttdeci">@ AREA_WINTERSPRING</div><div class="ttdef"><b>Definition</b> AreaDefines.h:76</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ab3eeec438db2c0efc014467891451d23"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3eeec438db2c0efc014467891451d23">AREA_EASTERN_PLAGUELANDS</a></div><div class="ttdeci">@ AREA_EASTERN_PLAGUELANDS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:53</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ace303ba93d149035825673730b8b1d2a"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace303ba93d149035825673730b8b1d2a">AREA_BLASTED_LANDS</a></div><div class="ttdeci">@ AREA_BLASTED_LANDS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:27</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ad424385a06b292570b5c7178fa0f4921"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad424385a06b292570b5c7178fa0f4921">AREA_BURNING_STEPPES</a></div><div class="ttdeci">@ AREA_BURNING_STEPPES</div><div class="ttdef"><b>Definition</b> AreaDefines.h:42</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">AREA_AZSHARA</a>, <a class="el" href="../../#l00027">AREA_BLASTED_LANDS</a>, <a class="el" href="../../#l00042">AREA_BURNING_STEPPES</a>, <a class="el" href="../../#l00053">AREA_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00073">AREA_TANARIS</a>, <a class="el" href="../../#l00076">AREA_WINTERSPRING</a>, <a class="el" href="../../#l01458">GetSIRemaining()</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00157">SI_REMAINING_AZSHARA</a>, <a class="el" href="../../#l00158">SI_REMAINING_BLASTED_LANDS</a>, <a class="el" href="../../#l00159">SI_REMAINING_BURNING_STEPPES</a>, <a class="el" href="../../#l00160">SI_REMAINING_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00161">SI_REMAINING_TANARIS</a>, and <a class="el" href="../../#l00162">SI_REMAINING_WINTERSPRING</a>.</p>

</div>
</div>
<a id="a528f3b83ecaba4c1e99198340204b2b1" name="a528f3b83ecaba4c1e99198340204b2b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528f3b83ecaba4c1e99198340204b2b1">&#9670;&#160;</a></span>GetSITimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> WorldState::GetSITimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1489</span>{</div>
<div class="line"><span class="lineno"> 1490</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a06375cf97a023be4f3fff94cc43405a9">m_timers</a>[timer];</div>
<div class="line"><span class="lineno"> 1491</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00197">ScourgeInvasionData::m_timers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01624">StartNewCityAttackIfTime()</a>, and <a class="el" href="../../#l01613">StartNewInvasionIfTime()</a>.</p>

</div>
</div>
<a id="a023a69d9e9608aa7dde3cb769f76e1fc" name="a023a69d9e9608aa7dde3cb769f76e1fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023a69d9e9608aa7dde3cb769f76e1fc">&#9670;&#160;</a></span>GetSunsReachPrintout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string WorldState::GetSunsReachPrintout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  954</span>{</div>
<div class="line"><span class="lineno">  955</span>    <span class="keyword">auto</span> formatPhase = [<span class="keyword">this</span>]() -&gt; std::string {</div>
<div class="line"><span class="lineno">  956</span>        std::string name;</div>
<div class="line"><span class="lineno">  957</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  958</span>        {</div>
<div class="line"><span class="lineno">  959</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>: name = <span class="stringliteral">&quot;Phase 1: Staging Area&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  960</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>: name = <span class="stringliteral">&quot;Phase 2: Sanctum&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  961</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>: name = <span class="stringliteral">&quot;Phase 3: Armory&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  962</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>: name = <span class="stringliteral">&quot;Phase 4: Harbor&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  963</span>            <span class="keywordflow">default</span>: name = <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  964</span>        }</div>
<div class="line"><span class="lineno">  965</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Phase: &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>) + <span class="stringliteral">&quot; (&quot;</span> + name + <span class="stringliteral">&quot;) &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#a215cec505dd74695704ae7961161e195">GetPhasePercentage</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)) + <span class="stringliteral">&quot;%\n&quot;</span>;</div>
<div class="line"><span class="lineno">  966</span>    };</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>    <span class="keyword">auto</span> formatSubPhase = [<span class="keyword">this</span>](<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> subPhase) -&gt; std::string {</div>
<div class="line"><span class="lineno">  969</span>        std::string name;</div>
<div class="line"><span class="lineno">  970</span>        <span class="keywordflow">switch</span> (subPhase)</div>
<div class="line"><span class="lineno">  971</span>        {</div>
<div class="line"><span class="lineno">  972</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>: name = <span class="stringliteral">&quot;Portal&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  973</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>: name = <span class="stringliteral">&quot;Anvil&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  974</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>: name = <span class="stringliteral">&quot;Alchemy Lab&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  975</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>: name = <span class="stringliteral">&quot;Monument&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  976</span>            <span class="keywordflow">default</span>: name = <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  977</span>        }</div>
<div class="line"><span class="lineno">  978</span>        <span class="keywordflow">return</span> name + <span class="stringliteral">&quot;: &quot;</span> + (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; subPhase ? <span class="stringliteral">&quot;100%&quot;</span> : std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#aaee292336c57d967842d63f55e69bf0f">GetSubPhasePercentage</a>(subPhase)) + <span class="stringliteral">&quot;%&quot;</span>);</div>
<div class="line"><span class="lineno">  979</span>    };</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>    <span class="keyword">auto</span> formatCounter = [](<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> counter, <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value) -&gt; std::string {</div>
<div class="line"><span class="lineno">  982</span>        <span class="keywordflow">switch</span> (counter)</div>
<div class="line"><span class="lineno">  983</span>        {</div>
<div class="line"><span class="lineno">  984</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca23b1e2d313de5eb6487c856608b41641">COUNTER_ERRATIC_BEHAVIOR</a>:</div>
<div class="line"><span class="lineno">  985</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Erratic Behavior: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 2: Sanctum)&quot;</span>;</div>
<div class="line"><span class="lineno">  986</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caea0b3ede048b8fe9d88385bfb4dbb6de">COUNTER_SANCTUM_WARDS</a>:</div>
<div class="line"><span class="lineno">  987</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Sanctum Wards: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 2: Sanctum)&quot;</span>;</div>
<div class="line"><span class="lineno">  988</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca76338d51f6eec0825ff259bbd34dc5a2">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>:</div>
<div class="line"><span class="lineno">  989</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Battle for the Sun&#39;s Reach Armory: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 3: Armory)&quot;</span>;</div>
<div class="line"><span class="lineno">  990</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cae99c00ceb33ce528fc0de353f5449b86">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>:</div>
<div class="line"><span class="lineno">  991</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Distraction at the Dead Scar: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 3: Armory)&quot;</span>;</div>
<div class="line"><span class="lineno">  992</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca7ccae68e35a5ab24f91a3572989c08ec">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>:</div>
<div class="line"><span class="lineno">  993</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Intercepting the Mana Cells: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Portal)&quot;</span>;</div>
<div class="line"><span class="lineno">  994</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cad58884bfc099d112c39cd40d06fca2f7">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>:</div>
<div class="line"><span class="lineno">  995</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Intercept the Reinforcements: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 4: Harbor)&quot;</span>;</div>
<div class="line"><span class="lineno">  996</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca9a71b7eefaf4fc97215caf53721a8593">COUNTER_TAKING_THE_HARBOR</a>:</div>
<div class="line"><span class="lineno">  997</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Taking the Harbor: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Phase 4: Harbor)&quot;</span>;</div>
<div class="line"><span class="lineno">  998</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca8cf21d7284a4dcb4d48b8130cc3f4671">COUNTER_MAKING_READY</a>:</div>
<div class="line"><span class="lineno">  999</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Making Ready: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Anvil)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1000</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211cadf87923459d77536d46ddd23bc3d5dfb">COUNTER_DISCOVERING_YOUR_ROOTS</a>:</div>
<div class="line"><span class="lineno"> 1001</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Discovering Your Roots: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Alchemy Lab)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1002</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211caba33bffee42a380d259c5af14e6e700f">COUNTER_A_CHARITABLE_DONATION</a>:</div>
<div class="line"><span class="lineno"> 1003</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;A Charitable Donation: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (counts towards Subphase: Monument)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1004</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1005</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown: &quot;</span> + std::to_string(value) + <span class="stringliteral">&quot; (Unknown goal)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1006</span>        }</div>
<div class="line"><span class="lineno"> 1007</span>    };</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>    std::string output = formatPhase();</div>
<div class="line"><span class="lineno"> 1010</span>    output += <span class="stringliteral">&quot;Subphase mask: &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a>) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1011</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; 4; ++i)</div>
<div class="line"><span class="lineno"> 1012</span>    {</div>
<div class="line"><span class="lineno"> 1013</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> subPhaseMask = 1 &lt;&lt; i;</div>
<div class="line"><span class="lineno"> 1014</span>        output += <span class="stringliteral">&quot;  &quot;</span> + formatSubPhase(subPhaseMask) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1015</span>    }</div>
<div class="line"><span class="lineno"> 1016</span>    output += <span class="stringliteral">&quot;Counters:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1017</span>    output += <span class="stringliteral">&quot;  Sunsreach.CounterMax = &quot;</span> + std::to_string(<a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0aa665c623ee4ce5d5942b73e3864328f4">CONFIG_SUNSREACH_COUNTER_MAX</a>)) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8">COUNTERS_MAX</a>; ++i)</div>
<div class="line"><span class="lineno"> 1019</span>        output += <span class="stringliteral">&quot;  &quot;</span> + std::to_string(i) + <span class="stringliteral">&quot;. &quot;</span> + formatCounter(i, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[i]) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    <span class="comment">// Sunwell Gates</span></div>
<div class="line"><span class="lineno"> 1022</span>    <span class="keyword">auto</span> formatGatePhase = [](<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> gate) -&gt; std::string {</div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordflow">switch</span> (gate)</div>
<div class="line"><span class="lineno"> 1024</span>        {</div>
<div class="line"><span class="lineno"> 1025</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;All Gates Closed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1026</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gate 1 Agamath Open&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1027</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gate 2 Rohendar Open&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1028</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gate 3 Archonisus Open&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1029</span>            <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1030</span>        }</div>
<div class="line"><span class="lineno"> 1031</span>    };</div>
<div class="line"><span class="lineno"> 1032</span>    output += <span class="stringliteral">&quot;Sunwell Plateau Gate Phase &quot;</span> + std::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>) + <span class="stringliteral">&quot; (&quot;</span> + formatGatePhase(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>) + <span class="stringliteral">&quot;)&quot;</span> + <span class="stringliteral">&quot;:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1033</span>    output += <span class="stringliteral">&quot;  0. Gate 1 (Agamath): &quot;</span> + std::string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a> ? <span class="stringliteral">&quot;Open &quot;</span> : <span class="stringliteral">&quot;Closed &quot;</span>) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_gateCounters[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fac5a40f22c82be22eb0ee2e6b1414a95c">COUNTER_AGAMATH_THE_FIRST_GATE</a>]) + <span class="stringliteral">&quot; (&quot;</span> + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.GetSunwellGatePercentage(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>)) + <span class="stringliteral">&quot;%)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1034</span>    output += <span class="stringliteral">&quot;  1. Gate 2 (Rohendor): &quot;</span> + std::string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a> ? <span class="stringliteral">&quot;Open &quot;</span> : <span class="stringliteral">&quot;Closed &quot;</span>) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_gateCounters[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa19cae29dd7ad9ef6c31296f891eff82f">COUNTER_ROHENDOR_THE_SECOND_GATE</a>]) +  <span class="stringliteral">&quot; (&quot;</span> + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.GetSunwellGatePercentage(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>)) + <span class="stringliteral">&quot;%)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1035</span>    output += <span class="stringliteral">&quot;  2. Gate 3 (Archonisus): &quot;</span> + std::string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a> ? <span class="stringliteral">&quot;Open &quot;</span> : <span class="stringliteral">&quot;Closed &quot;</span>) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_gateCounters[<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa7af124883dce8a02d45f5cfbb7b13c5d">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>]) + <span class="stringliteral">&quot; (&quot;</span> + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::to_string(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.GetSunwellGatePercentage(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>)) + <span class="stringliteral">&quot;%)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1036</span>    <span class="keywordflow">return</span> output;</div>
<div class="line"><span class="lineno"> 1037</span>}</div>
<div class="ttc" id="aWorldState_8h_html_aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8">COUNTERS_MAX</a></div><div class="ttdeci">@ COUNTERS_MAX</div><div class="ttdef"><b>Definition</b> WorldState.h:244</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00384">CONFIG_SUNSREACH_COUNTER_MAX</a>, <a class="el" href="../../#l00243">COUNTER_A_CHARITABLE_DONATION</a>, <a class="el" href="../../#l00256">COUNTER_AGAMATH_THE_FIRST_GATE</a>, <a class="el" href="../../#l00258">COUNTER_ARCHONISUS_THE_FINAL_GATE</a>, <a class="el" href="../../#l00236">COUNTER_BATTLE_FOR_THE_SUNS_REACH_ARMORY</a>, <a class="el" href="../../#l00242">COUNTER_DISCOVERING_YOUR_ROOTS</a>, <a class="el" href="../../#l00237">COUNTER_DISTRACTION_AT_THE_DEAD_SCAR</a>, <a class="el" href="../../#l00234">COUNTER_ERRATIC_BEHAVIOR</a>, <a class="el" href="../../#l00239">COUNTER_INTERCEPT_THE_REINFORCEMENTS</a>, <a class="el" href="../../#l00238">COUNTER_INTERCEPTING_THE_MANA_CELLS</a>, <a class="el" href="../../#l00241">COUNTER_MAKING_READY</a>, <a class="el" href="../../#l00257">COUNTER_ROHENDOR_THE_SECOND_GATE</a>, <a class="el" href="../../#l00235">COUNTER_SANCTUM_WARDS</a>, <a class="el" href="../../#l00240">COUNTER_TAKING_THE_HARBOR</a>, <a class="el" href="../../#l00244">COUNTERS_MAX</a>, <a class="el" href="../../#l01111">SunsReachReclamationData::GetPhasePercentage()</a>, <a class="el" href="../../#l01122">SunsReachReclamationData::GetSubPhasePercentage()</a>, <a class="el" href="../../#l01228">SunsReachReclamationData::GetSunwellGatePercentage()</a>, <a class="el" href="../../#l00269">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00270">SunsReachReclamationData::m_gateCounters</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00265">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00266">SunsReachReclamationData::m_sunsReachReclamationCounters</a>, <a class="el" href="../../#l00227">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00226">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00228">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00225">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00217">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00218">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00219">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00220">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00250">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00249">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00252">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, <a class="el" href="../../#l00251">SUNWELL_ROHENDOR_GATE2_OPEN</a>, and <a class="el" href="../../#l00316">sWorld</a>.</p>

</div>
</div>
<a id="a963da869c85fde49ec5baee67e1ad93a" name="a963da869c85fde49ec5baee67e1ad93a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a963da869c85fde49ec5baee67e1ad93a">&#9670;&#160;</a></span>GetTimerIdForZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::GetTimerIdForZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1934</span>{</div>
<div class="line"><span class="lineno"> 1935</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> attackTime = 0;</div>
<div class="line"><span class="lineno"> 1936</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno"> 1937</span>    {</div>
<div class="line"><span class="lineno"> 1938</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a87eaccec6b2c1a46bccb2c29ac0f8315">AREA_TANARIS</a>: attackTime = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea832c45419d88e7550c9c2be9e9f80a6d">SI_TIMER_TANARIS</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1939</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace303ba93d149035825673730b8b1d2a">AREA_BLASTED_LANDS</a>: attackTime = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea532499014508a368d7047092f279707d">SI_TIMER_BLASTED_LANDS</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1940</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3eeec438db2c0efc014467891451d23">AREA_EASTERN_PLAGUELANDS</a>: attackTime = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea9e3c2bac63f9ec687deb109e579cdc81">SI_TIMER_EASTERN_PLAGUELANDS</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1941</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad424385a06b292570b5c7178fa0f4921">AREA_BURNING_STEPPES</a>: attackTime = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea8e1db7192af80f8edb51db2a23f1a23a">SI_TIMER_BURNING_STEPPES</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1942</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3ed4b016327f4a8ae44c847705cb0bf">AREA_WINTERSPRING</a>: attackTime = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea9432f2ec7be5888384363ca926e965c6">SI_TIMER_WINTERSPRING</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1943</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a18cd2566d133329214f27a17511fd506">AREA_AZSHARA</a>: attackTime = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea7e70bc925a4eb641a96cec8e9fcac7d8">SI_TIMER_AZSHARA</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1944</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1945</span>            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::GetTimerIdForZone unknown zoneId {}.&quot;</span>, zoneId);</div>
<div class="line"><span class="lineno"> 1946</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1947</span>    }</div>
<div class="line"><span class="lineno"> 1948</span>    <span class="keywordflow">return</span> attackTime;</div>
<div class="line"><span class="lineno"> 1949</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">AREA_AZSHARA</a>, <a class="el" href="../../#l00027">AREA_BLASTED_LANDS</a>, <a class="el" href="../../#l00042">AREA_BURNING_STEPPES</a>, <a class="el" href="../../#l00053">AREA_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00073">AREA_TANARIS</a>, <a class="el" href="../../#l00076">AREA_WINTERSPRING</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00144">SI_TIMER_AZSHARA</a>, <a class="el" href="../../#l00145">SI_TIMER_BLASTED_LANDS</a>, <a class="el" href="../../#l00146">SI_TIMER_BURNING_STEPPES</a>, <a class="el" href="../../#l00147">SI_TIMER_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00148">SI_TIMER_TANARIS</a>, and <a class="el" href="../../#l00149">SI_TIMER_WINTERSPRING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01875">OnEnable()</a>, and <a class="el" href="../../#l00305">Update()</a>.</p>

</div>
</div>
<a id="a43c0fb89d452d67fff79fe92070b831f" name="a43c0fb89d452d67fff79fe92070b831f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c0fb89d452d67fff79fe92070b831f">&#9670;&#160;</a></span>getWorldState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> WorldState::getWorldState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  183</span>{</div>
<div class="line"><span class="lineno">  184</span>    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; itr = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.find(index);</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">return</span> itr != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.end() ? itr-&gt;second : 0;</div>
<div class="line"><span class="lineno">  186</span>}</div>
<div class="ttc" id="aclassWorldState_html_a9692b273469befd8d81da34a2318d7e0"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">WorldState::_worldstates</a></div><div class="ttdeci">WorldStatesMap _worldstates</div><div class="ttdef"><b>Definition</b> WorldState.h:312</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00312">_worldstates</a>.</p>

</div>
</div>
<a id="a9f240edaae8866dc573d5b3816196193" name="a9f240edaae8866dc573d5b3816196193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f240edaae8866dc573d5b3816196193">&#9670;&#160;</a></span>HandleActiveZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleActiveZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>attackTimeVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>remainingVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a>&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1791</span>{</div>
<div class="line"><span class="lineno"> 1792</span>    <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> timePoint = <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;GetSITimer(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>(attackTimeVar));</div>
<div class="line"><span class="lineno"> 1793</span> </div>
<div class="line"><span class="lineno"> 1794</span>    <a class="code hl_struct" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a>&amp; zone = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#af98aea31bf9c878adf2870890911282f">m_activeInvasions</a>[zoneId];</div>
<div class="line"><span class="lineno"> 1795</span> </div>
<div class="line"><span class="lineno"> 1796</span>    <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">map</a>, 0);</div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>    <span class="keywordflow">if</span> (zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a> != zoneId)</div>
<div class="line"><span class="lineno"> 1799</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1800</span> </div>
<div class="line"><span class="lineno"> 1801</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> remaining = <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a>(remainingVar));</div>
<div class="line"><span class="lineno"> 1802</span> </div>
<div class="line"><span class="lineno"> 1803</span>    <span class="comment">// Calculate the next possible attack between ZONE_ATTACK_TIMER_MIN and ZONE_ATTACK_TIMER_MAX.</span></div>
<div class="line"><span class="lineno"> 1804</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneAttackTimer = <a class="code hl_function" href="../../d4/dde/Random_8cpp.html#ab17def34ccbbd868dc87a16bf35acdbd">urand</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa55c39bb2d19b6331e7e6bd0d68185646">ZONE_ATTACK_TIMER_MIN</a>, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa82607be8e58d081e58041f01b0f47018">ZONE_ATTACK_TIMER_MAX</a>);</div>
<div class="line"><span class="lineno"> 1805</span>    <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> next_attack = now + std::chrono::seconds(zoneAttackTimer);</div>
<div class="line"><span class="lineno"> 1806</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> timeToNextAttack = std::chrono::duration_cast&lt;std::chrono::minutes&gt;(next_attack-now).count();</div>
<div class="line"><span class="lineno"> 1807</span> </div>
<div class="line"><span class="lineno"> 1808</span>    <span class="keywordflow">if</span> (zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a2245c14e379c83bdd47165e829de2e41">mouthGuid</a>)</div>
<div class="line"><span class="lineno"> 1809</span>    {</div>
<div class="line"><span class="lineno"> 1810</span>        <span class="comment">// Handles the inactive zone, without a Mouth of Kel&#39;Thuzad summoned (which spawns the whole zone event).</span></div>
<div class="line"><span class="lineno"> 1811</span>        <a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* mouth = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#af0a630f225718009751c788dbcbf5333">GetCreature</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a2245c14e379c83bdd47165e829de2e41">mouthGuid</a>);</div>
<div class="line"><span class="lineno"> 1812</span>        <span class="keywordflow">if</span> (!mouth)</div>
<div class="line"><span class="lineno"> 1813</span>            <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetMouthGuid(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a>, <a class="code hl_class" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a>()); <span class="comment">// delays spawning until next tick</span></div>
<div class="line"><span class="lineno"> 1814</span>        <span class="comment">// Handles the active zone that has no necropolis left.</span></div>
<div class="line"><span class="lineno"> 1815</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (timePoint &lt; now &amp;&amp; remaining == 0)</div>
<div class="line"><span class="lineno"> 1816</span>        {</div>
<div class="line"><span class="lineno"> 1817</span>                <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetSITimer(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>(attackTimeVar), next_attack);</div>
<div class="line"><span class="lineno"> 1818</span>                <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;AddBattlesWon(1);</div>
<div class="line"><span class="lineno"> 1819</span>                <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetLastAttackZone(zoneId);</div>
<div class="line"><span class="lineno"> 1820</span> </div>
<div class="line"><span class="lineno"> 1821</span>                <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;[Scourge Invasion Event] The Scourge has been defeated in {}, next attack starting in {} minutes.&quot;</span>, zoneId, timeToNextAttack);</div>
<div class="line"><span class="lineno"> 1822</span>                <a class="code hl_define" href="../../d1/d45/Log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;[Scourge Invasion Event] {} victories&quot;</span>, <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;GetBattlesWon());</div>
<div class="line"><span class="lineno"> 1823</span> </div>
<div class="line"><span class="lineno"> 1824</span>                <span class="keywordflow">if</span> (mouth)</div>
<div class="line"><span class="lineno"> 1825</span>                    mouth-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#ac53944779fa1544c06a3fc3dc74f5294">GetAI</a>()-&gt;<a class="code hl_function" href="../../d0/ddd/classUnitAI.html#a165d336cb3423f9665ed612d2dec76ed">DoAction</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a72a2664917ac7e9b711866fdc6313e54">EVENT_HERALD_OF_THE_LICH_KING_ZONE_STOP</a>);</div>
<div class="line"><span class="lineno"> 1826</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1827</span>                    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::HandleActiveZone ObjectGuid {} not found.&quot;</span>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a2245c14e379c83bdd47165e829de2e41">mouthGuid</a>.<a class="code hl_function" href="../../d0/d0a/classObjectGuid.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 1828</span>        }</div>
<div class="line"><span class="lineno"> 1829</span>    }</div>
<div class="line"><span class="lineno"> 1830</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1831</span>    {</div>
<div class="line"><span class="lineno"> 1832</span>        <span class="comment">// If more than one zones are alreay being attacked, set the timer again to ZONE_ATTACK_TIMER.</span></div>
<div class="line"><span class="lineno"> 1833</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/da9/classWorldState.html#a0729184dcf24b56d3c09962e64b0f04a">GetActiveZones</a>() &gt; 1)</div>
<div class="line"><span class="lineno"> 1834</span>            <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetSITimer(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>(attackTimeVar), next_attack);</div>
<div class="line"><span class="lineno"> 1835</span> </div>
<div class="line"><span class="lineno"> 1836</span>        <span class="comment">// Try to start the zone if attackTimeVar is 0.</span></div>
<div class="line"><span class="lineno"> 1837</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a60d5e7cd4ef857d7085fdb0b16107d12">StartNewInvasionIfTime</a>(attackTimeVar, zoneId);</div>
<div class="line"><span class="lineno"> 1838</span>    }</div>
<div class="line"><span class="lineno"> 1839</span>}</div>
<div class="ttc" id="aDefine_8h_html_ac4dd6ce78ce3b840c53bd4b3c63ed09b"><div class="ttname"><a href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a></div><div class="ttdeci">std::uint64_t uint64</div><div class="ttdef"><b>Definition</b> Define.h:106</div></div>
<div class="ttc" id="aLog_8h_html_a271e427d8e8481efd5cd5f537ec9e419"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:166</div></div>
<div class="ttc" id="aLog_8h_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:170</div></div>
<div class="ttc" id="aRandom_8cpp_html_ab17def34ccbbd868dc87a16bf35acdbd"><div class="ttname"><a href="../../d4/dde/Random_8cpp.html#ab17def34ccbbd868dc87a16bf35acdbd">urand</a></div><div class="ttdeci">uint32 urand(uint32 min, uint32 max)</div><div class="ttdef"><b>Definition</b> Random.cpp:44</div></div>
<div class="ttc" id="aWorldState_8h_html_a3a4f495a024c9f1774c913dd8ac4929f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a></div><div class="ttdeci">#define sWorldState</div><div class="ttdef"><b>Definition</b> WorldState.h:377</div></div>
<div class="ttc" id="aWorldState_8h_html_ad0c8fcbd6054089a8ad5ce31f8856ff3a72a2664917ac7e9b711866fdc6313e54"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a72a2664917ac7e9b711866fdc6313e54">EVENT_HERALD_OF_THE_LICH_KING_ZONE_STOP</a></div><div class="ttdeci">@ EVENT_HERALD_OF_THE_LICH_KING_ZONE_STOP</div><div class="ttdef"><b>Definition</b> WorldState.h:114</div></div>
<div class="ttc" id="aWorldState_8h_html_af7ef7f40d622ea6710b785d8b251ff2aa55c39bb2d19b6331e7e6bd0d68185646"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa55c39bb2d19b6331e7e6bd0d68185646">ZONE_ATTACK_TIMER_MIN</a></div><div class="ttdeci">@ ZONE_ATTACK_TIMER_MIN</div><div class="ttdef"><b>Definition</b> WorldState.h:169</div></div>
<div class="ttc" id="aWorldState_8h_html_af7ef7f40d622ea6710b785d8b251ff2aa82607be8e58d081e58041f01b0f47018"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa82607be8e58d081e58041f01b0f47018">ZONE_ATTACK_TIMER_MAX</a></div><div class="ttdeci">@ ZONE_ATTACK_TIMER_MAX</div><div class="ttdef"><b>Definition</b> WorldState.h:170</div></div>
<div class="ttc" id="aclassObjectGuid_html"><div class="ttname"><a href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition</b> ObjectGuid.h:118</div></div>
<div class="ttc" id="aclassObjectGuid_html_a78f5fb47e3b35addf8984000c175125b"><div class="ttname"><a href="../../d0/d0a/classObjectGuid.html#a78f5fb47e3b35addf8984000c175125b">ObjectGuid::ToString</a></div><div class="ttdeci">std::string ToString() const</div><div class="ttdef"><b>Definition</b> ObjectGuid.cpp:47</div></div>
<div class="ttc" id="aclassUnitAI_html_a165d336cb3423f9665ed612d2dec76ed"><div class="ttname"><a href="../../d0/ddd/classUnitAI.html#a165d336cb3423f9665ed612d2dec76ed">UnitAI::DoAction</a></div><div class="ttdeci">virtual void DoAction(int32)</div><div class="ttdef"><b>Definition</b> UnitAI.h:217</div></div>
<div class="ttc" id="aclassUnit_html_ac53944779fa1544c06a3fc3dc74f5294"><div class="ttname"><a href="../../df/dd9/classUnit.html#ac53944779fa1544c06a3fc3dc74f5294">Unit::GetAI</a></div><div class="ttdeci">UnitAI * GetAI()</div><div class="ttdef"><b>Definition</b> Unit.h:683</div></div>
<div class="ttc" id="aclassWorldState_html_a0729184dcf24b56d3c09962e64b0f04a"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a0729184dcf24b56d3c09962e64b0f04a">WorldState::GetActiveZones</a></div><div class="ttdeci">uint32 GetActiveZones()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1914</div></div>
<div class="ttc" id="aclassWorldState_html_a60d5e7cd4ef857d7085fdb0b16107d12"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a60d5e7cd4ef857d7085fdb0b16107d12">WorldState::StartNewInvasionIfTime</a></div><div class="ttdeci">void StartNewInvasionIfTime(uint32 attackTimeVar, uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1613</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1InvasionZone_html"><div class="ttname"><a href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a></div><div class="ttdef"><b>Definition</b> WorldState.h:178</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1InvasionZone_html_a2245c14e379c83bdd47165e829de2e41"><div class="ttname"><a href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a2245c14e379c83bdd47165e829de2e41">ScourgeInvasionData::InvasionZone::mouthGuid</a></div><div class="ttdeci">ObjectGuid mouthGuid</div><div class="ttdef"><b>Definition</b> WorldState.h:184</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1InvasionZone_html_a274c6d61203c24b3c680055244e1f590"><div class="ttname"><a href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">ScourgeInvasionData::InvasionZone::map</a></div><div class="ttdeci">uint32 map</div><div class="ttdef"><b>Definition</b> WorldState.h:179</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1InvasionZone_html_a98e1490705f74627cf9e5483857f3f25"><div class="ttname"><a href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">ScourgeInvasionData::InvasionZone::zoneId</a></div><div class="ttdeci">uint32 zoneId</div><div class="ttdef"><b>Definition</b> WorldState.h:180</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_af98aea31bf9c878adf2870890911282f"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#af98aea31bf9c878adf2870890911282f">ScourgeInvasionData::m_activeInvasions</a></div><div class="ttdeci">std::map&lt; uint32, InvasionZone &gt; m_activeInvasions</div><div class="ttdef"><b>Definition</b> WorldState.h:206</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00217">UnitAI::DoAction()</a>, <a class="el" href="../../#l00114">EVENT_HERALD_OF_THE_LICH_KING_ZONE_STOP</a>, <a class="el" href="../../#l01914">GetActiveZones()</a>, <a class="el" href="../../#l00683">Unit::GetAI()</a>, <a class="el" href="../../#l02357">Map::GetCreature()</a>, <a class="el" href="../../#l01458">GetSIRemaining()</a>, <a class="el" href="../../#l00170">LOG_DEBUG</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00166">LOG_INFO</a>, <a class="el" href="../../#l00206">ScourgeInvasionData::m_activeInvasions</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00179">ScourgeInvasionData::InvasionZone::map</a>, <a class="el" href="../../#l00184">ScourgeInvasionData::InvasionZone::mouthGuid</a>, <a class="el" href="../../#l00220">sMapMgr</a>, <a class="el" href="../../#l01613">StartNewInvasionIfTime()</a>, <a class="el" href="../../#l00377">sWorldState</a>, <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>, <a class="el" href="../../#l00044">urand()</a>, <a class="el" href="../../#l00170">ZONE_ATTACK_TIMER_MAX</a>, <a class="el" href="../../#l00169">ZONE_ATTACK_TIMER_MIN</a>, and <a class="el" href="../../#l00180">ScourgeInvasionData::InvasionZone::zoneId</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00305">Update()</a>.</p>

</div>
</div>
<a id="a210ba9c92b727b3a0bb18b59194cc70a" name="a210ba9c92b727b3a0bb18b59194cc70a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210ba9c92b727b3a0bb18b59194cc70a">&#9670;&#160;</a></span>HandleConditionStateChange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleConditionStateChange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6">WorldStateCondition</a>&#160;</td>
          <td class="paramname"><em>conditionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  248</span>{</div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a623770af3df5cf1f60ad79f4d58dc463">_transportStates</a>[conditionId] = state;</div>
<div class="line"><span class="lineno">  250</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00326">_transportStates</a>.</p>

</div>
</div>
<a id="a63958dd407c96479e4d46dfbfc6d5371" name="a63958dd407c96479e4d46dfbfc6d5371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63958dd407c96479e4d46dfbfc6d5371">&#9670;&#160;</a></span>HandleDefendedZones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleDefendedZones </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1569</span>{</div>
<div class="line"><span class="lineno"> 1570</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> &lt; <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0ae01e004cbb09ca629c71fe900a9b3fdb">CONFIG_SCOURGEINVASION_COUNTER_FIRST</a>))</div>
<div class="line"><span class="lineno"> 1571</span>    {</div>
<div class="line"><span class="lineno"> 1572</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ad34d4ccb375f8684c1fa36005edbceb9">GAME_EVENT_SCOURGE_INVASION_50_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1573</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aebd21704d642e8c639d27c629e0f2cec">GAME_EVENT_SCOURGE_INVASION_100_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1574</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a59cd78d1eaeb1a9230d809b097a6db91">GAME_EVENT_SCOURGE_INVASION_150_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1575</span>    }</div>
<div class="line"><span class="lineno"> 1576</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> &gt;= <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0ae01e004cbb09ca629c71fe900a9b3fdb">CONFIG_SCOURGEINVASION_COUNTER_FIRST</a>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1577</span>             <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> &lt; <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0ad3634ec25963eac02755778cc633e540">CONFIG_SCOURGEINVASION_COUNTER_SECOND</a>))</div>
<div class="line"><span class="lineno"> 1578</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ad34d4ccb375f8684c1fa36005edbceb9">GAME_EVENT_SCOURGE_INVASION_50_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1579</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> &gt;= <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0ad3634ec25963eac02755778cc633e540">CONFIG_SCOURGEINVASION_COUNTER_SECOND</a>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1580</span>             <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> &lt; <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0acd8a3a7083a7edaf93df671dfec4f29b">CONFIG_SCOURGEINVASION_COUNTER_THIRD</a>))</div>
<div class="line"><span class="lineno"> 1581</span>    {</div>
<div class="line"><span class="lineno"> 1582</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ad34d4ccb375f8684c1fa36005edbceb9">GAME_EVENT_SCOURGE_INVASION_50_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1583</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aebd21704d642e8c639d27c629e0f2cec">GAME_EVENT_SCOURGE_INVASION_100_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1584</span>    }</div>
<div class="line"><span class="lineno"> 1585</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> &gt;= <a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0acd8a3a7083a7edaf93df671dfec4f29b">CONFIG_SCOURGEINVASION_COUNTER_THIRD</a>))</div>
<div class="line"><span class="lineno"> 1586</span>    {</div>
<div class="line"><span class="lineno"> 1587</span>        <span class="comment">// The event is enabled via command, so we expect it to be disabled via command as well.</span></div>
<div class="line"><span class="lineno"> 1588</span>        <span class="comment">// sGameEventMgr-&gt;StopEvent(GAME_EVENT_SCOURGE_INVASION);</span></div>
<div class="line"><span class="lineno"> 1589</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ad34d4ccb375f8684c1fa36005edbceb9">GAME_EVENT_SCOURGE_INVASION_50_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1590</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aebd21704d642e8c639d27c629e0f2cec">GAME_EVENT_SCOURGE_INVASION_100_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1591</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a720302fea42989e522858f081bd3e81a">GAME_EVENT_SCOURGE_INVASION_INVASIONS_DONE</a>);</div>
<div class="line"><span class="lineno"> 1592</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a59cd78d1eaeb1a9230d809b097a6db91">GAME_EVENT_SCOURGE_INVASION_150_INVASIONS</a>);</div>
<div class="line"><span class="lineno"> 1593</span>    }</div>
<div class="line"><span class="lineno"> 1594</span>}</div>
<div class="ttc" id="aGameEventMgr_8h_html_a3c1c916d94272dfe845b9cc5e8fc292a"><div class="ttname"><a href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a></div><div class="ttdeci">#define sGameEventMgr</div><div class="ttdef"><b>Definition</b> GameEventMgr.h:201</div></div>
<div class="ttc" id="aWorldConfig_8h_html_a468ad15992691eb97dd20680046832e0acd8a3a7083a7edaf93df671dfec4f29b"><div class="ttname"><a href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0acd8a3a7083a7edaf93df671dfec4f29b">CONFIG_SCOURGEINVASION_COUNTER_THIRD</a></div><div class="ttdeci">@ CONFIG_SCOURGEINVASION_COUNTER_THIRD</div><div class="ttdef"><b>Definition</b> WorldConfig.h:387</div></div>
<div class="ttc" id="aWorldConfig_8h_html_a468ad15992691eb97dd20680046832e0ad3634ec25963eac02755778cc633e540"><div class="ttname"><a href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0ad3634ec25963eac02755778cc633e540">CONFIG_SCOURGEINVASION_COUNTER_SECOND</a></div><div class="ttdeci">@ CONFIG_SCOURGEINVASION_COUNTER_SECOND</div><div class="ttdef"><b>Definition</b> WorldConfig.h:386</div></div>
<div class="ttc" id="aWorldConfig_8h_html_a468ad15992691eb97dd20680046832e0ae01e004cbb09ca629c71fe900a9b3fdb"><div class="ttname"><a href="../../da/d02/WorldConfig_8h.html#a468ad15992691eb97dd20680046832e0ae01e004cbb09ca629c71fe900a9b3fdb">CONFIG_SCOURGEINVASION_COUNTER_FIRST</a></div><div class="ttdeci">@ CONFIG_SCOURGEINVASION_COUNTER_FIRST</div><div class="ttdef"><b>Definition</b> WorldConfig.h:385</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a59cd78d1eaeb1a9230d809b097a6db91"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a59cd78d1eaeb1a9230d809b097a6db91">GAME_EVENT_SCOURGE_INVASION_150_INVASIONS</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_150_INVASIONS</div><div class="ttdef"><b>Definition</b> WorldState.h:77</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a720302fea42989e522858f081bd3e81a"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a720302fea42989e522858f081bd3e81a">GAME_EVENT_SCOURGE_INVASION_INVASIONS_DONE</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_INVASIONS_DONE</div><div class="ttdef"><b>Definition</b> WorldState.h:78</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ad34d4ccb375f8684c1fa36005edbceb9"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ad34d4ccb375f8684c1fa36005edbceb9">GAME_EVENT_SCOURGE_INVASION_50_INVASIONS</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_50_INVASIONS</div><div class="ttdef"><b>Definition</b> WorldState.h:75</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780aebd21704d642e8c639d27c629e0f2cec"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aebd21704d642e8c639d27c629e0f2cec">GAME_EVENT_SCOURGE_INVASION_100_INVASIONS</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_100_INVASIONS</div><div class="ttdef"><b>Definition</b> WorldState.h:76</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00385">CONFIG_SCOURGEINVASION_COUNTER_FIRST</a>, <a class="el" href="../../#l00386">CONFIG_SCOURGEINVASION_COUNTER_SECOND</a>, <a class="el" href="../../#l00387">CONFIG_SCOURGEINVASION_COUNTER_THIRD</a>, <a class="el" href="../../#l00076">GAME_EVENT_SCOURGE_INVASION_100_INVASIONS</a>, <a class="el" href="../../#l00077">GAME_EVENT_SCOURGE_INVASION_150_INVASIONS</a>, <a class="el" href="../../#l00075">GAME_EVENT_SCOURGE_INVASION_50_INVASIONS</a>, <a class="el" href="../../#l00078">GAME_EVENT_SCOURGE_INVASION_INVASIONS_DONE</a>, <a class="el" href="../../#l00198">ScourgeInvasionData::m_battlesWon</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, and <a class="el" href="../../#l00316">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01504">AddBattlesWon()</a>, and <a class="el" href="../../#l00049">Load()</a>.</p>

</div>
</div>
<a id="ade529a26b08fca422a215c5aac78bb52" name="ade529a26b08fca422a215c5aac78bb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade529a26b08fca422a215c5aac78bb52">&#9670;&#160;</a></span>HandleExternalEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleExternalEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266">WorldStateEvent</a>&#160;</td>
          <td class="paramname"><em>eventId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  265</span>{</div>
<div class="line"><span class="lineno">  266</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a>);</div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">switch</span> (eventId)</div>
<div class="line"><span class="lineno">  268</span>    {</div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266aa2c3350c135eec4653e10f9a416d4ae8">WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</a>:</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  271</span>            {</div>
<div class="line"><span class="lineno">  272</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> = 120 * <a class="code hl_variable" href="../../dc/d33/Common_8h.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a> * <a class="code hl_variable" href="../../dc/d33/Common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><span class="lineno">  273</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a4d8d179e7211636c5cb406356cbc548e">BuffAdalsSongOfBattle</a>();</div>
<div class="line"><span class="lineno">  274</span>            }</div>
<div class="line"><span class="lineno">  275</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266ae87a6f363d942d1928ba2b052ab2f88e">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</a>:</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">if</span> (param == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  278</span>            {</div>
<div class="line"><span class="lineno">  279</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  280</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">BuffMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>);</div>
<div class="line"><span class="lineno">  281</span>            }</div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  283</span>            {</div>
<div class="line"><span class="lineno">  284</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  285</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">BuffMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>);</div>
<div class="line"><span class="lineno">  286</span>            }</div>
<div class="line"><span class="lineno">  287</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266a4c5ce93e17daa3d8df5b892b3d76af2b">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</a>:</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">if</span> (param == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  290</span>            {</div>
<div class="line"><span class="lineno">  291</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  292</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">DispelMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>);</div>
<div class="line"><span class="lineno">  293</span>            }</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  295</span>            {</div>
<div class="line"><span class="lineno">  296</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  297</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">DispelMagtheridonTeam</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>);</div>
<div class="line"><span class="lineno">  298</span>            }</div>
<div class="line"><span class="lineno">  299</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  302</span>    }</div>
<div class="line"><span class="lineno">  303</span>}</div>
<div class="ttc" id="aCommon_8h_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../dc/d33/Common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition</b> Common.h:53</div></div>
<div class="ttc" id="aCommon_8h_html_afacf27522adfacf698390ddafc53fa30"><div class="ttname"><a href="../../dc/d33/Common_8h.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a></div><div class="ttdeci">constexpr auto MINUTE</div><div class="ttdef"><b>Definition</b> Common.h:47</div></div>
<div class="ttc" id="aWorldState_8h_html_adc7b7b38a655f2354624ac5335163266a4c5ce93e17daa3d8df5b892b3d76af2b"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266a4c5ce93e17daa3d8df5b892b3d76af2b">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</a></div><div class="ttdeci">@ WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</div><div class="ttdef"><b>Definition</b> WorldState.h:45</div></div>
<div class="ttc" id="aWorldState_8h_html_adc7b7b38a655f2354624ac5335163266aa2c3350c135eec4653e10f9a416d4ae8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266aa2c3350c135eec4653e10f9a416d4ae8">WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</a></div><div class="ttdeci">@ WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</div><div class="ttdef"><b>Definition</b> WorldState.h:43</div></div>
<div class="ttc" id="aWorldState_8h_html_adc7b7b38a655f2354624ac5335163266ae87a6f363d942d1928ba2b052ab2f88e"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#adc7b7b38a655f2354624ac5335163266ae87a6f363d942d1928ba2b052ab2f88e">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</a></div><div class="ttdeci">@ WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</div><div class="ttdef"><b>Definition</b> WorldState.h:44</div></div>
<div class="ttc" id="aclassWorldState_html_a4d8d179e7211636c5cb406356cbc548e"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a4d8d179e7211636c5cb406356cbc548e">WorldState::BuffAdalsSongOfBattle</a></div><div class="ttdeci">void BuffAdalsSongOfBattle()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:489</div></div>
<div class="ttc" id="aclassWorldState_html_a6eafdbdd9c30de839b5768aaf9ae16a8"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a6eafdbdd9c30de839b5768aaf9ae16a8">WorldState::DispelMagtheridonTeam</a></div><div class="ttdeci">void DispelMagtheridonTeam(TeamId team)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:456</div></div>
<div class="ttc" id="aclassWorldState_html_a8b6fa603f03ebf22874990b5beb37f55"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">WorldState::_mutex</a></div><div class="ttdeci">std::mutex _mutex</div><div class="ttdef"><b>Definition</b> WorldState.h:327</div></div>
<div class="ttc" id="aclassWorldState_html_adcfb88f8c931e68b98bfd2f06ce1cee5"><div class="ttname"><a href="../../d3/da9/classWorldState.html#adcfb88f8c931e68b98bfd2f06ce1cee5">WorldState::BuffMagtheridonTeam</a></div><div class="ttdeci">void BuffMagtheridonTeam(TeamId team)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:423</div></div>
<div class="ttc" id="aclassWorldState_html_aedccbddea39cd0a6ddf835147ca27da1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">WorldState::_adalSongOfBattleTimer</a></div><div class="ttdeci">uint32 _adalSongOfBattleTimer</div><div class="ttdef"><b>Definition</b> WorldState.h:320</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00320">_adalSongOfBattleTimer</a>, <a class="el" href="../../#l00324">_isMagtheridonHeadSpawnedAlliance</a>, <a class="el" href="../../#l00323">_isMagtheridonHeadSpawnedHorde</a>, <a class="el" href="../../#l00327">_mutex</a>, <a class="el" href="../../#l00489">BuffAdalsSongOfBattle()</a>, <a class="el" href="../../#l00423">BuffMagtheridonTeam()</a>, <a class="el" href="../../#l00456">DispelMagtheridonTeam()</a>, <a class="el" href="../../#l00053">IN_MILLISECONDS</a>, <a class="el" href="../../#l00047">MINUTE</a>, <a class="el" href="../../#l00771">TEAM_ALLIANCE</a>, <a class="el" href="../../#l00772">TEAM_HORDE</a>, <a class="el" href="../../#l00043">WORLD_STATE_CUSTOM_EVENT_ON_ADALS_SONG_OF_BATTLE</a>, <a class="el" href="../../#l00045">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_DESPAWN</a>, and <a class="el" href="../../#l00044">WORLD_STATE_CUSTOM_EVENT_ON_MAGTHERIDON_HEAD_SPAWN</a>.</p>

</div>
</div>
<a id="adea39d5d407e56368e4a67dd959d0c78" name="adea39d5d407e56368e4a67dd959d0c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adea39d5d407e56368e4a67dd959d0c78">&#9670;&#160;</a></span>HandlePlayerEnterZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandlePlayerEnterZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  348</span>{</div>
<div class="line"><span class="lineno">  349</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a>);</div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno">  351</span>    {</div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a>:</div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c">AREA_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97">AREA_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c">AREA_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  356</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  357</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  358</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49">AREA_HELLFIRE_PENINSULA</a>:</div>
<div class="line"><span class="lineno">  360</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43">AREA_HELLFIRE_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e">AREA_HELLFIRE_CITADEL</a>:</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8">AREA_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb">AREA_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5">AREA_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  365</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a> &amp;&amp; player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  366</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  367</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a> &amp;&amp; player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  368</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  369</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a>:</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a>:</div>
<div class="line"><span class="lineno">  373</span>        {</div>
<div class="line"><span class="lineno">  374</span>            std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>);</div>
<div class="line"><span class="lineno">  375</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.push_back(player-&gt;<a class="code hl_function" href="../../d8/d4b/classObject.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>)</div>
<div class="line"><span class="lineno">  377</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  378</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  379</span>        }</div>
<div class="line"><span class="lineno">  380</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  381</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  382</span>    }</div>
<div class="line"><span class="lineno">  383</span>};</div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97">AREA_THE_MECHANAR</a></div><div class="ttdeci">@ AREA_THE_MECHANAR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:135</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8">AREA_THE_BLOOD_FURNACE</a></div><div class="ttdeci">@ AREA_THE_BLOOD_FURNACE</div><div class="ttdef"><b>Definition</b> AreaDefines.h:121</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e">AREA_HELLFIRE_CITADEL</a></div><div class="ttdeci">@ AREA_HELLFIRE_CITADEL</div><div class="ttdef"><b>Definition</b> AreaDefines.h:111</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c">AREA_THE_ARCATRAZ</a></div><div class="ttdeci">@ AREA_THE_ARCATRAZ</div><div class="ttdef"><b>Definition</b> AreaDefines.h:134</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43">AREA_HELLFIRE_RAMPARTS</a></div><div class="ttdeci">@ AREA_HELLFIRE_RAMPARTS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:110</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5">AREA_MAGTHERIDONS_LAIR</a></div><div class="ttdeci">@ AREA_MAGTHERIDONS_LAIR</div><div class="ttdef"><b>Definition</b> AreaDefines.h:132</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c">AREA_THE_BOTANICA</a></div><div class="ttdeci">@ AREA_THE_BOTANICA</div><div class="ttdef"><b>Definition</b> AreaDefines.h:133</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49">AREA_HELLFIRE_PENINSULA</a></div><div class="ttdeci">@ AREA_HELLFIRE_PENINSULA</div><div class="ttdef"><b>Definition</b> AreaDefines.h:98</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb">AREA_THE_SHATTERED_HALLS</a></div><div class="ttdeci">@ AREA_THE_SHATTERED_HALLS</div><div class="ttdef"><b>Definition</b> AreaDefines.h:122</div></div>
<div class="ttc" id="aWorldState_8h_html_a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a></div><div class="ttdeci">@ SUBPHASE_ALL</div><div class="ttdef"><b>Definition</b> WorldState.h:229</div></div>
<div class="ttc" id="aWorldState_8h_html_a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a></div><div class="ttdeci">@ SPELL_KIRU_SONG_OF_VICTORY</div><div class="ttdef"><b>Definition</b> WorldState.h:55</div></div>
<div class="ttc" id="aclassObject_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../d8/d4b/classObject.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition</b> Object.h:113</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00320">_adalSongOfBattleTimer</a>, <a class="el" href="../../#l00324">_isMagtheridonHeadSpawnedAlliance</a>, <a class="el" href="../../#l00323">_isMagtheridonHeadSpawnedHorde</a>, <a class="el" href="../../#l00327">_mutex</a>, <a class="el" href="../../#l00111">AREA_HELLFIRE_CITADEL</a>, <a class="el" href="../../#l00098">AREA_HELLFIRE_PENINSULA</a>, <a class="el" href="../../#l00110">AREA_HELLFIRE_RAMPARTS</a>, <a class="el" href="../../#l00140">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00143">AREA_MAGISTERS_TERRACE</a>, <a class="el" href="../../#l00132">AREA_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l00118">AREA_SHATTRATH_CITY</a>, <a class="el" href="../../#l00139">AREA_SUNWELL_PLATEAU</a>, <a class="el" href="../../#l00134">AREA_THE_ARCATRAZ</a>, <a class="el" href="../../#l00121">AREA_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00133">AREA_THE_BOTANICA</a>, <a class="el" href="../../#l00135">AREA_THE_MECHANAR</a>, <a class="el" href="../../#l00122">AREA_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l01194">Unit::CastSpell()</a>, <a class="el" href="../../#l00113">Object::GetGUID()</a>, <a class="el" href="../../#l02100">Player::GetTeamId()</a>, <a class="el" href="../../#l00265">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00268">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00267">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00050">SPELL_ADAL_SONG_OF_BATTLE</a>, <a class="el" href="../../#l00055">SPELL_KIRU_SONG_OF_VICTORY</a>, <a class="el" href="../../#l00053">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00052">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00229">SUBPHASE_ALL</a>, <a class="el" href="../../#l00771">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00772">TEAM_HORDE</a>.</p>

</div>
</div>
<a id="aaccc044b7005ac0a58304310ee549fbc" name="aaccc044b7005ac0a58304310ee549fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaccc044b7005ac0a58304310ee549fbc">&#9670;&#160;</a></span>HandlePlayerLeaveZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandlePlayerLeaveZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d4b/classPlayer.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3">AreaTableIDs</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  385</span>{</div>
<div class="line"><span class="lineno">  386</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a8b6fa603f03ebf22874990b5beb37f55">_mutex</a>);</div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno">  388</span>    {</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ac93b050927b91c4f1b4644907f707972">AREA_SHATTRATH_CITY</a>:</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad3766ed281cca0bd8dcc0f6bdc1bff3c">AREA_THE_BOTANICA</a>:</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3c1bbf25e615ddda433b67364eaf1b97">AREA_THE_MECHANAR</a>:</div>
<div class="line"><span class="lineno">  392</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a66112912cc8611bd614948150fb2439c">AREA_THE_ARCATRAZ</a>:</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  394</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91aee000da68d862de5291b513ea52734f8">SPELL_ADAL_SONG_OF_BATTLE</a>);</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ae0ad2662cc4bd03a96e9f7bfa59d9e49">AREA_HELLFIRE_PENINSULA</a>:</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3abc36c970b4da58e237ab991b3013cf43">AREA_HELLFIRE_RAMPARTS</a>:</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a640280d846ea0fc5548fdad46c59862e">AREA_HELLFIRE_CITADEL</a>:</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a44b4d825a485fe88631a5f12525821f8">AREA_THE_BLOOD_FURNACE</a>:</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3afad99bea66940d7ebd3572a25d0ac8fb">AREA_THE_SHATTERED_HALLS</a>:</div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace3833850a496ba22004a52e4c70a5f5">AREA_MAGTHERIDONS_LAIR</a>:</div>
<div class="line"><span class="lineno">  402</span>            <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  403</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a73c7be494acfdbd7532eaf802ab4598d">SPELL_TROLLBANES_COMMAND</a>);</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d2/d4b/classPlayer.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno">  405</span>                player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91a02b7508a9e44658cb4bf28d1bb487d60">SPELL_NAZGRELS_FAVOR</a>);</div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  407</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a93a774ebcaf20d474a1e66cf55fa284c">AREA_MAGISTERS_TERRACE</a>:</div>
<div class="line"><span class="lineno">  409</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab994254b14a41b328a73d11d5d477a14">AREA_SUNWELL_PLATEAU</a>:</div>
<div class="line"><span class="lineno">  410</span>        {</div>
<div class="line"><span class="lineno">  411</span>            std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>);</div>
<div class="line"><span class="lineno">  412</span>            player-&gt;<a class="code hl_function" href="../../df/dd9/classUnit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>);</div>
<div class="line"><span class="lineno">  413</span>            <span class="keyword">auto</span> position = std::find(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.begin(), <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.end(), player-&gt;<a class="code hl_function" href="../../d8/d4b/classObject.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  414</span>            <span class="keywordflow">if</span> (position != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.end())</div>
<div class="line"><span class="lineno">  415</span>                <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>.erase(position);</div>
<div class="line"><span class="lineno">  416</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  417</span>        }</div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  419</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  420</span>    }</div>
<div class="line"><span class="lineno">  421</span>};</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00320">_adalSongOfBattleTimer</a>, <a class="el" href="../../#l00327">_mutex</a>, <a class="el" href="../../#l00111">AREA_HELLFIRE_CITADEL</a>, <a class="el" href="../../#l00098">AREA_HELLFIRE_PENINSULA</a>, <a class="el" href="../../#l00110">AREA_HELLFIRE_RAMPARTS</a>, <a class="el" href="../../#l00140">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00143">AREA_MAGISTERS_TERRACE</a>, <a class="el" href="../../#l00132">AREA_MAGTHERIDONS_LAIR</a>, <a class="el" href="../../#l00118">AREA_SHATTRATH_CITY</a>, <a class="el" href="../../#l00139">AREA_SUNWELL_PLATEAU</a>, <a class="el" href="../../#l00134">AREA_THE_ARCATRAZ</a>, <a class="el" href="../../#l00121">AREA_THE_BLOOD_FURNACE</a>, <a class="el" href="../../#l00133">AREA_THE_BOTANICA</a>, <a class="el" href="../../#l00135">AREA_THE_MECHANAR</a>, <a class="el" href="../../#l00122">AREA_THE_SHATTERED_HALLS</a>, <a class="el" href="../../#l00113">Object::GetGUID()</a>, <a class="el" href="../../#l02100">Player::GetTeamId()</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00268">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00267">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l05032">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00050">SPELL_ADAL_SONG_OF_BATTLE</a>, <a class="el" href="../../#l00055">SPELL_KIRU_SONG_OF_VICTORY</a>, <a class="el" href="../../#l00053">SPELL_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00052">SPELL_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00771">TEAM_ALLIANCE</a>, and <a class="el" href="../../#l00772">TEAM_HORDE</a>.</p>

</div>
</div>
<a id="a1123ff0edde32f57a1cc13b275c2e956" name="a1123ff0edde32f57a1cc13b275c2e956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1123ff0edde32f57a1cc13b275c2e956">&#9670;&#160;</a></span>HandleSunsReachPhaseTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleSunsReachPhaseTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>newPhase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  717</span>{</div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordflow">if</span> (newPhase &lt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  719</span>    {</div>
<div class="line"><span class="lineno">  720</span>        <span class="keywordflow">while</span> (newPhase != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  721</span>        {</div>
<div class="line"><span class="lineno">  722</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">StopSunsReachPhase</a>(newPhase &gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  723</span>            --<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>;</div>
<div class="line"><span class="lineno">  724</span>        }</div>
<div class="line"><span class="lineno">  725</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a>();</div>
<div class="line"><span class="lineno">  726</span>    }</div>
<div class="line"><span class="lineno">  727</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  728</span>    {</div>
<div class="line"><span class="lineno">  729</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">StopSunsReachPhase</a>(newPhase &gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>);</div>
<div class="line"><span class="lineno">  730</span>        <span class="keywordtype">bool</span> moreThanOne = newPhase &gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> + 1; <span class="comment">// custom command case</span></div>
<div class="line"><span class="lineno">  731</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> = newPhase;</div>
<div class="line"><span class="lineno">  732</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a>(moreThanOne);</div>
<div class="line"><span class="lineno">  733</span>    }</div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  735</span>    {</div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>: <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  737</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>: <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  738</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>:</div>
<div class="line"><span class="lineno">  739</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>);</div>
<div class="line"><span class="lineno">  740</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>);</div>
<div class="line"><span class="lineno">  741</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  742</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  743</span>    }</div>
<div class="line"><span class="lineno">  744</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>, <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21babfd28954ae4ce2ce10150f5a5805dd96">WORLD_STATE_QUEL_DANAS_MUSIC</a>);</div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  746</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldState.h:101</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</div><div class="ttdef"><b>Definition</b> WorldState.h:92</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</div><div class="ttdef"><b>Definition</b> WorldState.h:96</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldState.h:99</div></div>
<div class="ttc" id="aclassWorldState_html_a97eabce4c25bd59dabb9b417574cc2cb"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a97eabce4c25bd59dabb9b417574cc2cb">WorldState::StopSunsReachPhase</a></div><div class="ttdeci">void StopSunsReachPhase(bool forward)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:904</div></div>
<div class="ttc" id="aclassWorldState_html_aa0ccc9b698e2449bbde90e85b3e6eda8"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">WorldState::StartSunsReachPhase</a></div><div class="ttdeci">void StartSunsReachPhase(bool initial=false)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:916</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00092">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>, <a class="el" href="../../#l00096">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>, <a class="el" href="../../#l00101">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>, <a class="el" href="../../#l00099">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00265">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00268">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00267">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l00061">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00543">SendWorldstateUpdate()</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00916">StartSunsReachPhase()</a>, <a class="el" href="../../#l00904">StopSunsReachPhase()</a>, <a class="el" href="../../#l00227">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00226">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00228">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00225">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00218">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00219">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00220">SUNS_REACH_PHASE_4_HARBOR</a>, and <a class="el" href="../../#l00049">WORLD_STATE_QUEL_DANAS_MUSIC</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00567">AddSunsReachProgress()</a>.</p>

</div>
</div>
<a id="aa0cf4fec23a9aa71346996c46d38c58b" name="aa0cf4fec23a9aa71346996c46d38c58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0cf4fec23a9aa71346996c46d38c58b">&#9670;&#160;</a></span>HandleSunsReachSubPhaseTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleSunsReachSubPhaseTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>subPhaseMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initial</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  749</span>{</div>
<div class="line"><span class="lineno">  750</span>    <span class="keywordtype">bool</span> start = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  751</span>    <span class="keywordflow">if</span> (subPhaseMask &lt; 0)</div>
<div class="line"><span class="lineno">  752</span>    {</div>
<div class="line"><span class="lineno">  753</span>        start = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  754</span>        subPhaseMask = -subPhaseMask;</div>
<div class="line"><span class="lineno">  755</span>    }</div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordtype">bool</span> all = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  757</span>    <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  758</span>    {</div>
<div class="line"><span class="lineno">  759</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> |= subPhaseMask;</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>) == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>)</div>
<div class="line"><span class="lineno">  761</span>            all = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  762</span>    }</div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  764</span>    {</div>
<div class="line"><span class="lineno">  765</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>) == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a449fd29e38beaff4aaa5c96915aa459f">SUBPHASE_ALL</a>)</div>
<div class="line"><span class="lineno">  766</span>            all = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  767</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> &amp;= ~subPhaseMask;</div>
<div class="line"><span class="lineno">  768</span>    }</div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordflow">if</span> (initial)</div>
<div class="line"><span class="lineno">  770</span>    {</div>
<div class="line"><span class="lineno">  771</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>)</div>
<div class="line"><span class="lineno">  772</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>) == 0)</div>
<div class="line"><span class="lineno">  773</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>);</div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>)</div>
<div class="line"><span class="lineno">  775</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>) == 0)</div>
<div class="line"><span class="lineno">  776</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>);</div>
<div class="line"><span class="lineno">  777</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;= <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>)</div>
<div class="line"><span class="lineno">  778</span>        {</div>
<div class="line"><span class="lineno">  779</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>) == 0)</div>
<div class="line"><span class="lineno">  780</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>);</div>
<div class="line"><span class="lineno">  781</span>            <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>) == 0)</div>
<div class="line"><span class="lineno">  782</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>);</div>
<div class="line"><span class="lineno">  783</span>        }</div>
<div class="line"><span class="lineno">  784</span>    }</div>
<div class="line"><span class="lineno">  785</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ad4a4e1b4e65a4f58b9e10c41e1783956">SUBPHASE_PORTAL</a>))</div>
<div class="line"><span class="lineno">  786</span>    {</div>
<div class="line"><span class="lineno">  787</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a955ffa53767730c30e65fb0b1a19cd2e">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>;</div>
<div class="line"><span class="lineno">  788</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a098f13784dc87ba5eb03fdb180918bd3">GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</a>;</div>
<div class="line"><span class="lineno">  789</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  790</span>        {</div>
<div class="line"><span class="lineno">  791</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  792</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  793</span>        }</div>
<div class="line"><span class="lineno">  794</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  795</span>        {</div>
<div class="line"><span class="lineno">  796</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  797</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  798</span>        }</div>
<div class="line"><span class="lineno">  799</span>    }</div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a4d77060db8b4d0bcdf14befefe656f13">SUBPHASE_ANVIL</a>))</div>
<div class="line"><span class="lineno">  801</span>    {</div>
<div class="line"><span class="lineno">  802</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a982866fd1ea3dc7295b56478278dcc6d">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>;</div>
<div class="line"><span class="lineno">  803</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a858498a06e8dad4b35e61d229573239f">GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</a>;</div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  805</span>        {</div>
<div class="line"><span class="lineno">  806</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  807</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  808</span>        }</div>
<div class="line"><span class="lineno">  809</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  810</span>        {</div>
<div class="line"><span class="lineno">  811</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  812</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  813</span>        }</div>
<div class="line"><span class="lineno">  814</span>    }</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8a2de7705acf58b5c9490bf1e95e3ead73">SUBPHASE_ALCHEMY_LAB</a>))</div>
<div class="line"><span class="lineno">  816</span>    {</div>
<div class="line"><span class="lineno">  817</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a34ba50ef842ffe3bb0b34660b6da6c86">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  818</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780afa50c0d5d0af7ac2567dca5d916f842c">GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</a>;</div>
<div class="line"><span class="lineno">  819</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  820</span>        {</div>
<div class="line"><span class="lineno">  821</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  822</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  823</span>        }</div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  825</span>        {</div>
<div class="line"><span class="lineno">  826</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  827</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  828</span>        }</div>
<div class="line"><span class="lineno">  829</span>    }</div>
<div class="line"><span class="lineno">  830</span>    <span class="keywordflow">if</span> ((subPhaseMask &amp; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a1a971b6e72e7e5cd29d560dfaa9fdfe8ac29321ac9e23150a2e3acb0dcc0b1764">SUBPHASE_MONUMENT</a>))</div>
<div class="line"><span class="lineno">  831</span>    {</div>
<div class="line"><span class="lineno">  832</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9974731c2acb170f5647424100e43c7a">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  833</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> second = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a2fbc409aeb61c5d20ff2393062741bff">GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</a>;</div>
<div class="line"><span class="lineno">  834</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  835</span>        {</div>
<div class="line"><span class="lineno">  836</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(first);</div>
<div class="line"><span class="lineno">  837</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(second);</div>
<div class="line"><span class="lineno">  838</span>        }</div>
<div class="line"><span class="lineno">  839</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  840</span>        {</div>
<div class="line"><span class="lineno">  841</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(second);</div>
<div class="line"><span class="lineno">  842</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(first);</div>
<div class="line"><span class="lineno">  843</span>        }</div>
<div class="line"><span class="lineno">  844</span>    }</div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">if</span> (all)</div>
<div class="line"><span class="lineno">  846</span>    {</div>
<div class="line"><span class="lineno">  847</span>        <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  848</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a>);</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  850</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a>);</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>        <span class="keywordflow">if</span> (!initial)</div>
<div class="line"><span class="lineno">  853</span>        {</div>
<div class="line"><span class="lineno">  854</span>            std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>);</div>
<div class="line"><span class="lineno">  855</span>            <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a> <span class="keyword">const</span>&amp; guid : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.m_sunsReachReclamationPlayers)</div>
<div class="line"><span class="lineno">  856</span>                if (<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player = <a class="code hl_namespace" href="../../de/d2d/namespaceObjectAccessor.html">ObjectAccessor</a>::<a class="code hl_function" href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">FindPlayer</a>(guid))</div>
<div class="line"><span class="lineno">  857</span>                {</div>
<div class="line"><span class="lineno">  858</span>                    <span class="keywordflow">if</span> (start)</div>
<div class="line"><span class="lineno">  859</span>                        player-&gt;CastSpell(player, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  860</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  861</span>                        player-&gt;RemoveAurasDueToSpell(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a882a758e503627632aa1d2a878086d91ace9722c8f1cdbfc30998ca2e9cfbc5a3">SPELL_KIRU_SONG_OF_VICTORY</a>);</div>
<div class="line"><span class="lineno">  862</span>                }</div>
<div class="line"><span class="lineno">  863</span>        }</div>
<div class="line"><span class="lineno">  864</span>    }</div>
<div class="line"><span class="lineno">  865</span>    <span class="keywordflow">if</span> (!initial)</div>
<div class="line"><span class="lineno">  866</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  867</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a098f13784dc87ba5eb03fdb180918bd3"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a098f13784dc87ba5eb03fdb180918bd3">GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</div><div class="ttdef"><b>Definition</b> WorldState.h:93</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a2fbc409aeb61c5d20ff2393062741bff"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a2fbc409aeb61c5d20ff2393062741bff">GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</div><div class="ttdef"><b>Definition</b> WorldState.h:100</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a8272eb3e0a97f786160757d670d64b21">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</div><div class="ttdef"><b>Definition</b> WorldState.h:103</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a858498a06e8dad4b35e61d229573239f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a858498a06e8dad4b35e61d229573239f">GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</div><div class="ttdef"><b>Definition</b> WorldState.h:97</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780afa50c0d5d0af7ac2567dca5d916f842c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780afa50c0d5d0af7ac2567dca5d916f842c">GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</div><div class="ttdef"><b>Definition</b> WorldState.h:102</div></div>
<div class="ttc" id="anamespaceObjectAccessor_html"><div class="ttname"><a href="../../de/d2d/namespaceObjectAccessor.html">ObjectAccessor</a></div><div class="ttdef"><b>Definition</b> ObjectAccessor.h:61</div></div>
<div class="ttc" id="anamespaceObjectAccessor_html_a9ede56180a13f102ad195136eadb97ee"><div class="ttname"><a href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a></div><div class="ttdeci">Player * FindPlayer(ObjectGuid const guid)</div><div class="ttdef"><b>Definition</b> ObjectAccessor.cpp:245</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>, <a class="el" href="../../#l00092">GAME_EVENT_QUEL_DANAS_PHASE_2_NO_PORTAL</a>, <a class="el" href="../../#l00093">GAME_EVENT_QUEL_DANAS_PHASE_2_PORTAL</a>, <a class="el" href="../../#l00097">GAME_EVENT_QUEL_DANAS_PHASE_3_ANVIL</a>, <a class="el" href="../../#l00096">GAME_EVENT_QUEL_DANAS_PHASE_3_NO_ANVIL</a>, <a class="el" href="../../#l00102">GAME_EVENT_QUEL_DANAS_PHASE_4_ALCHEMY_LAB</a>, <a class="el" href="../../#l00103">GAME_EVENT_QUEL_DANAS_PHASE_4_KIRU</a>, <a class="el" href="../../#l00100">GAME_EVENT_QUEL_DANAS_PHASE_4_MONUMENT</a>, <a class="el" href="../../#l00101">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_ALCHEMY_LAB</a>, <a class="el" href="../../#l00099">GAME_EVENT_QUEL_DANAS_PHASE_4_NO_MONUMENT</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00265">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00268">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00267">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l00061">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00055">SPELL_KIRU_SONG_OF_VICTORY</a>, <a class="el" href="../../#l00227">SUBPHASE_ALCHEMY_LAB</a>, <a class="el" href="../../#l00229">SUBPHASE_ALL</a>, <a class="el" href="../../#l00226">SUBPHASE_ANVIL</a>, <a class="el" href="../../#l00228">SUBPHASE_MONUMENT</a>, <a class="el" href="../../#l00225">SUBPHASE_PORTAL</a>, <a class="el" href="../../#l00218">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00219">SUNS_REACH_PHASE_3_ARMORY</a>, and <a class="el" href="../../#l00220">SUNS_REACH_PHASE_4_HARBOR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00567">AddSunsReachProgress()</a>, and <a class="el" href="../../#l00049">Load()</a>.</p>

</div>
</div>
<a id="aa45877b4064df238a02c64f33990fba4" name="aa45877b4064df238a02c64f33990fba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa45877b4064df238a02c64f33990fba4">&#9670;&#160;</a></span>HandleSunwellGateTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::HandleSunwellGateTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>newGate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  870</span>{</div>
<div class="line"><span class="lineno">  871</span>    <span class="keywordflow">if</span> (newGate &lt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno">  872</span>    {</div>
<div class="line"><span class="lineno">  873</span>        <span class="keywordflow">while</span> (newGate != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno">  874</span>        {</div>
<div class="line"><span class="lineno">  875</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">StopSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  876</span>            --<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>;</div>
<div class="line"><span class="lineno">  877</span>        }</div>
<div class="line"><span class="lineno">  878</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  879</span>    }</div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  881</span>    {</div>
<div class="line"><span class="lineno">  882</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">StopSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  883</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> = newGate;</div>
<div class="line"><span class="lineno">  884</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  885</span>    }</div>
<div class="line"><span class="lineno">  886</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> worldState = 0;</div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordflow">switch</span> (newGate)</div>
<div class="line"><span class="lineno">  888</span>    {</div>
<div class="line"><span class="lineno">  889</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba40a108e6271fbcc562fa9a3fd9666ccd">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  890</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba36d5d95623fc1a018030767748115b69">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  891</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: worldState = <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba3ceb411ef60cd97089a937682d8964ed">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  892</span>    }</div>
<div class="line"><span class="lineno">  893</span>    <span class="keywordflow">if</span> (worldState)</div>
<div class="line"><span class="lineno">  894</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a61245833b5b6b4ad89c3dd17c3691ef1">SendWorldstateUpdate</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0ef2835b702469482926ec4942d0f786">m_sunsReachReclamationMutex</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a72780ba8e17ccf5513d104eb228b3411">m_sunsReachReclamationPlayers</a>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>, worldState);</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  897</span>}</div>
<div class="ttc" id="aclassWorldState_html_a5cb1e1ff43eb6b88935b86c875363e40"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">WorldState::StartSunwellGatePhase</a></div><div class="ttdeci">void StartSunwellGatePhase()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1204</div></div>
<div class="ttc" id="aclassWorldState_html_afbd4d4141d81f26e9fb6508b628e7e59"><div class="ttname"><a href="../../d3/da9/classWorldState.html#afbd4d4141d81f26e9fb6508b628e7e59">WorldState::StopSunwellGatePhase</a></div><div class="ttdeci">void StopSunwellGatePhase()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1216</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00269">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00268">SunsReachReclamationData::m_sunsReachReclamationMutex</a>, <a class="el" href="../../#l00267">SunsReachReclamationData::m_sunsReachReclamationPlayers</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l00061">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00543">SendWorldstateUpdate()</a>, <a class="el" href="../../#l01204">StartSunwellGatePhase()</a>, <a class="el" href="../../#l01216">StopSunwellGatePhase()</a>, <a class="el" href="../../#l00250">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00252">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, <a class="el" href="../../#l00251">SUNWELL_ROHENDOR_GATE2_OPEN</a>, <a class="el" href="../../#l00059">WORLD_STATE_AGAMATH_THE_FIRST_GATE_HEALTH</a>, <a class="el" href="../../#l00061">WORLD_STATE_ARCHONISUS_THE_FINAL_GATE_HEALTH</a>, and <a class="el" href="../../#l00060">WORLD_STATE_ROHENDOR_THE_SECOND_GATE_HEALTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01143">AddSunwellGateProgress()</a>.</p>

</div>
</div>
<a id="ab82b11875771d0efc209c452e4bc0ffd" name="ab82b11875771d0efc209c452e4bc0ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82b11875771d0efc209c452e4bc0ffd">&#9670;&#160;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/da9/classWorldState.html">WorldState</a> * WorldState::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   33</span>{</div>
<div class="line"><span class="lineno">   34</span>    <span class="keyword">static</span> <a class="code hl_class" href="../../d3/da9/classWorldState.html">WorldState</a> <a class="code hl_function" href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">instance</a>;</div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">return</span> &amp;<a class="code hl_function" href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">instance</a>;</div>
<div class="line"><span class="lineno">   36</span>}</div>
<div class="ttc" id="aclassWorldState_html"><div class="ttname"><a href="../../d3/da9/classWorldState.html">WorldState</a></div><div class="ttdef"><b>Definition</b> WorldState.h:284</div></div>
<div class="ttc" id="aclassWorldState_html_ab82b11875771d0efc209c452e4bc0ffd"><div class="ttname"><a href="../../d3/da9/classWorldState.html#ab82b11875771d0efc209c452e4bc0ffd">WorldState::instance</a></div><div class="ttdeci">static WorldState * instance()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:32</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00032">instance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00032">instance()</a>.</p>

</div>
</div>
<a id="aeff00c48b4887f6be5ec67a0d70a39be" name="aeff00c48b4887f6be5ec67a0d70a39be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff00c48b4887f6be5ec67a0d70a39be">&#9670;&#160;</a></span>IsActiveZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::IsActiveZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1909</span>{</div>
<div class="line"><span class="lineno"> 1910</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1911</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l01638">StartNewInvasion()</a>.</p>

</div>
</div>
<a id="ae24c140bb68aacc7d749dabeefba5f63" name="ae24c140bb68aacc7d749dabeefba5f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24c140bb68aacc7d749dabeefba5f63">&#9670;&#160;</a></span>IsConditionFulfilled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::IsConditionFulfilled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>conditionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>state</em> = <code><a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4a0ecc6b01d71dceaffaf31c7620bea0de">WORLD_STATE_CONDITION_STATE_NONE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  218</span>{</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">switch</span> (conditionId)</div>
<div class="line"><span class="lineno">  220</span>    {</div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af5369c5be7548a1e9ec08b006e73feeb">WORLD_STATE_CONDITION_TROLLBANES_COMMAND</a>:</div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a6408344019152591c457b63601aac4dd">_isMagtheridonHeadSpawnedAlliance</a>;</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6ab8441229f6aecd4dc9dd1e3f3f835f8e">WORLD_STATE_CONDITION_NAZGRELS_FAVOR</a>:</div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a66fb9980d02e5d6d11b0a1113aba2d39">_isMagtheridonHeadSpawnedHorde</a>;</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a9665ded148821c41501866620a5ba50f">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>:</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af4db95d45b322084d64483ad02f862ff">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>:</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6a5d0ef449051867fa252bdaaecb6f7e1f">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>:</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a623770af3df5cf1f60ad79f4d58dc463">_transportStates</a>.at(conditionId) == state;</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba8b96ce3c697740085a8261cb97cdc13f">WORLD_STATE_SCOURGE_INVASION_WINTERSPRING</a>:</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaf588d257fc56fb070049cde06af24005">SI_REMAINING_WINTERSPRING</a>) &gt; 0;</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21baed62628c57ce0036ccc3482005118670">WORLD_STATE_SCOURGE_INVASION_AZSHARA</a>:</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeac12501f2dfc2e92462231a9171a4a192">SI_REMAINING_AZSHARA</a>) &gt; 0;</div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba0ec185507377f0f64cbfe8e2cd6dad6d">WORLD_STATE_SCOURGE_INVASION_BLASTED_LANDS</a>:</div>
<div class="line"><span class="lineno">  234</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eeaa749bb9df442ebee816047ad078ad876">SI_REMAINING_BLASTED_LANDS</a>) &gt; 0;</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba2e20047f1517986f527570f7e98f3434">WORLD_STATE_SCOURGE_INVASION_BURNING_STEPPES</a>:</div>
<div class="line"><span class="lineno">  236</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6e93dbfb45c3c30c9c8d6c2efdf4df04">SI_REMAINING_BURNING_STEPPES</a>) &gt; 0;</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba7091f2c7059746b1e883eb214539d0cb">WORLD_STATE_SCOURGE_INVASION_TANARIS</a>:</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea91588368688397c3757fd568872cc23b">SI_REMAINING_TANARIS</a>) &gt; 0;</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d46/WorldStateDefines_8h.html#ae6baf1e387f45e029dcac6faea13c21ba073ac47221ac978a57f28b3152e0bea9">WORLD_STATE_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>:</div>
<div class="line"><span class="lineno">  240</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/da9/classWorldState.html#af6e4ceea71e4863c4cb0558af3a41292">GetSIRemaining</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6eea6edea7eb295c687aab2d49f538b7ff66">SI_REMAINING_EASTERN_PLAGUELANDS</a>) &gt; 0;</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  242</span>            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;scripts&quot;</span>, <span class="stringliteral">&quot;WorldState::IsConditionFulfilled: Unhandled WorldStateCondition {}&quot;</span>, conditionId);</div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  244</span>    }</div>
<div class="line"><span class="lineno">  245</span>}</div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6ab8441229f6aecd4dc9dd1e3f3f835f8e"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6ab8441229f6aecd4dc9dd1e3f3f835f8e">WORLD_STATE_CONDITION_NAZGRELS_FAVOR</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_NAZGRELS_FAVOR</div><div class="ttdef"><b>Definition</b> WorldState.h:29</div></div>
<div class="ttc" id="aWorldState_8h_html_afa57b7026eb6e127e388f149e349ccb6af5369c5be7548a1e9ec08b006e73feeb"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#afa57b7026eb6e127e388f149e349ccb6af5369c5be7548a1e9ec08b006e73feeb">WORLD_STATE_CONDITION_TROLLBANES_COMMAND</a></div><div class="ttdeci">@ WORLD_STATE_CONDITION_TROLLBANES_COMMAND</div><div class="ttdef"><b>Definition</b> WorldState.h:28</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00324">_isMagtheridonHeadSpawnedAlliance</a>, <a class="el" href="../../#l00323">_isMagtheridonHeadSpawnedHorde</a>, <a class="el" href="../../#l00326">_transportStates</a>, <a class="el" href="../../#l01458">GetSIRemaining()</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00157">SI_REMAINING_AZSHARA</a>, <a class="el" href="../../#l00158">SI_REMAINING_BLASTED_LANDS</a>, <a class="el" href="../../#l00159">SI_REMAINING_BURNING_STEPPES</a>, <a class="el" href="../../#l00160">SI_REMAINING_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00161">SI_REMAINING_TANARIS</a>, <a class="el" href="../../#l00162">SI_REMAINING_WINTERSPRING</a>, <a class="el" href="../../#l00029">WORLD_STATE_CONDITION_NAZGRELS_FAVOR</a>, <a class="el" href="../../#l00032">WORLD_STATE_CONDITION_THE_IRON_EAGLE</a>, <a class="el" href="../../#l00033">WORLD_STATE_CONDITION_THE_PURPLE_PRINCESS</a>, <a class="el" href="../../#l00031">WORLD_STATE_CONDITION_THE_THUNDERCALLER</a>, <a class="el" href="../../#l00028">WORLD_STATE_CONDITION_TROLLBANES_COMMAND</a>, <a class="el" href="../../#l00028">WORLD_STATE_SCOURGE_INVASION_AZSHARA</a>, <a class="el" href="../../#l00029">WORLD_STATE_SCOURGE_INVASION_BLASTED_LANDS</a>, <a class="el" href="../../#l00030">WORLD_STATE_SCOURGE_INVASION_BURNING_STEPPES</a>, <a class="el" href="../../#l00032">WORLD_STATE_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00031">WORLD_STATE_SCOURGE_INVASION_TANARIS</a>, and <a class="el" href="../../#l00027">WORLD_STATE_SCOURGE_INVASION_WINTERSPRING</a>.</p>

</div>
</div>
<a id="a92f34655557b5a170b61e8b15ad07d6a" name="a92f34655557b5a170b61e8b15ad07d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f34655557b5a170b61e8b15ad07d6a">&#9670;&#160;</a></span>Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::Load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   50</span>{</div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a6cc7bfeee3b337ce9baddb429ccda170">CHAR_SEL_WORLD_STATE</a>);</div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno">   55</span>    {</div>
<div class="line"><span class="lineno">   56</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   57</span>        {</div>
<div class="line"><span class="lineno">   58</span>            <a class="code hl_class" href="../../d7/d24/classField.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">   59</span>            <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keywordtype">id</span> = fields[0].<a class="code hl_function" href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno">   60</span>            std::string data = fields[1].<a class="code hl_function" href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">   61</span>            std::istringstream loadStream(data);</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno">   64</span>            {</div>
<div class="line"><span class="lineno">   65</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">   66</span>                {</div>
<div class="line"><span class="lineno">   67</span>                    <span class="keywordflow">if</span> (data.size())</div>
<div class="line"><span class="lineno">   68</span>                    {</div>
<div class="line"><span class="lineno">   69</span>                        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   70</span>                        {</div>
<div class="line"><span class="lineno">   71</span>                            loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a>;</div>
<div class="line"><span class="lineno">   72</span>                            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211ca24ad3fca42f73e77a99c93e0c788a4e8">COUNTERS_MAX</a>; ++i)</div>
<div class="line"><span class="lineno">   73</span>                                loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[i];</div>
<div class="line"><span class="lineno">   74</span>                            loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>;</div>
<div class="line"><span class="lineno">   75</span>                            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa0247ea5e5a42ee81a890e65bc7876d78">COUNTERS_MAX_GATES</a>; ++i)</div>
<div class="line"><span class="lineno">   76</span>                                loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[i];</div>
<div class="line"><span class="lineno">   77</span>                        }</div>
<div class="line"><span class="lineno">   78</span>                        <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><span class="lineno">   79</span>                        {</div>
<div class="line"><span class="lineno">   80</span>                            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;scripts&quot;</span>, <span class="stringliteral">&quot;WorldState::Load: Exception reading SunsReach data {}&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">   81</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> = 0;</div>
<div class="line"><span class="lineno">   82</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> = 0;</div>
<div class="line"><span class="lineno">   83</span>                            memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>));</div>
<div class="line"><span class="lineno">   84</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>;</div>
<div class="line"><span class="lineno">   85</span>                            memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>));</div>
<div class="line"><span class="lineno">   86</span>                        }</div>
<div class="line"><span class="lineno">   87</span>                    }</div>
<div class="line"><span class="lineno">   88</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   89</span>                    {</div>
<div class="line"><span class="lineno">   90</span>                        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a> = 0;</div>
<div class="line"><span class="lineno">   91</span>                        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a> = 0;</div>
<div class="line"><span class="lineno">   92</span>                        memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>));</div>
<div class="line"><span class="lineno">   93</span>                        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a> = <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>;</div>
<div class="line"><span class="lineno">   94</span>                        memset(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>));</div>
<div class="line"><span class="lineno">   95</span>                    }</div>
<div class="line"><span class="lineno">   96</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   97</span>                }</div>
<div class="line"><span class="lineno">   98</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10">SAVE_ID_SCOURGE_INVASION</a>:</div>
<div class="line"><span class="lineno">   99</span>                    <span class="keywordflow">if</span> (data.size())</div>
<div class="line"><span class="lineno">  100</span>                    {</div>
<div class="line"><span class="lineno">  101</span>                        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  102</span>                        {</div>
<div class="line"><span class="lineno">  103</span>                            <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> state;</div>
<div class="line"><span class="lineno">  104</span>                            loadStream &gt;&gt; state;</div>
<div class="line"><span class="lineno">  105</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a> = <a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690">SIState</a>(state);</div>
<div class="line"><span class="lineno">  106</span>                            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a>&amp; m_timer : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_timers)</div>
<div class="line"><span class="lineno">  107</span>                            {</div>
<div class="line"><span class="lineno">  108</span>                                <a class="code hl_typedef" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> time;</div>
<div class="line"><span class="lineno">  109</span>                                loadStream &gt;&gt; time;</div>
<div class="line"><span class="lineno">  110</span>                                m_timer = <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a>(std::chrono::milliseconds(time));</div>
<div class="line"><span class="lineno">  111</span>                            }</div>
<div class="line"><span class="lineno">  112</span>                            loadStream &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#aea7079c6f876188857219c574ca0798d">m_battlesWon</a> &gt;&gt; <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a38ead6b33009083055538fd4f0b7de35">m_lastAttackZone</a>;</div>
<div class="line"><span class="lineno">  113</span>                            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; i : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_remaining)</div>
<div class="line"><span class="lineno">  114</span>                                loadStream &gt;&gt; i;</div>
<div class="line"><span class="lineno">  115</span>                        }</div>
<div class="line"><span class="lineno">  116</span>                        <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><span class="lineno">  117</span>                        {</div>
<div class="line"><span class="lineno">  118</span>                            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;scripts&quot;</span>, <span class="stringliteral">&quot;WorldState::Load: Exception reading ScourgeInvasion data {}&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">  119</span>                            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_function" href="../../dd/d8a/structScourgeInvasionData.html#a0ae2fc830e4f85fb619c38fdcad794ae">Reset</a>();</div>
<div class="line"><span class="lineno">  120</span>                        }</div>
<div class="line"><span class="lineno">  121</span>                    }</div>
<div class="line"><span class="lineno">  122</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  123</span>            }</div>
<div class="line"><span class="lineno">  124</span>        } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  125</span>    }</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0ccc9b698e2449bbde90e85b3e6eda8">StartSunsReachPhase</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a5cb1e1ff43eb6b88935b86c875363e40">StartSunwellGatePhase</a>();</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0cf4fec23a9aa71346996c46d38c58b">HandleSunsReachSubPhaseTransition</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a0a94a3b69ac5ccfcfae35af007ed375c">m_subphaseMask</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a27acc7e6cdaaad5f13ed4df7be56defc">STATE_1_ENABLED</a>)</div>
<div class="line"><span class="lineno">  131</span>    {</div>
<div class="line"><span class="lineno">  132</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#afe83b61f649a15570fa9b1db023af842">StartScourgeInvasion</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a63958dd407c96479e4d46dfbfc6d5371">HandleDefendedZones</a>();</div>
<div class="line"><span class="lineno">  134</span>    }</div>
<div class="line"><span class="lineno">  135</span>}</div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a6cc7bfeee3b337ce9baddb429ccda170"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a6cc7bfeee3b337ce9baddb429ccda170">CHAR_SEL_WORLD_STATE</a></div><div class="ttdeci">@ CHAR_SEL_WORLD_STATE</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:531</div></div>
<div class="ttc" id="aDatabaseEnvFwd_8h_html_ac6110b8d867b5f84f677555d07037acb"><div class="ttname"><a href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; PreparedResultSet &gt; PreparedQueryResult</div><div class="ttdef"><b>Definition</b> DatabaseEnvFwd.h:45</div></div>
<div class="ttc" id="aDatabaseEnv_8cpp_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition</b> DatabaseEnv.cpp:21</div></div>
<div class="ttc" id="aWorldState_8h_html_a4a3013381173d98f6b2e1b401f7bd34fa0247ea5e5a42ee81a890e65bc7876d78"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34fa0247ea5e5a42ee81a890e65bc7876d78">COUNTERS_MAX_GATES</a></div><div class="ttdeci">@ COUNTERS_MAX_GATES</div><div class="ttdef"><b>Definition</b> WorldState.h:259</div></div>
<div class="ttc" id="aWorldState_8h_html_aecf9527110a7255a02e5f9add33dd690"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690">SIState</a></div><div class="ttdeci">SIState</div><div class="ttdef"><b>Definition</b> WorldState.h:124</div></div>
<div class="ttc" id="aclassField_html"><div class="ttname"><a href="../../d7/d24/classField.html">Field</a></div><div class="ttdoc">Class used to access individual fields of database query result.</div><div class="ttdef"><b>Definition</b> Field.h:98</div></div>
<div class="ttc" id="aclassField_html_aae507d21d3570ffdaf1643ba02946f01"><div class="ttname"><a href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Field::Get</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_arithmetic_v&lt; T &gt;, T &gt; Get() const</div><div class="ttdef"><b>Definition</b> Field.h:112</div></div>
<div class="ttc" id="aclassPreparedStatement_html"><div class="ttname"><a href="../../d7/d0f/classPreparedStatement.html">PreparedStatement</a></div><div class="ttdef"><b>Definition</b> PreparedStatement.h:157</div></div>
<div class="ttc" id="aclassWorldState_html_afe83b61f649a15570fa9b1db023af842"><div class="ttname"><a href="../../d3/da9/classWorldState.html#afe83b61f649a15570fa9b1db023af842">WorldState::StartScourgeInvasion</a></div><div class="ttdeci">void StartScourgeInvasion(bool sendMail)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1290</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_a0ae2fc830e4f85fb619c38fdcad794ae"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#a0ae2fc830e4f85fb619c38fdcad794ae">ScourgeInvasionData::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1409</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00531">CHAR_SEL_WORLD_STATE</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00244">COUNTERS_MAX</a>, <a class="el" href="../../#l00259">COUNTERS_MAX_GATES</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l01568">HandleDefendedZones()</a>, <a class="el" href="../../#l00748">HandleSunsReachSubPhaseTransition()</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00198">ScourgeInvasionData::m_battlesWon</a>, <a class="el" href="../../#l00269">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00270">SunsReachReclamationData::m_gateCounters</a>, <a class="el" href="../../#l00199">ScourgeInvasionData::m_lastAttackZone</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00200">ScourgeInvasionData::m_remaining</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00195">ScourgeInvasionData::m_state</a>, <a class="el" href="../../#l00265">SunsReachReclamationData::m_subphaseMask</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00266">SunsReachReclamationData::m_sunsReachReclamationCounters</a>, <a class="el" href="../../#l00197">ScourgeInvasionData::m_timers</a>, <a class="el" href="../../#l01409">ScourgeInvasionData::Reset()</a>, <a class="el" href="../../#l00061">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00060">SAVE_ID_SCOURGE_INVASION</a>, <a class="el" href="../../#l01290">StartScourgeInvasion()</a>, <a class="el" href="../../#l00916">StartSunsReachPhase()</a>, <a class="el" href="../../#l01204">StartSunwellGatePhase()</a>, <a class="el" href="../../#l00126">STATE_1_ENABLED</a>, and <a class="el" href="../../#l00249">SUNWELL_ALL_GATES_CLOSED</a>.</p>

</div>
</div>
<a id="afd94cb3de9e3064b01114156333d61dc" name="afd94cb3de9e3064b01114156333d61dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd94cb3de9e3064b01114156333d61dc">&#9670;&#160;</a></span>LoadWorldStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::LoadWorldStates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  138</span>{</div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, value FROM worldstates&quot;</span>);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  144</span>    {</div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 world states. DB table `worldstates` is empty!&quot;</span>);</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  151</span>    {</div>
<div class="line"><span class="lineno">  152</span>        <a class="code hl_class" href="../../d7/d24/classField.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  153</span>        <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>[fields[0].<a class="code hl_function" href="../../d7/d24/classField.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;()] = fields[1].Get&lt;uint32&gt;();</div>
<div class="line"><span class="lineno">  154</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} World States in {} ms&quot;</span>, <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.size(), <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>}</div>
<div class="ttc" id="aDatabaseEnvFwd_8h_html_ab0c9feeec448a181290fcb39565b8253"><div class="ttname"><a href="../../d0/d5e/DatabaseEnvFwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; ResultSet &gt; QueryResult</div><div class="ttdef"><b>Definition</b> DatabaseEnvFwd.h:27</div></div>
<div class="ttc" id="aLog_8h_html_adf09840a666e1d86bcd3439105db6edc"><div class="ttname"><a href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a></div><div class="ttdeci">#define LOG_WARN(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:162</div></div>
<div class="ttc" id="aTimer_8h_html_a23a2c8663a05f2b03a6f85501972e8c0"><div class="ttname"><a href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a></div><div class="ttdeci">uint32 GetMSTimeDiffToNow(uint32 oldMSTime)</div><div class="ttdef"><b>Definition</b> Timer.h:131</div></div>
<div class="ttc" id="aTimer_8h_html_a4476c8e13ea790c3536f2749105f9cb9"><div class="ttname"><a href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a></div><div class="ttdeci">uint32 getMSTime()</div><div class="ttdef"><b>Definition</b> Timer.h:103</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00312">_worldstates</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00166">LOG_INFO</a>, and <a class="el" href="../../#l00162">LOG_WARN</a>.</p>

</div>
</div>
<a id="a179f2f88047da4752e061d2d95ac2ddf" name="a179f2f88047da4752e061d2d95ac2ddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a179f2f88047da4752e061d2d95ac2ddf">&#9670;&#160;</a></span>OnDisable() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::OnDisable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html">ScourgeInvasionData::CityAttack</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1898</span>{</div>
<div class="line"><span class="lineno"> 1899</span>    <span class="keywordflow">if</span> (!zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ae78b3d7448e8f43a993f46208039f0b1">pallidGuid</a>)</div>
<div class="line"><span class="lineno"> 1900</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1901</span> </div>
<div class="line"><span class="lineno"> 1902</span>    <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a>(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ab52fa79b07a9fad5b0cf8a28669a94eb">map</a>, zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#a0693df9090f40b7b1b8dba0003b6092e">pallid</a>[0]);</div>
<div class="line"><span class="lineno"> 1903</span> </div>
<div class="line"><span class="lineno"> 1904</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* pallid = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#af0a630f225718009751c788dbcbf5333">GetCreature</a>(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ae78b3d7448e8f43a993f46208039f0b1">pallidGuid</a>))</div>
<div class="line"><span class="lineno"> 1905</span>            pallid-&gt;DespawnOrUnsummon();</div>
<div class="line"><span class="lineno"> 1906</span>}</div>
<div class="ttc" id="astructScourgeInvasionData_1_1CityAttack_html_a0693df9090f40b7b1b8dba0003b6092e"><div class="ttname"><a href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#a0693df9090f40b7b1b8dba0003b6092e">ScourgeInvasionData::CityAttack::pallid</a></div><div class="ttdeci">std::vector&lt; Position &gt; pallid</div><div class="ttdef"><b>Definition</b> WorldState.h:191</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1CityAttack_html_ab52fa79b07a9fad5b0cf8a28669a94eb"><div class="ttname"><a href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ab52fa79b07a9fad5b0cf8a28669a94eb">ScourgeInvasionData::CityAttack::map</a></div><div class="ttdeci">uint32 map</div><div class="ttdef"><b>Definition</b> WorldState.h:189</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1CityAttack_html_ae78b3d7448e8f43a993f46208039f0b1"><div class="ttname"><a href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ae78b3d7448e8f43a993f46208039f0b1">ScourgeInvasionData::CityAttack::pallidGuid</a></div><div class="ttdeci">ObjectGuid pallidGuid</div><div class="ttdef"><b>Definition</b> WorldState.h:192</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02357">Map::GetCreature()</a>, <a class="el" href="../../#l00252">GetMap()</a>, <a class="el" href="../../#l00189">ScourgeInvasionData::CityAttack::map</a>, <a class="el" href="../../#l00191">ScourgeInvasionData::CityAttack::pallid</a>, and <a class="el" href="../../#l00192">ScourgeInvasionData::CityAttack::pallidGuid</a>.</p>

</div>
</div>
<a id="ac1fd33de5296c57eaa4beea933fb55fc" name="ac1fd33de5296c57eaa4beea933fb55fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1fd33de5296c57eaa4beea933fb55fc">&#9670;&#160;</a></span>OnDisable() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::OnDisable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1887</span>{</div>
<div class="line"><span class="lineno"> 1888</span>    <span class="keywordflow">if</span> (!zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a2245c14e379c83bdd47165e829de2e41">mouthGuid</a>)</div>
<div class="line"><span class="lineno"> 1889</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1890</span> </div>
<div class="line"><span class="lineno"> 1891</span>    <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">map</a>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aa785f3badb9c898d24efdf6d42fb8a7f">mouth</a>[0]);</div>
<div class="line"><span class="lineno"> 1892</span> </div>
<div class="line"><span class="lineno"> 1893</span>   <span class="keywordflow">if</span> (<a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* mouth = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#af0a630f225718009751c788dbcbf5333">GetCreature</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a2245c14e379c83bdd47165e829de2e41">mouthGuid</a>))</div>
<div class="line"><span class="lineno"> 1894</span>       mouth-&gt;DespawnOrUnsummon();</div>
<div class="line"><span class="lineno"> 1895</span>}</div>
<div class="ttc" id="astructScourgeInvasionData_1_1InvasionZone_html_aa785f3badb9c898d24efdf6d42fb8a7f"><div class="ttname"><a href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aa785f3badb9c898d24efdf6d42fb8a7f">ScourgeInvasionData::InvasionZone::mouth</a></div><div class="ttdeci">std::vector&lt; Position &gt; mouth</div><div class="ttdef"><b>Definition</b> WorldState.h:183</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02357">Map::GetCreature()</a>, <a class="el" href="../../#l00252">GetMap()</a>, <a class="el" href="../../#l00179">ScourgeInvasionData::InvasionZone::map</a>, <a class="el" href="../../#l00183">ScourgeInvasionData::InvasionZone::mouth</a>, and <a class="el" href="../../#l00184">ScourgeInvasionData::InvasionZone::mouthGuid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01437">StopScourgeInvasion()</a>.</p>

</div>
</div>
<a id="af8a39d93f0a8369d107d13d20c3c3305" name="af8a39d93f0a8369d107d13d20c3c3305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8a39d93f0a8369d107d13d20c3c3305">&#9670;&#160;</a></span>OnEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::OnEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1876</span>{</div>
<div class="line"><span class="lineno"> 1877</span>    <span class="comment">// If there were remaining necropolises in the old zone before shutdown, we</span></div>
<div class="line"><span class="lineno"> 1878</span>    <span class="comment">// restore that zone</span></div>
<div class="line"><span class="lineno"> 1879</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;GetSIRemaining(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a3c18c61fcd44c32f9e0009479db85399">remainingNecropoli</a>)) &gt; 0)</div>
<div class="line"><span class="lineno"> 1880</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#aafb3f551a1002c2b5fb0dfd85e03b2a1">ResumeInvasion</a>(zone);</div>
<div class="line"><span class="lineno"> 1881</span>    <span class="comment">// Otherwise we start a new Invasion</span></div>
<div class="line"><span class="lineno"> 1882</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1883</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a60d5e7cd4ef857d7085fdb0b16107d12">StartNewInvasionIfTime</a>(<a class="code hl_function" href="../../d3/da9/classWorldState.html#a963da869c85fde49ec5baee67e1ad93a">GetTimerIdForZone</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a>), zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a>);</div>
<div class="line"><span class="lineno"> 1884</span>}</div>
<div class="ttc" id="aclassWorldState_html_a963da869c85fde49ec5baee67e1ad93a"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a963da869c85fde49ec5baee67e1ad93a">WorldState::GetTimerIdForZone</a></div><div class="ttdeci">uint32 GetTimerIdForZone(uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1933</div></div>
<div class="ttc" id="aclassWorldState_html_aafb3f551a1002c2b5fb0dfd85e03b2a1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aafb3f551a1002c2b5fb0dfd85e03b2a1">WorldState::ResumeInvasion</a></div><div class="ttdeci">bool ResumeInvasion(ScourgeInvasionData::InvasionZone &amp;zone)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1707</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1InvasionZone_html_a3c18c61fcd44c32f9e0009479db85399"><div class="ttname"><a href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a3c18c61fcd44c32f9e0009479db85399">ScourgeInvasionData::InvasionZone::remainingNecropoli</a></div><div class="ttdeci">uint32 remainingNecropoli</div><div class="ttdef"><b>Definition</b> WorldState.h:182</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01933">GetTimerIdForZone()</a>, <a class="el" href="../../#l00182">ScourgeInvasionData::InvasionZone::remainingNecropoli</a>, <a class="el" href="../../#l01707">ResumeInvasion()</a>, <a class="el" href="../../#l01613">StartNewInvasionIfTime()</a>, <a class="el" href="../../#l00377">sWorldState</a>, and <a class="el" href="../../#l00180">ScourgeInvasionData::InvasionZone::zoneId</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01290">StartScourgeInvasion()</a>.</p>

</div>
</div>
<a id="a37f7ef31ab254d4801e757bd52a4efa8" name="a37f7ef31ab254d4801e757bd52a4efa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f7ef31ab254d4801e757bd52a4efa8">&#9670;&#160;</a></span>RemovePendingInvasion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::RemovePendingInvasion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1858</span>{</div>
<div class="line"><span class="lineno"> 1859</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1860</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#af62efb05ce49a3cb764328976f8054f6">m_pendingInvasions</a>.erase(zoneId);</div>
<div class="line"><span class="lineno"> 1861</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00204">ScourgeInvasionData::m_pendingInvasions</a>, <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>.</p>

</div>
</div>
<a id="a3460a7a1de349125352363d135b036a5" name="a3460a7a1de349125352363d135b036a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3460a7a1de349125352363d135b036a5">&#9670;&#160;</a></span>RemovePendingPallid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::RemovePendingPallid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1870</span>{</div>
<div class="line"><span class="lineno"> 1871</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1872</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a2a2f610d9c398bc82f4e39eea4fbadfc">m_pendingPallids</a>.erase(zoneId);</div>
<div class="line"><span class="lineno"> 1873</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00205">ScourgeInvasionData::m_pendingPallids</a>, <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>.</p>

</div>
</div>
<a id="aafb3f551a1002c2b5fb0dfd85e03b2a1" name="aafb3f551a1002c2b5fb0dfd85e03b2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb3f551a1002c2b5fb0dfd85e03b2a1">&#9670;&#160;</a></span>ResumeInvasion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::ResumeInvasion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1708</span>{</div>
<div class="line"><span class="lineno"> 1709</span>    <span class="comment">// Dont have a save variable to know which necropolises had already been destroyed, so we</span></div>
<div class="line"><span class="lineno"> 1710</span>    <span class="comment">// just summon the same amount, but not necessarily the same necropolises</span></div>
<div class="line"><span class="lineno"> 1711</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;Scourge Invasion Event: Resuming Scourge invasion in zone {}&quot;</span>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a>);</div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> num_necropolises_remaining = <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;GetSIRemaining(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a3c18c61fcd44c32f9e0009479db85399">remainingNecropoli</a>));</div>
<div class="line"><span class="lineno"> 1714</span> </div>
<div class="line"><span class="lineno"> 1715</span>    <span class="comment">// Just making sure we can access all maps before starting the invasion</span></div>
<div class="line"><span class="lineno"> 1716</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; num_necropolises_remaining; i++)</div>
<div class="line"><span class="lineno"> 1717</span>    {</div>
<div class="line"><span class="lineno"> 1718</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">map</a>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aa785f3badb9c898d24efdf6d42fb8a7f">mouth</a>[0]))</div>
<div class="line"><span class="lineno"> 1719</span>        {</div>
<div class="line"><span class="lineno"> 1720</span>            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::ResumeInvasion map {} not accessible. Retry next update.&quot;</span>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">map</a>);</div>
<div class="line"><span class="lineno"> 1721</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1722</span>        }</div>
<div class="line"><span class="lineno"> 1723</span>    }</div>
<div class="line"><span class="lineno"> 1724</span> </div>
<div class="line"><span class="lineno"> 1725</span>    <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* mapPtr = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">map</a>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aa785f3badb9c898d24efdf6d42fb8a7f">mouth</a>[0]);</div>
<div class="line"><span class="lineno"> 1726</span>    <span class="keywordflow">if</span> (!mapPtr)</div>
<div class="line"><span class="lineno"> 1727</span>    {</div>
<div class="line"><span class="lineno"> 1728</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::ResumeInvasion failed getting map, even after making sure they were loaded....&quot;</span>);</div>
<div class="line"><span class="lineno"> 1729</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1730</span>    }</div>
<div class="line"><span class="lineno"> 1731</span> </div>
<div class="line"><span class="lineno"> 1732</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a93b53e82f0e852bd8c96151fc95e1152">SummonMouth</a>(mapPtr, zone, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aa785f3badb9c898d24efdf6d42fb8a7f">mouth</a>[0], <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1733</span> </div>
<div class="line"><span class="lineno"> 1734</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1735</span>}</div>
<div class="ttc" id="aclassWorldState_html_a93b53e82f0e852bd8c96151fc95e1152"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a93b53e82f0e852bd8c96151fc95e1152">WorldState::SummonMouth</a></div><div class="ttdeci">bool SummonMouth(Map *map, ScourgeInvasionData::InvasionZone &amp;zone, Position position, bool newInvasion)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1737</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00252">GetMap()</a>, <a class="el" href="../../#l00170">LOG_DEBUG</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00179">ScourgeInvasionData::InvasionZone::map</a>, <a class="el" href="../../#l00183">ScourgeInvasionData::InvasionZone::mouth</a>, <a class="el" href="../../#l00182">ScourgeInvasionData::InvasionZone::remainingNecropoli</a>, <a class="el" href="../../#l01737">SummonMouth()</a>, <a class="el" href="../../#l00377">sWorldState</a>, and <a class="el" href="../../#l00180">ScourgeInvasionData::InvasionZone::zoneId</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01875">OnEnable()</a>.</p>

</div>
</div>
<a id="a1b3f1594b47259d2f8b128781e08dbd1" name="a1b3f1594b47259d2f8b128781e08dbd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3f1594b47259d2f8b128781e08dbd1">&#9670;&#160;</a></span>Save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::Save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a>&#160;</td>
          <td class="paramname"><em>saveId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  189</span>{</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">switch</span> (saveId)</div>
<div class="line"><span class="lineno">  191</span>    {</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>:</div>
<div class="line"><span class="lineno">  193</span>        {</div>
<div class="line"><span class="lineno">  194</span>            std::string expansionData = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_function" href="../../d3/db1/structSunsReachReclamationData.html#ae7ef124f28f2bc8230b4234652734994">GetData</a>();</div>
<div class="line"><span class="lineno">  195</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0bc6726c3515b63dbbd28072b36f108">SaveHelper</a>(expansionData, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acaef8c621060f45cd17565368474467453">SAVE_ID_QUEL_DANAS</a>);</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  197</span>        }</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10">SAVE_ID_SCOURGE_INVASION</a>:</div>
<div class="line"><span class="lineno">  199</span>        {</div>
<div class="line"><span class="lineno">  200</span>            std::string siData = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_function" href="../../dd/d8a/structScourgeInvasionData.html#adca57b4cf5a065fad1a7bd184571bdc5">GetData</a>();</div>
<div class="line"><span class="lineno">  201</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#aa0bc6726c3515b63dbbd28072b36f108">SaveHelper</a>(siData, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10">SAVE_ID_SCOURGE_INVASION</a>);</div>
<div class="line"><span class="lineno">  202</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  203</span>        }</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  205</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  206</span>    }</div>
<div class="line"><span class="lineno">  207</span>}</div>
<div class="ttc" id="aclassWorldState_html_aa0bc6726c3515b63dbbd28072b36f108"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aa0bc6726c3515b63dbbd28072b36f108">WorldState::SaveHelper</a></div><div class="ttdeci">void SaveHelper(std::string &amp;stringToSave, WorldStateSaveIds saveId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:209</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_adca57b4cf5a065fad1a7bd184571bdc5"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#adca57b4cf5a065fad1a7bd184571bdc5">ScourgeInvasionData::GetData</a></div><div class="ttdeci">std::string GetData()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1421</div></div>
<div class="ttc" id="astructSunsReachReclamationData_html_ae7ef124f28f2bc8230b4234652734994"><div class="ttname"><a href="../../d3/db1/structSunsReachReclamationData.html#ae7ef124f28f2bc8230b4234652734994">SunsReachReclamationData::GetData</a></div><div class="ttdeci">std::string GetData()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1100</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01421">ScourgeInvasionData::GetData()</a>, <a class="el" href="../../#l01100">SunsReachReclamationData::GetData()</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00061">SAVE_ID_QUEL_DANAS</a>, <a class="el" href="../../#l00060">SAVE_ID_SCOURGE_INVASION</a>, and <a class="el" href="../../#l00209">SaveHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01504">AddBattlesWon()</a>, <a class="el" href="../../#l00567">AddSunsReachProgress()</a>, <a class="el" href="../../#l01143">AddSunwellGateProgress()</a>, <a class="el" href="../../#l00716">HandleSunsReachPhaseTransition()</a>, <a class="el" href="../../#l00748">HandleSunsReachSubPhaseTransition()</a>, <a class="el" href="../../#l00869">HandleSunwellGateTransition()</a>, <a class="el" href="../../#l01248">SetScourgeInvasionState()</a>, and <a class="el" href="../../#l01481">SetSIRemaining()</a>.</p>

</div>
</div>
<a id="aa0bc6726c3515b63dbbd28072b36f108" name="aa0bc6726c3515b63dbbd28072b36f108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0bc6726c3515b63dbbd28072b36f108">&#9670;&#160;</a></span>SaveHelper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SaveHelper </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>stringToSave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2ac">WorldStateSaveIds</a>&#160;</td>
          <td class="paramname"><em>saveId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  210</span>{</div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7abf43baa4a9b3a683d0b3750ab9ffa6d5">CHAR_REP_WORLD_STATE</a>);</div>
<div class="line"><span class="lineno">  212</span>    stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, saveId);</div>
<div class="line"><span class="lineno">  213</span>    stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, stringToSave);</div>
<div class="line"><span class="lineno">  214</span>    <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  215</span>}</div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7abf43baa4a9b3a683d0b3750ab9ffa6d5"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7abf43baa4a9b3a683d0b3750ab9ffa6d5">CHAR_REP_WORLD_STATE</a></div><div class="ttdeci">@ CHAR_REP_WORLD_STATE</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:532</div></div>
<div class="ttc" id="aclassPreparedStatementBase_html_a52fc2e65042c1db51f0923725a0f0ed0"><div class="ttname"><a href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">PreparedStatementBase::SetData</a></div><div class="ttdeci">Acore::Types::is_default&lt; T &gt; SetData(const uint8 index, T value)</div><div class="ttdef"><b>Definition</b> PreparedStatement.h:77</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00532">CHAR_REP_WORLD_STATE</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00188">Save()</a>.</p>

</div>
</div>
<a id="ab6e287b6be058d7260edbbf86d112305" name="ab6e287b6be058d7260edbbf86d112305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e287b6be058d7260edbbf86d112305">&#9670;&#160;</a></span>SendScourgeInvasionMail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SendScourgeInvasionMail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1263</span>{</div>
<div class="line"><span class="lineno"> 1264</span>    <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(<span class="stringliteral">&quot;SELECT guid FROM characters WHERE level &gt;= 50&quot;</span>);</div>
<div class="line"><span class="lineno"> 1265</span>    <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno"> 1266</span>    {</div>
<div class="line"><span class="lineno"> 1267</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 1268</span>        <a class="code hl_class" href="../../d0/de9/classMailDraft.html">MailDraft</a> draft(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a2974be3cfeb1ec4b4e539d565ef85cba">MAIL_TEMPLATE_ARGENT_DAWN_NEEDS_YOUR_HELP</a>);</div>
<div class="line"><span class="lineno"> 1269</span>        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1270</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1271</span>        {</div>
<div class="line"><span class="lineno"> 1272</span>            <a class="code hl_class" href="../../d7/d24/classField.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1273</span>            <a class="code hl_class" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a> playerGUID = ObjectGuid::Create&lt;HighGuid::Player&gt;(fields[0].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>            <span class="comment">// Add item manually. SendMailTo does not add items for offline players</span></div>
<div class="line"><span class="lineno"> 1276</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d0/dae/classItem.html">Item</a>* item = <a class="code hl_function" href="../../d0/dae/classItem.html#a1eba1689f9ddd48d21394c4206aff398">Item::CreateItem</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a6108ee117d157992efff6b5f59265453">ITEM_A_LETTER_FROM_THE_KEEPER_OF_THE_ROLLS</a>, 1))</div>
<div class="line"><span class="lineno"> 1277</span>            {</div>
<div class="line"><span class="lineno"> 1278</span>                item-&gt;SaveToDB(trans);</div>
<div class="line"><span class="lineno"> 1279</span>                draft.AddItem(item);</div>
<div class="line"><span class="lineno"> 1280</span>            }</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>            draft.SendMailTo(trans, <a class="code hl_class" href="../../d7/d58/classMailReceiver.html">MailReceiver</a>(playerGUID.<a class="code hl_function" href="../../d0/d0a/classObjectGuid.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>()), <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3ae3129ded3c64bc0778910f4c39b6e7f6">NPC_ARGENT_EMISSARY</a>, <a class="code hl_enumvalue" href="../../da/d4f/Mail_8h.html#a9738cb9d4ddff5f3b2a406f8d9c469cca348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a>);</div>
<div class="line"><span class="lineno"> 1283</span>            ++count;</div>
<div class="line"><span class="lineno"> 1284</span>        } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1285</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 1286</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;WorldState&quot;</span>, <span class="stringliteral">&quot;SendScourgeInvasionMail sent to {} characters&quot;</span>, count);</div>
<div class="line"><span class="lineno"> 1287</span>    }</div>
<div class="line"><span class="lineno"> 1288</span>}</div>
<div class="ttc" id="aDatabaseEnvFwd_8h_html_a96bac9a371212c6bab7a9448214666c0"><div class="ttname"><a href="../../d0/d5e/DatabaseEnvFwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a></div><div class="ttdeci">SQLTransaction&lt; CharacterDatabaseConnection &gt; CharacterDatabaseTransaction</div><div class="ttdef"><b>Definition</b> DatabaseEnvFwd.h:69</div></div>
<div class="ttc" id="aMail_8h_html_a9738cb9d4ddff5f3b2a406f8d9c469cca348c2227a2767173436f2f88dfe37716"><div class="ttname"><a href="../../da/d4f/Mail_8h.html#a9738cb9d4ddff5f3b2a406f8d9c469cca348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a></div><div class="ttdeci">@ MAIL_CHECK_MASK_HAS_BODY</div><div class="ttdef"><b>Definition</b> Mail.h:51</div></div>
<div class="ttc" id="aWorldState_8h_html_ad0c8fcbd6054089a8ad5ce31f8856ff3a2974be3cfeb1ec4b4e539d565ef85cba"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a2974be3cfeb1ec4b4e539d565ef85cba">MAIL_TEMPLATE_ARGENT_DAWN_NEEDS_YOUR_HELP</a></div><div class="ttdeci">@ MAIL_TEMPLATE_ARGENT_DAWN_NEEDS_YOUR_HELP</div><div class="ttdef"><b>Definition</b> WorldState.h:120</div></div>
<div class="ttc" id="aWorldState_8h_html_ad0c8fcbd6054089a8ad5ce31f8856ff3a6108ee117d157992efff6b5f59265453"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a6108ee117d157992efff6b5f59265453">ITEM_A_LETTER_FROM_THE_KEEPER_OF_THE_ROLLS</a></div><div class="ttdeci">@ ITEM_A_LETTER_FROM_THE_KEEPER_OF_THE_ROLLS</div><div class="ttdef"><b>Definition</b> WorldState.h:118</div></div>
<div class="ttc" id="aWorldState_8h_html_ad0c8fcbd6054089a8ad5ce31f8856ff3ae3129ded3c64bc0778910f4c39b6e7f6"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3ae3129ded3c64bc0778910f4c39b6e7f6">NPC_ARGENT_EMISSARY</a></div><div class="ttdeci">@ NPC_ARGENT_EMISSARY</div><div class="ttdef"><b>Definition</b> WorldState.h:119</div></div>
<div class="ttc" id="aclassItem_html"><div class="ttname"><a href="../../d0/dae/classItem.html">Item</a></div><div class="ttdef"><b>Definition</b> Item.h:220</div></div>
<div class="ttc" id="aclassItem_html_a1eba1689f9ddd48d21394c4206aff398"><div class="ttname"><a href="../../d0/dae/classItem.html#a1eba1689f9ddd48d21394c4206aff398">Item::CreateItem</a></div><div class="ttdeci">static Item * CreateItem(uint32 item, uint32 count, Player const *player=nullptr, bool clone=false, uint32 randomPropertyId=0)</div><div class="ttdef"><b>Definition</b> Item.cpp:1087</div></div>
<div class="ttc" id="aclassMailDraft_html"><div class="ttname"><a href="../../d0/de9/classMailDraft.html">MailDraft</a></div><div class="ttdef"><b>Definition</b> Mail.h:119</div></div>
<div class="ttc" id="aclassMailReceiver_html"><div class="ttname"><a href="../../d7/d58/classMailReceiver.html">MailReceiver</a></div><div class="ttdef"><b>Definition</b> Mail.h:105</div></div>
<div class="ttc" id="aclassObjectGuid_html_a0df27b85c91a2c619e8f1d9c2cb31677"><div class="ttname"><a href="../../d0/d0a/classObjectGuid.html#a0df27b85c91a2c619e8f1d9c2cb31677">ObjectGuid::GetCounter</a></div><div class="ttdeci">LowType GetCounter() const</div><div class="ttdef"><b>Definition</b> ObjectGuid.h:145</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">MailDraft::AddItem()</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l01087">Item::CreateItem()</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00118">ITEM_A_LETTER_FROM_THE_KEEPER_OF_THE_ROLLS</a>, <a class="el" href="../../#l00166">LOG_INFO</a>, <a class="el" href="../../#l00051">MAIL_CHECK_MASK_HAS_BODY</a>, <a class="el" href="../../#l00120">MAIL_TEMPLATE_ARGENT_DAWN_NEEDS_YOUR_HELP</a>, <a class="el" href="../../#l00119">NPC_ARGENT_EMISSARY</a>, and <a class="el" href="../../#l00185">MailDraft::SendMailTo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01290">StartScourgeInvasion()</a>.</p>

</div>
</div>
<a id="a61245833b5b6b4ad89c3dd17c3691ef1" name="a61245833b5b6b4ad89c3dd17c3691ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61245833b5b6b4ad89c3dd17c3691ef1">&#9670;&#160;</a></span>SendWorldstateUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SendWorldstateUpdate </td>
          <td>(</td>
          <td class="paramtype">std::mutex &amp;&#160;</td>
          <td class="paramname"><em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dc9/ObjectGuid_8h.html#a173958393e55b3150391dfb3a6d387ed">GuidVector</a> const &amp;&#160;</td>
          <td class="paramname"><em>guids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>worldStateId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  544</span>{</div>
<div class="line"><span class="lineno">  545</span>    std::lock_guard&lt;std::mutex&gt; guard(mutex);</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a> <span class="keyword">const</span>&amp; guid : guids)</div>
<div class="line"><span class="lineno">  547</span>        if (<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* player = <a class="code hl_namespace" href="../../de/d2d/namespaceObjectAccessor.html">ObjectAccessor</a>::<a class="code hl_function" href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">FindPlayer</a>(guid))</div>
<div class="line"><span class="lineno">  548</span>            player-&gt;SendUpdateWorldState(worldStateId, value);</div>
<div class="line"><span class="lineno">  549</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00567">AddSunsReachProgress()</a>, <a class="el" href="../../#l01143">AddSunwellGateProgress()</a>, <a class="el" href="../../#l00716">HandleSunsReachPhaseTransition()</a>, and <a class="el" href="../../#l00869">HandleSunwellGateTransition()</a>.</p>

</div>
</div>
<a id="a23ed2c74d2ba5dfb3d76f43b518f08b4" name="a23ed2c74d2ba5dfb3d76f43b518f08b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23ed2c74d2ba5dfb3d76f43b518f08b4">&#9670;&#160;</a></span>SetLastAttackZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetLastAttackZone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1519</span>{</div>
<div class="line"><span class="lineno"> 1520</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1521</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a38ead6b33009083055538fd4f0b7de35">m_lastAttackZone</a> = zoneId;</div>
<div class="line"><span class="lineno"> 1522</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00199">ScourgeInvasionData::m_lastAttackZone</a>, <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>.</p>

</div>
</div>
<a id="a883a7d6112a3069ab357ad1c042a2f09" name="a883a7d6112a3069ab357ad1c042a2f09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883a7d6112a3069ab357ad1c042a2f09">&#9670;&#160;</a></span>SetMouthGuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetMouthGuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1847</span>{</div>
<div class="line"><span class="lineno"> 1848</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#af98aea31bf9c878adf2870890911282f">m_activeInvasions</a>[zoneId].mouthGuid = guid;</div>
<div class="line"><span class="lineno"> 1849</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00206">ScourgeInvasionData::m_activeInvasions</a>, and <a class="el" href="../../#l00374">m_siData</a>.</p>

</div>
</div>
<a id="abb278d6f403d01de4cf40a19fd85e0df" name="abb278d6f403d01de4cf40a19fd85e0df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb278d6f403d01de4cf40a19fd85e0df">&#9670;&#160;</a></span>SetPallidGuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetPallidGuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1842</span>{</div>
<div class="line"><span class="lineno"> 1843</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a70127135568b3a439f040697f1dc525c">m_cityAttacks</a>[zoneId].pallidGuid = guid;</div>
<div class="line"><span class="lineno"> 1844</span>}</div>
<div class="ttc" id="astructScourgeInvasionData_html_a70127135568b3a439f040697f1dc525c"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#a70127135568b3a439f040697f1dc525c">ScourgeInvasionData::m_cityAttacks</a></div><div class="ttdeci">std::map&lt; uint32, CityAttack &gt; m_cityAttacks</div><div class="ttdef"><b>Definition</b> WorldState.h:207</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00207">ScourgeInvasionData::m_cityAttacks</a>, and <a class="el" href="../../#l00374">m_siData</a>.</p>

</div>
</div>
<a id="a83055208536e3138eabf84f154bd4f05" name="a83055208536e3138eabf84f154bd4f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83055208536e3138eabf84f154bd4f05">&#9670;&#160;</a></span>SetScourgeInvasionState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetScourgeInvasionState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690">SIState</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1249</span>{</div>
<div class="line"><span class="lineno"> 1250</span>    <a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690">SIState</a> oldState = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a>;</div>
<div class="line"><span class="lineno"> 1251</span>    <span class="keywordflow">if</span> (oldState == state)</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a> = state;</div>
<div class="line"><span class="lineno"> 1255</span>    <span class="keywordflow">if</span> (oldState == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a647b0f36eda55bfcd44ea079847f4b39">STATE_0_DISABLED</a>)</div>
<div class="line"><span class="lineno"> 1256</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#afe83b61f649a15570fa9b1db023af842">StartScourgeInvasion</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1257</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a647b0f36eda55bfcd44ea079847f4b39">STATE_0_DISABLED</a>)</div>
<div class="line"><span class="lineno"> 1258</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#ae922047e213d43094fbc45e9d73cc9c7">StopScourgeInvasion</a>();</div>
<div class="line"><span class="lineno"> 1259</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10">SAVE_ID_SCOURGE_INVASION</a>);</div>
<div class="line"><span class="lineno"> 1260</span>}</div>
<div class="ttc" id="aclassWorldState_html_ae922047e213d43094fbc45e9d73cc9c7"><div class="ttname"><a href="../../d3/da9/classWorldState.html#ae922047e213d43094fbc45e9d73cc9c7">WorldState::StopScourgeInvasion</a></div><div class="ttdeci">void StopScourgeInvasion()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1437</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00195">ScourgeInvasionData::m_state</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l00060">SAVE_ID_SCOURGE_INVASION</a>, <a class="el" href="../../#l01290">StartScourgeInvasion()</a>, <a class="el" href="../../#l00125">STATE_0_DISABLED</a>, and <a class="el" href="../../#l01437">StopScourgeInvasion()</a>.</p>

</div>
</div>
<a id="afee232ea215af146768dad9ea07b4ec5" name="afee232ea215af146768dad9ea07b4ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afee232ea215af146768dad9ea07b4ec5">&#9670;&#160;</a></span>SetSIRemaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetSIRemaining </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a>&#160;</td>
          <td class="paramname"><em>remaining</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1482</span>{</div>
<div class="line"><span class="lineno"> 1483</span>    std::lock_guard&lt;std::mutex&gt; guard(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acefb72f28d000395bc1362cd9a62b26a">m_siMutex</a>);</div>
<div class="line"><span class="lineno"> 1484</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#afa0f9b63b3c2111affdf9769ee529d88">m_remaining</a>[remaining] = value;</div>
<div class="line"><span class="lineno"> 1485</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a1b3f1594b47259d2f8b128781e08dbd1">Save</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#affad9750ec1568c3314d687af290f2acad1cfed631a6d170354306de21a9c8e10">SAVE_ID_SCOURGE_INVASION</a>);</div>
<div class="line"><span class="lineno"> 1486</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00200">ScourgeInvasionData::m_remaining</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00202">ScourgeInvasionData::m_siMutex</a>, <a class="el" href="../../#l00188">Save()</a>, and <a class="el" href="../../#l00060">SAVE_ID_SCOURGE_INVASION</a>.</p>

</div>
</div>
<a id="ab72df8ce99ca52de6ca74c532eef2836" name="ab72df8ce99ca52de6ca74c532eef2836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72df8ce99ca52de6ca74c532eef2836">&#9670;&#160;</a></span>SetSITimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetSITimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a>&#160;</td>
          <td class="paramname"><em>timePoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1494</span>{</div>
<div class="line"><span class="lineno"> 1495</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a06375cf97a023be4f3fff94cc43405a9">m_timers</a>[timer] = timePoint;</div>
<div class="line"><span class="lineno"> 1496</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00374">m_siData</a>, and <a class="el" href="../../#l00197">ScourgeInvasionData::m_timers</a>.</p>

</div>
</div>
<a id="a67c189d45ab5f01e820ff001a7427b77" name="a67c189d45ab5f01e820ff001a7427b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c189d45ab5f01e820ff001a7427b77">&#9670;&#160;</a></span>SetSunsReachCounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetSunsReachCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#aaf07f00f32588714a5bb8a6b3662211c">SunsReachCounters</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  900</span>{</div>
<div class="line"><span class="lineno">  901</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a14253084085c114aa2cfeefdebb0257d">m_sunsReachReclamationCounters</a>[index] = value;</div>
<div class="line"><span class="lineno">  902</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00325">m_sunsReachData</a>, and <a class="el" href="../../#l00266">SunsReachReclamationData::m_sunsReachReclamationCounters</a>.</p>

</div>
</div>
<a id="ac4c45cd6d06a2f7e103d8e13c07f5656" name="ac4c45cd6d06a2f7e103d8e13c07f5656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c45cd6d06a2f7e103d8e13c07f5656">&#9670;&#160;</a></span>SetSunwellGateCounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::SetSunwellGateCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a4a3013381173d98f6b2e1b401f7bd34f">SunwellGateCounters</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1200</span>{</div>
<div class="line"><span class="lineno"> 1201</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a76b38d6f571386c1d818752e12a66f66">m_gateCounters</a>[index] = value;</div>
<div class="line"><span class="lineno"> 1202</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00270">SunsReachReclamationData::m_gateCounters</a>, and <a class="el" href="../../#l00325">m_sunsReachData</a>.</p>

</div>
</div>
<a id="a944f5cb17580e70671d45d49b3d2138a" name="a944f5cb17580e70671d45d49b3d2138a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944f5cb17580e70671d45d49b3d2138a">&#9670;&#160;</a></span>setWorldState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::setWorldState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  162</span>{</div>
<div class="line"><span class="lineno">  163</span>    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; it = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.find(index);</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> (it != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>.end())</div>
<div class="line"><span class="lineno">  165</span>    {</div>
<div class="line"><span class="lineno">  166</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7afd113fa1016792456236c2a22a511741">CHAR_UPD_WORLDSTATE</a>);</div>
<div class="line"><span class="lineno">  167</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(timeValue));</div>
<div class="line"><span class="lineno">  168</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, index);</div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  170</span>    }</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  172</span>    {</div>
<div class="line"><span class="lineno">  173</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7ab8174ed238ef2280fade95d60435fe5a">CHAR_INS_WORLDSTATE</a>);</div>
<div class="line"><span class="lineno">  174</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, index);</div>
<div class="line"><span class="lineno">  175</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(timeValue));</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  177</span>    }</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9692b273469befd8d81da34a2318d7e0">_worldstates</a>[index] = timeValue;</div>
<div class="line"><span class="lineno">  180</span>}</div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7ab8174ed238ef2280fade95d60435fe5a"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7ab8174ed238ef2280fade95d60435fe5a">CHAR_INS_WORLDSTATE</a></div><div class="ttdeci">@ CHAR_INS_WORLDSTATE</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:307</div></div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7afd113fa1016792456236c2a22a511741"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7afd113fa1016792456236c2a22a511741">CHAR_UPD_WORLDSTATE</a></div><div class="ttdeci">@ CHAR_UPD_WORLDSTATE</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:306</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00312">_worldstates</a>, <a class="el" href="../../#l00307">CHAR_INS_WORLDSTATE</a>, <a class="el" href="../../#l00306">CHAR_UPD_WORLDSTATE</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

</div>
</div>
<a id="add06d6fee1a195c36bed0c3eec227487" name="add06d6fee1a195c36bed0c3eec227487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add06d6fee1a195c36bed0c3eec227487">&#9670;&#160;</a></span>StartNewCityAttack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartNewCityAttack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1681</span>{</div>
<div class="line"><span class="lineno"> 1682</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;Scourge Invasion Event: Starting new City attack in zone {}.&quot;</span>, zoneId);</div>
<div class="line"><span class="lineno"> 1683</span> </div>
<div class="line"><span class="lineno"> 1684</span>    <a class="code hl_struct" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html">ScourgeInvasionData::CityAttack</a>&amp; zone = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a70127135568b3a439f040697f1dc525c">m_cityAttacks</a>[zoneId];</div>
<div class="line"><span class="lineno"> 1685</span> </div>
<div class="line"><span class="lineno"> 1686</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpawnLocationID = <a class="code hl_function" href="../../d4/dde/Random_8cpp.html#ab17def34ccbbd868dc87a16bf35acdbd">urand</a>(0, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#a0693df9090f40b7b1b8dba0003b6092e">pallid</a>.size() - 1));</div>
<div class="line"><span class="lineno"> 1687</span> </div>
<div class="line"><span class="lineno"> 1688</span>    <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a>(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ab52fa79b07a9fad5b0cf8a28669a94eb">map</a>, zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#a0693df9090f40b7b1b8dba0003b6092e">pallid</a>[SpawnLocationID]);</div>
<div class="line"><span class="lineno"> 1689</span> </div>
<div class="line"><span class="lineno"> 1690</span>    <span class="comment">// If any of the required maps are not available we return. Will cause the invasion to be started</span></div>
<div class="line"><span class="lineno"> 1691</span>    <span class="comment">// on next update instead</span></div>
<div class="line"><span class="lineno"> 1692</span>    <span class="keywordflow">if</span> (!map)</div>
<div class="line"><span class="lineno"> 1693</span>    {</div>
<div class="line"><span class="lineno"> 1694</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::StartNewCityAttackIfTime unable to access required map (%{}). Retrying next update.&quot;</span>, zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ab52fa79b07a9fad5b0cf8a28669a94eb">map</a>);</div>
<div class="line"><span class="lineno"> 1695</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1696</span>    }</div>
<div class="line"><span class="lineno"> 1697</span> </div>
<div class="line"><span class="lineno"> 1698</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a2a2f610d9c398bc82f4e39eea4fbadfc">m_pendingPallids</a>.find(zoneId) != <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a2a2f610d9c398bc82f4e39eea4fbadfc">m_pendingPallids</a>.end())</div>
<div class="line"><span class="lineno"> 1699</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>    <span class="keywordflow">if</span> (map &amp;&amp; <a class="code hl_function" href="../../d3/da9/classWorldState.html#a532dda18bff01067da90c6ce303f7a04">SummonPallid</a>(map, zone, zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#a0693df9090f40b7b1b8dba0003b6092e">pallid</a>[SpawnLocationID], SpawnLocationID))</div>
<div class="line"><span class="lineno"> 1702</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::StartNewCityAttackIfTime pallid spawned in {}.&quot;</span>, zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ab52fa79b07a9fad5b0cf8a28669a94eb">map</a>);</div>
<div class="line"><span class="lineno"> 1703</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1704</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::StartNewCityAttackIfTime unable to spawn pallid in {}.&quot;</span>, zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ab52fa79b07a9fad5b0cf8a28669a94eb">map</a>);</div>
<div class="line"><span class="lineno"> 1705</span>}</div>
<div class="ttc" id="aclassWorldState_html_a532dda18bff01067da90c6ce303f7a04"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a532dda18bff01067da90c6ce303f7a04">WorldState::SummonPallid</a></div><div class="ttdeci">bool SummonPallid(Map *map, ScourgeInvasionData::CityAttack &amp;zone, const Position &amp;position, uint32 spawnLoc)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1764</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1CityAttack_html"><div class="ttname"><a href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html">ScourgeInvasionData::CityAttack</a></div><div class="ttdef"><b>Definition</b> WorldState.h:188</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00252">GetMap()</a>, <a class="el" href="../../#l00170">LOG_DEBUG</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00207">ScourgeInvasionData::m_cityAttacks</a>, <a class="el" href="../../#l00205">ScourgeInvasionData::m_pendingPallids</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00189">ScourgeInvasionData::CityAttack::map</a>, <a class="el" href="../../#l00191">ScourgeInvasionData::CityAttack::pallid</a>, <a class="el" href="../../#l01764">SummonPallid()</a>, and <a class="el" href="../../#l00044">urand()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01624">StartNewCityAttackIfTime()</a>, and <a class="el" href="../../#l01596">StartZoneEvent()</a>.</p>

</div>
</div>
<a id="a6ad09269608f3670926c7d195743ce0e" name="a6ad09269608f3670926c7d195743ce0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ad09269608f3670926c7d195743ce0e">&#9670;&#160;</a></span>StartNewCityAttackIfTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartNewCityAttackIfTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>attackTimeVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1625</span>{</div>
<div class="line"><span class="lineno"> 1626</span>    <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> now = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>    <span class="comment">// Not yet time</span></div>
<div class="line"><span class="lineno"> 1629</span>    <span class="keywordflow">if</span> (now &lt; sWorldState-&gt;<a class="code hl_function" href="../../d3/da9/classWorldState.html#a528f3b83ecaba4c1e99198340204b2b1">GetSITimer</a>(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>(attackTimeVar)))</div>
<div class="line"><span class="lineno"> 1630</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1631</span> </div>
<div class="line"><span class="lineno"> 1632</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#add06d6fee1a195c36bed0c3eec227487">StartNewCityAttack</a>(zoneId);</div>
<div class="line"><span class="lineno"> 1633</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> cityAttackTimer = <a class="code hl_function" href="../../d4/dde/Random_8cpp.html#ab17def34ccbbd868dc87a16bf35acdbd">urand</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa7832721e7a62b7aca2d5ceb4359d1c8c">CITY_ATTACK_TIMER_MIN</a>, <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa5f1ef8b4d92183372361d77f01f7ee29">CITY_ATTACK_TIMER_MAX</a>);</div>
<div class="line"><span class="lineno"> 1634</span>    <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> next_attack = now + std::chrono::seconds(cityAttackTimer);</div>
<div class="line"><span class="lineno"> 1635</span>    <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetSITimer(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>(attackTimeVar), next_attack);</div>
<div class="line"><span class="lineno"> 1636</span>}</div>
<div class="ttc" id="aWorldState_8h_html_af7ef7f40d622ea6710b785d8b251ff2aa5f1ef8b4d92183372361d77f01f7ee29"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa5f1ef8b4d92183372361d77f01f7ee29">CITY_ATTACK_TIMER_MAX</a></div><div class="ttdeci">@ CITY_ATTACK_TIMER_MAX</div><div class="ttdef"><b>Definition</b> WorldState.h:172</div></div>
<div class="ttc" id="aWorldState_8h_html_af7ef7f40d622ea6710b785d8b251ff2aa7832721e7a62b7aca2d5ceb4359d1c8c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#af7ef7f40d622ea6710b785d8b251ff2aa7832721e7a62b7aca2d5ceb4359d1c8c">CITY_ATTACK_TIMER_MIN</a></div><div class="ttdeci">@ CITY_ATTACK_TIMER_MIN</div><div class="ttdef"><b>Definition</b> WorldState.h:171</div></div>
<div class="ttc" id="aclassWorldState_html_a528f3b83ecaba4c1e99198340204b2b1"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a528f3b83ecaba4c1e99198340204b2b1">WorldState::GetSITimer</a></div><div class="ttdeci">TimePoint GetSITimer(SITimers timer)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1488</div></div>
<div class="ttc" id="aclassWorldState_html_add06d6fee1a195c36bed0c3eec227487"><div class="ttname"><a href="../../d3/da9/classWorldState.html#add06d6fee1a195c36bed0c3eec227487">WorldState::StartNewCityAttack</a></div><div class="ttdeci">void StartNewCityAttack(uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1680</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00172">CITY_ATTACK_TIMER_MAX</a>, <a class="el" href="../../#l00171">CITY_ATTACK_TIMER_MIN</a>, <a class="el" href="../../#l01488">GetSITimer()</a>, <a class="el" href="../../#l01680">StartNewCityAttack()</a>, <a class="el" href="../../#l00377">sWorldState</a>, and <a class="el" href="../../#l00044">urand()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01290">StartScourgeInvasion()</a>, and <a class="el" href="../../#l00305">Update()</a>.</p>

</div>
</div>
<a id="a6981d17a891b8460a64ced84ff5470f4" name="a6981d17a891b8460a64ced84ff5470f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6981d17a891b8460a64ced84ff5470f4">&#9670;&#160;</a></span>StartNewInvasion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartNewInvasion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1639</span>{</div>
<div class="line"><span class="lineno"> 1640</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/da9/classWorldState.html#aeff00c48b4887f6be5ec67a0d70a39be">IsActiveZone</a>(zoneId))</div>
<div class="line"><span class="lineno"> 1641</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1642</span> </div>
<div class="line"><span class="lineno"> 1643</span>    <span class="comment">// Don&#39;t attack same zone as before.</span></div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keywordflow">if</span> (zoneId == <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;GetLastAttackZone())</div>
<div class="line"><span class="lineno"> 1645</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1646</span> </div>
<div class="line"><span class="lineno"> 1647</span>    <span class="comment">// If we have at least one victory and more than 1 active zones stop here.</span></div>
<div class="line"><span class="lineno"> 1648</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/da9/classWorldState.html#a0729184dcf24b56d3c09962e64b0f04a">GetActiveZones</a>() &gt; 1 &amp;&amp; <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;GetBattlesWon() &gt; 0)</div>
<div class="line"><span class="lineno"> 1649</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1650</span> </div>
<div class="line"><span class="lineno"> 1651</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;Scourge Invasion Event: Starting new invasion in {}.&quot;</span>, zoneId);</div>
<div class="line"><span class="lineno"> 1652</span> </div>
<div class="line"><span class="lineno"> 1653</span>    <a class="code hl_struct" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a>&amp; zone = <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#af98aea31bf9c878adf2870890911282f">m_activeInvasions</a>[zoneId];</div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span>    <a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_function" href="../../d3/da9/classWorldState.html#a7478dfc56b6941b135d97ff3bdd91746">GetMap</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">map</a>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aa785f3badb9c898d24efdf6d42fb8a7f">mouth</a>[0]);</div>
<div class="line"><span class="lineno"> 1656</span> </div>
<div class="line"><span class="lineno"> 1657</span>    <span class="keywordflow">if</span> (!map)</div>
<div class="line"><span class="lineno"> 1658</span>    {</div>
<div class="line"><span class="lineno"> 1659</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::StartNewInvasion unable to access required map ({}). Retrying next update.&quot;</span>, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a274c6d61203c24b3c680055244e1f590">map</a>);</div>
<div class="line"><span class="lineno"> 1660</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1661</span>    }</div>
<div class="line"><span class="lineno"> 1662</span> </div>
<div class="line"><span class="lineno"> 1663</span>    <span class="keywordflow">switch</span> (zoneId)</div>
<div class="line"><span class="lineno"> 1664</span>    {</div>
<div class="line"><span class="lineno"> 1665</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a18cd2566d133329214f27a17511fd506">AREA_AZSHARA</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a28ebd1b230bb8a2e19b88347b605cf70">GAME_EVENT_SCOURGE_INVASION_AZSHARA</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1666</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace303ba93d149035825673730b8b1d2a">AREA_BLASTED_LANDS</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a10dfc746d32befa4fbef16852081c989">GAME_EVENT_SCOURGE_INVASION_BLASTED_LANDS</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1667</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad424385a06b292570b5c7178fa0f4921">AREA_BURNING_STEPPES</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3f73a9acf9158358b1c8e8809881998a">GAME_EVENT_SCOURGE_INVASION_BURNING_STEPPES</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1668</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3eeec438db2c0efc014467891451d23">AREA_EASTERN_PLAGUELANDS</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ab8c7b13c0aa2d6b6f796eaca2bf1f9c1">GAME_EVENT_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1669</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a87eaccec6b2c1a46bccb2c29ac0f8315">AREA_TANARIS</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a585669bddff3e4d441379aa0060d8232">GAME_EVENT_SCOURGE_INVASION_TANARIS</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1670</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3ed4b016327f4a8ae44c847705cb0bf">AREA_WINTERSPRING</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a42da395d5c683f22aec0cb0c1c8c7528">GAME_EVENT_SCOURGE_INVASION_WINTERSPRING</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1671</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1672</span>            <a class="code hl_define" href="../../d1/d45/Log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;gameevent&quot;</span>, <span class="stringliteral">&quot;ScourgeInvasionEvent::StartNewInvasion unknown zoneId {}.&quot;</span>, zoneId);</div>
<div class="line"><span class="lineno"> 1673</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1674</span>    }</div>
<div class="line"><span class="lineno"> 1675</span> </div>
<div class="line"><span class="lineno"> 1676</span>    <span class="keywordflow">if</span> (map)</div>
<div class="line"><span class="lineno"> 1677</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a93b53e82f0e852bd8c96151fc95e1152">SummonMouth</a>(map, zone, zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aa785f3badb9c898d24efdf6d42fb8a7f">mouth</a>[0], <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1678</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a10dfc746d32befa4fbef16852081c989"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a10dfc746d32befa4fbef16852081c989">GAME_EVENT_SCOURGE_INVASION_BLASTED_LANDS</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_BLASTED_LANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:72</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a28ebd1b230bb8a2e19b88347b605cf70"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a28ebd1b230bb8a2e19b88347b605cf70">GAME_EVENT_SCOURGE_INVASION_AZSHARA</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_AZSHARA</div><div class="ttdef"><b>Definition</b> WorldState.h:71</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a3f73a9acf9158358b1c8e8809881998a"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3f73a9acf9158358b1c8e8809881998a">GAME_EVENT_SCOURGE_INVASION_BURNING_STEPPES</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_BURNING_STEPPES</div><div class="ttdef"><b>Definition</b> WorldState.h:74</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a42da395d5c683f22aec0cb0c1c8c7528"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a42da395d5c683f22aec0cb0c1c8c7528">GAME_EVENT_SCOURGE_INVASION_WINTERSPRING</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_WINTERSPRING</div><div class="ttdef"><b>Definition</b> WorldState.h:69</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a585669bddff3e4d441379aa0060d8232"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a585669bddff3e4d441379aa0060d8232">GAME_EVENT_SCOURGE_INVASION_TANARIS</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_TANARIS</div><div class="ttdef"><b>Definition</b> WorldState.h:70</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ab8c7b13c0aa2d6b6f796eaca2bf1f9c1"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ab8c7b13c0aa2d6b6f796eaca2bf1f9c1">GAME_EVENT_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_EASTERN_PLAGUELANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:73</div></div>
<div class="ttc" id="aclassWorldState_html_aeff00c48b4887f6be5ec67a0d70a39be"><div class="ttname"><a href="../../d3/da9/classWorldState.html#aeff00c48b4887f6be5ec67a0d70a39be">WorldState::IsActiveZone</a></div><div class="ttdeci">bool IsActiveZone(uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1908</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">AREA_AZSHARA</a>, <a class="el" href="../../#l00027">AREA_BLASTED_LANDS</a>, <a class="el" href="../../#l00042">AREA_BURNING_STEPPES</a>, <a class="el" href="../../#l00053">AREA_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00073">AREA_TANARIS</a>, <a class="el" href="../../#l00076">AREA_WINTERSPRING</a>, <a class="el" href="../../#l00071">GAME_EVENT_SCOURGE_INVASION_AZSHARA</a>, <a class="el" href="../../#l00072">GAME_EVENT_SCOURGE_INVASION_BLASTED_LANDS</a>, <a class="el" href="../../#l00074">GAME_EVENT_SCOURGE_INVASION_BURNING_STEPPES</a>, <a class="el" href="../../#l00073">GAME_EVENT_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00070">GAME_EVENT_SCOURGE_INVASION_TANARIS</a>, <a class="el" href="../../#l00069">GAME_EVENT_SCOURGE_INVASION_WINTERSPRING</a>, <a class="el" href="../../#l01914">GetActiveZones()</a>, <a class="el" href="../../#l00252">GetMap()</a>, <a class="el" href="../../#l01908">IsActiveZone()</a>, <a class="el" href="../../#l00170">LOG_DEBUG</a>, <a class="el" href="../../#l00158">LOG_ERROR</a>, <a class="el" href="../../#l00206">ScourgeInvasionData::m_activeInvasions</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00179">ScourgeInvasionData::InvasionZone::map</a>, <a class="el" href="../../#l00183">ScourgeInvasionData::InvasionZone::mouth</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l01737">SummonMouth()</a>, and <a class="el" href="../../#l00377">sWorldState</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01613">StartNewInvasionIfTime()</a>, and <a class="el" href="../../#l01596">StartZoneEvent()</a>.</p>

</div>
</div>
<a id="a60d5e7cd4ef857d7085fdb0b16107d12" name="a60d5e7cd4ef857d7085fdb0b16107d12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60d5e7cd4ef857d7085fdb0b16107d12">&#9670;&#160;</a></span>StartNewInvasionIfTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartNewInvasionIfTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>attackTimeVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>zoneId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1614</span>{</div>
<div class="line"><span class="lineno"> 1615</span>    <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> now = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 1616</span> </div>
<div class="line"><span class="lineno"> 1617</span>    <span class="comment">// Not yet time</span></div>
<div class="line"><span class="lineno"> 1618</span>    <span class="keywordflow">if</span> (now &lt; sWorldState-&gt;<a class="code hl_function" href="../../d3/da9/classWorldState.html#a528f3b83ecaba4c1e99198340204b2b1">GetSITimer</a>(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99e">SITimers</a>(attackTimeVar)))</div>
<div class="line"><span class="lineno"> 1619</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1620</span> </div>
<div class="line"><span class="lineno"> 1621</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a>(zoneId);</div>
<div class="line"><span class="lineno"> 1622</span>}</div>
<div class="ttc" id="aclassWorldState_html_a6981d17a891b8460a64ced84ff5470f4"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">WorldState::StartNewInvasion</a></div><div class="ttdeci">void StartNewInvasion(uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1638</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01488">GetSITimer()</a>, and <a class="el" href="../../#l01638">StartNewInvasion()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01790">HandleActiveZone()</a>, and <a class="el" href="../../#l01875">OnEnable()</a>.</p>

</div>
</div>
<a id="afe83b61f649a15570fa9b1db023af842" name="afe83b61f649a15570fa9b1db023af842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe83b61f649a15570fa9b1db023af842">&#9670;&#160;</a></span>StartScourgeInvasion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartScourgeInvasion </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sendMail</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1291</span>{</div>
<div class="line"><span class="lineno"> 1292</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a35299752ef87a4482d58ec87ff9067ea">GAME_EVENT_SCOURGE_INVASION</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>    <span class="keywordflow">if</span> (sendMail)</div>
<div class="line"><span class="lineno"> 1295</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#ab6e287b6be058d7260edbbf86d112305">SendScourgeInvasionMail</a>();</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#af8048f1e34b7b5ea702bc37d1f911654">BroadcastSIWorldstates</a>();</div>
<div class="line"><span class="lineno"> 1298</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a27acc7e6cdaaad5f13ed4df7be56defc">STATE_1_ENABLED</a>)</div>
<div class="line"><span class="lineno"> 1299</span>    {</div>
<div class="line"><span class="lineno"> 1300</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; zone : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_cityAttacks)</div>
<div class="line"><span class="lineno"> 1301</span>        {</div>
<div class="line"><span class="lineno"> 1302</span>            <span class="keywordflow">if</span> (zone.second.zoneId == <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3748fb0df84a7002fee04a79b1c26858">AREA_UNDERCITY</a>)</div>
<div class="line"><span class="lineno"> 1303</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6ad09269608f3670926c7d195743ce0e">StartNewCityAttackIfTime</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea1ed9e8fd06f5592cbf0d6e1b11020188">SI_TIMER_UNDERCITY</a>, zone.second.zoneId);</div>
<div class="line"><span class="lineno"> 1304</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (zone.second.zoneId == <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab7b30784be644e9844de24a8aeb78eba">AREA_STORMWIND_CITY</a>)</div>
<div class="line"><span class="lineno"> 1305</span>                <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6ad09269608f3670926c7d195743ce0e">StartNewCityAttackIfTime</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea62abd4548974545032422538cb50e7ac">SI_TIMER_STORMWIND</a>, zone.second.zoneId);</div>
<div class="line"><span class="lineno"> 1306</span>        }</div>
<div class="line"><span class="lineno"> 1307</span> </div>
<div class="line"><span class="lineno"> 1308</span>        <span class="comment">// randomization of init so that not every invasion starts the same way</span></div>
<div class="line"><span class="lineno"> 1309</span>        std::vector&lt;uint32&gt; randomIds;</div>
<div class="line"><span class="lineno"> 1310</span>        randomIds.reserve(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#af98aea31bf9c878adf2870890911282f">m_activeInvasions</a>.size());</div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [zoneId, _] : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_activeInvasions)</div>
<div class="line"><span class="lineno"> 1312</span>            randomIds.push_back(zoneId);</div>
<div class="line"><span class="lineno"> 1313</span>        <a class="code hl_function" href="../../d0/d65/namespaceAcore_1_1Containers.html#a4585a27b1f592547062d7bc039cff3b4">Acore::Containers::RandomShuffle</a>(randomIds);</div>
<div class="line"><span class="lineno"> 1314</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keywordtype">id</span> : randomIds)</div>
<div class="line"><span class="lineno"> 1315</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#af8a39d93f0a8369d107d13d20c3c3305">OnEnable</a>(<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_activeInvasions[id]);</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span>        <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a625213bc617985b42a09ef37e4e06fda">GAME_EVENT_SCOURGE_INVASION_BOSSES</a>);</div>
<div class="line"><span class="lineno"> 1318</span>    }</div>
<div class="line"><span class="lineno"> 1319</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3a3748fb0df84a7002fee04a79b1c26858"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3748fb0df84a7002fee04a79b1c26858">AREA_UNDERCITY</a></div><div class="ttdeci">@ AREA_UNDERCITY</div><div class="ttdef"><b>Definition</b> AreaDefines.h:80</div></div>
<div class="ttc" id="aAreaDefines_8h_html_ad26fccabf338d55f9fdcce090c8a0aa3ab7b30784be644e9844de24a8aeb78eba"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab7b30784be644e9844de24a8aeb78eba">AREA_STORMWIND_CITY</a></div><div class="ttdeci">@ AREA_STORMWIND_CITY</div><div class="ttdef"><b>Definition</b> AreaDefines.h:81</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a35299752ef87a4482d58ec87ff9067ea"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a35299752ef87a4482d58ec87ff9067ea">GAME_EVENT_SCOURGE_INVASION</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION</div><div class="ttdef"><b>Definition</b> WorldState.h:67</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a625213bc617985b42a09ef37e4e06fda"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a625213bc617985b42a09ef37e4e06fda">GAME_EVENT_SCOURGE_INVASION_BOSSES</a></div><div class="ttdeci">@ GAME_EVENT_SCOURGE_INVASION_BOSSES</div><div class="ttdef"><b>Definition</b> WorldState.h:68</div></div>
<div class="ttc" id="aclassWorldState_html_a6ad09269608f3670926c7d195743ce0e"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a6ad09269608f3670926c7d195743ce0e">WorldState::StartNewCityAttackIfTime</a></div><div class="ttdeci">void StartNewCityAttackIfTime(uint32 attackTimeVar, uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1624</div></div>
<div class="ttc" id="aclassWorldState_html_ab6e287b6be058d7260edbbf86d112305"><div class="ttname"><a href="../../d3/da9/classWorldState.html#ab6e287b6be058d7260edbbf86d112305">WorldState::SendScourgeInvasionMail</a></div><div class="ttdeci">void SendScourgeInvasionMail()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1262</div></div>
<div class="ttc" id="aclassWorldState_html_af8048f1e34b7b5ea702bc37d1f911654"><div class="ttname"><a href="../../d3/da9/classWorldState.html#af8048f1e34b7b5ea702bc37d1f911654">WorldState::BroadcastSIWorldstates</a></div><div class="ttdeci">void BroadcastSIWorldstates()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1524</div></div>
<div class="ttc" id="aclassWorldState_html_af8a39d93f0a8369d107d13d20c3c3305"><div class="ttname"><a href="../../d3/da9/classWorldState.html#af8a39d93f0a8369d107d13d20c3c3305">WorldState::OnEnable</a></div><div class="ttdeci">void OnEnable(ScourgeInvasionData::InvasionZone &amp;zone)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1875</div></div>
<div class="ttc" id="anamespaceAcore_1_1Containers_html_a4585a27b1f592547062d7bc039cff3b4"><div class="ttname"><a href="../../d0/d65/namespaceAcore_1_1Containers.html#a4585a27b1f592547062d7bc039cff3b4">Acore::Containers::RandomShuffle</a></div><div class="ttdeci">void RandomShuffle(C &amp;container)</div><div class="ttdef"><b>Definition</b> Containers.h:230</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00081">AREA_STORMWIND_CITY</a>, <a class="el" href="../../#l00080">AREA_UNDERCITY</a>, <a class="el" href="../../#l01524">BroadcastSIWorldstates()</a>, <a class="el" href="../../#l00067">GAME_EVENT_SCOURGE_INVASION</a>, <a class="el" href="../../#l00068">GAME_EVENT_SCOURGE_INVASION_BOSSES</a>, <a class="el" href="../../#l00206">ScourgeInvasionData::m_activeInvasions</a>, <a class="el" href="../../#l00207">ScourgeInvasionData::m_cityAttacks</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00195">ScourgeInvasionData::m_state</a>, <a class="el" href="../../#l01875">OnEnable()</a>, <a class="el" href="../../#l00230">Acore::Containers::RandomShuffle()</a>, <a class="el" href="../../#l01262">SendScourgeInvasionMail()</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00150">SI_TIMER_STORMWIND</a>, <a class="el" href="../../#l00151">SI_TIMER_UNDERCITY</a>, <a class="el" href="../../#l01624">StartNewCityAttackIfTime()</a>, and <a class="el" href="../../#l00126">STATE_1_ENABLED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00049">Load()</a>, and <a class="el" href="../../#l01248">SetScourgeInvasionState()</a>.</p>

</div>
</div>
<a id="aa0ccc9b698e2449bbde90e85b3e6eda8" name="aa0ccc9b698e2449bbde90e85b3e6eda8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ccc9b698e2449bbde90e85b3e6eda8">&#9670;&#160;</a></span>StartSunsReachPhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartSunsReachPhase </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initial</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  917</span>{</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  919</span>    {</div>
<div class="line"><span class="lineno">  920</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>:</div>
<div class="line"><span class="lineno">  921</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164">GAME_EVENT_QUEL_DANAS_PHASE_1</a>);</div>
<div class="line"><span class="lineno">  922</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  923</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da33ce6050f5c9a8dbbfc2556756f960c3">WEATHER_STATE_MEDIUM_RAIN</a>, 0.75f);</div>
<div class="line"><span class="lineno">  924</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>:</div>
<div class="line"><span class="lineno">  926</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>);</div>
<div class="line"><span class="lineno">  927</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  928</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  929</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d">WEATHER_STATE_LIGHT_RAIN</a>, 0.5f);</div>
<div class="line"><span class="lineno">  930</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>:</div>
<div class="line"><span class="lineno">  932</span>            <span class="keywordflow">if</span> (initial)</div>
<div class="line"><span class="lineno">  933</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  934</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>); <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  935</span>            <span class="comment">// TODO: Should be id 2 0.25f?</span></div>
<div class="line"><span class="lineno">  936</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  937</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d">WEATHER_STATE_LIGHT_RAIN</a>, 0.25f);</div>
<div class="line"><span class="lineno">  938</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  939</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>:</div>
<div class="line"><span class="lineno">  940</span>            <span class="keywordflow">if</span> (initial)</div>
<div class="line"><span class="lineno">  941</span>            {</div>
<div class="line"><span class="lineno">  942</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  943</span>                <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>);</div>
<div class="line"><span class="lineno">  944</span>            }</div>
<div class="line"><span class="lineno">  945</span>            <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a">GAME_EVENT_QUEL_DANAS_PHASE_4</a>);</div>
<div class="line"><span class="lineno">  946</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d7/db0/classMap.html">Map</a>* map = <a class="code hl_define" href="../../da/d7b/MapMgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindBaseNonInstanceMap(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a>))</div>
<div class="line"><span class="lineno">  947</span>                map-&gt;SetZoneWeather(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a05d79f5f3fdcacccee161795e05a604e">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="code hl_enumvalue" href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da5d4c47a117d36afee4195bd260951366">WEATHER_STATE_FINE</a>, 0.0f);</div>
<div class="line"><span class="lineno">  948</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  949</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  950</span>    }</div>
<div class="line"><span class="lineno">  951</span>}</div>
<div class="ttc" id="aAreaDefines_8h_html_a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94"><div class="ttname"><a href="../../dc/d4b/AreaDefines_8h.html#a6d57376a08b6ff3944dd9a5930a492cba63fb1898d9f56087e4e0074752326a94">MAP_OUTLAND</a></div><div class="ttdeci">@ MAP_OUTLAND</div><div class="ttdef"><b>Definition</b> AreaDefines.h:217</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</div><div class="ttdef"><b>Definition</b> WorldState.h:94</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</div><div class="ttdef"><b>Definition</b> WorldState.h:91</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a">GAME_EVENT_QUEL_DANAS_PHASE_4</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_4</div><div class="ttdef"><b>Definition</b> WorldState.h:98</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</div><div class="ttdef"><b>Definition</b> WorldState.h:95</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</div><div class="ttdef"><b>Definition</b> WorldState.h:90</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164">GAME_EVENT_QUEL_DANAS_PHASE_1</a></div><div class="ttdeci">@ GAME_EVENT_QUEL_DANAS_PHASE_1</div><div class="ttdef"><b>Definition</b> WorldState.h:89</div></div>
<div class="ttc" id="agroup__world_html_gga32b7b9e733438755c99c2abd6cb8c94da33ce6050f5c9a8dbbfc2556756f960c3"><div class="ttname"><a href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da33ce6050f5c9a8dbbfc2556756f960c3">WEATHER_STATE_MEDIUM_RAIN</a></div><div class="ttdeci">@ WEATHER_STATE_MEDIUM_RAIN</div><div class="ttdef"><b>Definition</b> Weather.h:50</div></div>
<div class="ttc" id="agroup__world_html_gga32b7b9e733438755c99c2abd6cb8c94da5d4c47a117d36afee4195bd260951366"><div class="ttname"><a href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94da5d4c47a117d36afee4195bd260951366">WEATHER_STATE_FINE</a></div><div class="ttdeci">@ WEATHER_STATE_FINE</div><div class="ttdef"><b>Definition</b> Weather.h:47</div></div>
<div class="ttc" id="agroup__world_html_gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d"><div class="ttname"><a href="../../df/d17/group__world.html#gga32b7b9e733438755c99c2abd6cb8c94dafe59189ae98629ed11fbd343da10e97d">WEATHER_STATE_LIGHT_RAIN</a></div><div class="ttdeci">@ WEATHER_STATE_LIGHT_RAIN</div><div class="ttdef"><b>Definition</b> Weather.h:49</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00140">AREA_ISLE_OF_QUEL_DANAS</a>, <a class="el" href="../../#l00089">GAME_EVENT_QUEL_DANAS_PHASE_1</a>, <a class="el" href="../../#l00090">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>, <a class="el" href="../../#l00091">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>, <a class="el" href="../../#l00094">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>, <a class="el" href="../../#l00095">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>, <a class="el" href="../../#l00098">GAME_EVENT_QUEL_DANAS_PHASE_4</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00217">MAP_OUTLAND</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00220">sMapMgr</a>, <a class="el" href="../../#l00217">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00218">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00219">SUNS_REACH_PHASE_3_ARMORY</a>, <a class="el" href="../../#l00220">SUNS_REACH_PHASE_4_HARBOR</a>, <a class="el" href="../../#l00047">WEATHER_STATE_FINE</a>, <a class="el" href="../../#l00049">WEATHER_STATE_LIGHT_RAIN</a>, and <a class="el" href="../../#l00050">WEATHER_STATE_MEDIUM_RAIN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00716">HandleSunsReachPhaseTransition()</a>, and <a class="el" href="../../#l00049">Load()</a>.</p>

</div>
</div>
<a id="a5cb1e1ff43eb6b88935b86c875363e40" name="a5cb1e1ff43eb6b88935b86c875363e40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb1e1ff43eb6b88935b86c875363e40">&#9670;&#160;</a></span>StartSunwellGatePhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartSunwellGatePhase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1205</span>{</div>
<div class="line"><span class="lineno"> 1206</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno"> 1207</span>    {</div>
<div class="line"><span class="lineno"> 1208</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423">GAME_EVENT_SWP_GATES_PHASE_0</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1209</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b">GAME_EVENT_SWP_GATES_PHASE_1</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1210</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c">GAME_EVENT_SWP_GATES_PHASE_2</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StartEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8">GAME_EVENT_SWP_GATES_PHASE_3</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1212</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1213</span>    }</div>
<div class="line"><span class="lineno"> 1214</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b">GAME_EVENT_SWP_GATES_PHASE_1</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_1</div><div class="ttdef"><b>Definition</b> WorldState.h:106</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8">GAME_EVENT_SWP_GATES_PHASE_3</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_3</div><div class="ttdef"><b>Definition</b> WorldState.h:108</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423">GAME_EVENT_SWP_GATES_PHASE_0</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_0</div><div class="ttdef"><b>Definition</b> WorldState.h:105</div></div>
<div class="ttc" id="aWorldState_8h_html_a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c">GAME_EVENT_SWP_GATES_PHASE_2</a></div><div class="ttdeci">@ GAME_EVENT_SWP_GATES_PHASE_2</div><div class="ttdef"><b>Definition</b> WorldState.h:107</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00105">GAME_EVENT_SWP_GATES_PHASE_0</a>, <a class="el" href="../../#l00106">GAME_EVENT_SWP_GATES_PHASE_1</a>, <a class="el" href="../../#l00107">GAME_EVENT_SWP_GATES_PHASE_2</a>, <a class="el" href="../../#l00108">GAME_EVENT_SWP_GATES_PHASE_3</a>, <a class="el" href="../../#l00269">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00250">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00249">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00252">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, and <a class="el" href="../../#l00251">SUNWELL_ROHENDOR_GATE2_OPEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00869">HandleSunwellGateTransition()</a>, and <a class="el" href="../../#l00049">Load()</a>.</p>

</div>
</div>
<a id="ac4c3fd1a5f033ace408dfe719b5e78b4" name="ac4c3fd1a5f033ace408dfe719b5e78b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c3fd1a5f033ace408dfe719b5e78b4">&#9670;&#160;</a></span>StartZoneEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StartZoneEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8">SIZoneIds</a>&#160;</td>
          <td class="paramname"><em>eventId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1597</span>{</div>
<div class="line"><span class="lineno"> 1598</span>    <span class="keywordflow">switch</span> (eventId)</div>
<div class="line"><span class="lineno"> 1599</span>    {</div>
<div class="line"><span class="lineno"> 1600</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a77b28318e4ca21eb4cd36c1a9fb74f63">SI_ZONE_AZSHARA</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a18cd2566d133329214f27a17511fd506">AREA_AZSHARA</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1601</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8aac89922b39ff3f86ed8f4b023f15ac08">SI_ZONE_BLASTED_LANDS</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ace303ba93d149035825673730b8b1d2a">AREA_BLASTED_LANDS</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1602</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8aad28d71d1cd42f38fed8288571607e19">SI_ZONE_BURNING_STEPPES</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ad424385a06b292570b5c7178fa0f4921">AREA_BURNING_STEPPES</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1603</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a0ebcab930583bf84159383b75e4162bb">SI_ZONE_EASTERN_PLAGUELANDS</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3eeec438db2c0efc014467891451d23">AREA_EASTERN_PLAGUELANDS</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1604</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a9da39cfe20184768a9c7988ed17ab01d">SI_ZONE_TANARIS</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a87eaccec6b2c1a46bccb2c29ac0f8315">AREA_TANARIS</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1605</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a4957757eabc8da5ed9b89defc865b068">SI_ZONE_WINTERSPRING</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6981d17a891b8460a64ced84ff5470f4">StartNewInvasion</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab3ed4b016327f4a8ae44c847705cb0bf">AREA_WINTERSPRING</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1606</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8aff276d792e7dacdc26805e381d7b6006">SI_ZONE_STORMWIND</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#add06d6fee1a195c36bed0c3eec227487">StartNewCityAttack</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab7b30784be644e9844de24a8aeb78eba">AREA_STORMWIND_CITY</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1607</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a4f8d0977575b2db09b15ef3df7deae11">SI_ZONE_UNDERCITY</a>: <a class="code hl_function" href="../../d3/da9/classWorldState.html#add06d6fee1a195c36bed0c3eec227487">StartNewCityAttack</a>(<a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3748fb0df84a7002fee04a79b1c26858">AREA_UNDERCITY</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1608</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1609</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1610</span>    }</div>
<div class="line"><span class="lineno"> 1611</span>}</div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8a0ebcab930583bf84159383b75e4162bb"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a0ebcab930583bf84159383b75e4162bb">SI_ZONE_EASTERN_PLAGUELANDS</a></div><div class="ttdeci">@ SI_ZONE_EASTERN_PLAGUELANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:135</div></div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8a4957757eabc8da5ed9b89defc865b068"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a4957757eabc8da5ed9b89defc865b068">SI_ZONE_WINTERSPRING</a></div><div class="ttdeci">@ SI_ZONE_WINTERSPRING</div><div class="ttdef"><b>Definition</b> WorldState.h:137</div></div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8a4f8d0977575b2db09b15ef3df7deae11"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a4f8d0977575b2db09b15ef3df7deae11">SI_ZONE_UNDERCITY</a></div><div class="ttdeci">@ SI_ZONE_UNDERCITY</div><div class="ttdef"><b>Definition</b> WorldState.h:139</div></div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8a77b28318e4ca21eb4cd36c1a9fb74f63"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a77b28318e4ca21eb4cd36c1a9fb74f63">SI_ZONE_AZSHARA</a></div><div class="ttdeci">@ SI_ZONE_AZSHARA</div><div class="ttdef"><b>Definition</b> WorldState.h:132</div></div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8a9da39cfe20184768a9c7988ed17ab01d"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8a9da39cfe20184768a9c7988ed17ab01d">SI_ZONE_TANARIS</a></div><div class="ttdeci">@ SI_ZONE_TANARIS</div><div class="ttdef"><b>Definition</b> WorldState.h:136</div></div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8aac89922b39ff3f86ed8f4b023f15ac08"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8aac89922b39ff3f86ed8f4b023f15ac08">SI_ZONE_BLASTED_LANDS</a></div><div class="ttdeci">@ SI_ZONE_BLASTED_LANDS</div><div class="ttdef"><b>Definition</b> WorldState.h:133</div></div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8aad28d71d1cd42f38fed8288571607e19"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8aad28d71d1cd42f38fed8288571607e19">SI_ZONE_BURNING_STEPPES</a></div><div class="ttdeci">@ SI_ZONE_BURNING_STEPPES</div><div class="ttdef"><b>Definition</b> WorldState.h:134</div></div>
<div class="ttc" id="aWorldState_8h_html_a7073adb35dc267e2d6a3086ec5c607d8aff276d792e7dacdc26805e381d7b6006"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#a7073adb35dc267e2d6a3086ec5c607d8aff276d792e7dacdc26805e381d7b6006">SI_ZONE_STORMWIND</a></div><div class="ttdeci">@ SI_ZONE_STORMWIND</div><div class="ttdef"><b>Definition</b> WorldState.h:138</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">AREA_AZSHARA</a>, <a class="el" href="../../#l00027">AREA_BLASTED_LANDS</a>, <a class="el" href="../../#l00042">AREA_BURNING_STEPPES</a>, <a class="el" href="../../#l00053">AREA_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00081">AREA_STORMWIND_CITY</a>, <a class="el" href="../../#l00073">AREA_TANARIS</a>, <a class="el" href="../../#l00080">AREA_UNDERCITY</a>, <a class="el" href="../../#l00076">AREA_WINTERSPRING</a>, <a class="el" href="../../#l00132">SI_ZONE_AZSHARA</a>, <a class="el" href="../../#l00133">SI_ZONE_BLASTED_LANDS</a>, <a class="el" href="../../#l00134">SI_ZONE_BURNING_STEPPES</a>, <a class="el" href="../../#l00135">SI_ZONE_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00138">SI_ZONE_STORMWIND</a>, <a class="el" href="../../#l00136">SI_ZONE_TANARIS</a>, <a class="el" href="../../#l00139">SI_ZONE_UNDERCITY</a>, <a class="el" href="../../#l00137">SI_ZONE_WINTERSPRING</a>, <a class="el" href="../../#l01680">StartNewCityAttack()</a>, and <a class="el" href="../../#l01638">StartNewInvasion()</a>.</p>

</div>
</div>
<a id="ae922047e213d43094fbc45e9d73cc9c7" name="ae922047e213d43094fbc45e9d73cc9c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae922047e213d43094fbc45e9d73cc9c7">&#9670;&#160;</a></span>StopScourgeInvasion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StopScourgeInvasion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1438</span>{</div>
<div class="line"><span class="lineno"> 1439</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a35299752ef87a4482d58ec87ff9067ea">GAME_EVENT_SCOURGE_INVASION</a>);</div>
<div class="line"><span class="lineno"> 1440</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a42da395d5c683f22aec0cb0c1c8c7528">GAME_EVENT_SCOURGE_INVASION_WINTERSPRING</a>);</div>
<div class="line"><span class="lineno"> 1441</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a585669bddff3e4d441379aa0060d8232">GAME_EVENT_SCOURGE_INVASION_TANARIS</a>);</div>
<div class="line"><span class="lineno"> 1442</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a28ebd1b230bb8a2e19b88347b605cf70">GAME_EVENT_SCOURGE_INVASION_AZSHARA</a>);</div>
<div class="line"><span class="lineno"> 1443</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a10dfc746d32befa4fbef16852081c989">GAME_EVENT_SCOURGE_INVASION_BLASTED_LANDS</a>);</div>
<div class="line"><span class="lineno"> 1444</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ab8c7b13c0aa2d6b6f796eaca2bf1f9c1">GAME_EVENT_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>);</div>
<div class="line"><span class="lineno"> 1445</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3f73a9acf9158358b1c8e8809881998a">GAME_EVENT_SCOURGE_INVASION_BURNING_STEPPES</a>);</div>
<div class="line"><span class="lineno"> 1446</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a720302fea42989e522858f081bd3e81a">GAME_EVENT_SCOURGE_INVASION_INVASIONS_DONE</a>);</div>
<div class="line"><span class="lineno"> 1447</span>    <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a625213bc617985b42a09ef37e4e06fda">GAME_EVENT_SCOURGE_INVASION_BOSSES</a>);</div>
<div class="line"><span class="lineno"> 1448</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#af8048f1e34b7b5ea702bc37d1f911654">BroadcastSIWorldstates</a>();</div>
<div class="line"><span class="lineno"> 1449</span>    <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_function" href="../../dd/d8a/structScourgeInvasionData.html#a0ae2fc830e4f85fb619c38fdcad794ae">Reset</a>();</div>
<div class="line"><span class="lineno"> 1450</span> </div>
<div class="line"><span class="lineno"> 1451</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [_, cityData] : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_cityAttacks)</div>
<div class="line"><span class="lineno"> 1452</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#ac1fd33de5296c57eaa4beea933fb55fc">OnDisable</a>(cityData);</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [_, zoneData] : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_activeInvasions)</div>
<div class="line"><span class="lineno"> 1455</span>        <a class="code hl_function" href="../../d3/da9/classWorldState.html#ac1fd33de5296c57eaa4beea933fb55fc">OnDisable</a>(zoneData);</div>
<div class="line"><span class="lineno"> 1456</span>}</div>
<div class="ttc" id="aclassWorldState_html_ac1fd33de5296c57eaa4beea933fb55fc"><div class="ttname"><a href="../../d3/da9/classWorldState.html#ac1fd33de5296c57eaa4beea933fb55fc">WorldState::OnDisable</a></div><div class="ttdeci">void OnDisable(ScourgeInvasionData::InvasionZone &amp;zone)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1886</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01524">BroadcastSIWorldstates()</a>, <a class="el" href="../../#l00067">GAME_EVENT_SCOURGE_INVASION</a>, <a class="el" href="../../#l00071">GAME_EVENT_SCOURGE_INVASION_AZSHARA</a>, <a class="el" href="../../#l00072">GAME_EVENT_SCOURGE_INVASION_BLASTED_LANDS</a>, <a class="el" href="../../#l00068">GAME_EVENT_SCOURGE_INVASION_BOSSES</a>, <a class="el" href="../../#l00074">GAME_EVENT_SCOURGE_INVASION_BURNING_STEPPES</a>, <a class="el" href="../../#l00073">GAME_EVENT_SCOURGE_INVASION_EASTERN_PLAGUELANDS</a>, <a class="el" href="../../#l00078">GAME_EVENT_SCOURGE_INVASION_INVASIONS_DONE</a>, <a class="el" href="../../#l00070">GAME_EVENT_SCOURGE_INVASION_TANARIS</a>, <a class="el" href="../../#l00069">GAME_EVENT_SCOURGE_INVASION_WINTERSPRING</a>, <a class="el" href="../../#l00206">ScourgeInvasionData::m_activeInvasions</a>, <a class="el" href="../../#l00207">ScourgeInvasionData::m_cityAttacks</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l01886">OnDisable()</a>, <a class="el" href="../../#l01409">ScourgeInvasionData::Reset()</a>, and <a class="el" href="../../#l00201">sGameEventMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01248">SetScourgeInvasionState()</a>.</p>

</div>
</div>
<a id="a97eabce4c25bd59dabb9b417574cc2cb" name="a97eabce4c25bd59dabb9b417574cc2cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97eabce4c25bd59dabb9b417574cc2cb">&#9670;&#160;</a></span>StopSunsReachPhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StopSunsReachPhase </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  905</span>{</div>
<div class="line"><span class="lineno">  906</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a67711cd7d43f481161b8f98690d67fe3">m_phase</a>)</div>
<div class="line"><span class="lineno">  907</span>    {</div>
<div class="line"><span class="lineno">  908</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ab65a732a0c383bd3d043a34e29c558ed">SUNS_REACH_PHASE_1_STAGING_AREA</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae5520992190d7cad4d3003679f654164">GAME_EVENT_QUEL_DANAS_PHASE_1</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a83392af6406c346fcc27d7ac61925c60">SUNS_REACH_PHASE_2_SANCTUM</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac5cb6f79cbb24ebcb7f9c508826b8f32">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>); <span class="keywordflow">if</span> (!forward) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a865824023c30d8881ad0d473fc74d850">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6a0ea20d0c1efef719695c8d2a6959b4a2">SUNS_REACH_PHASE_3_ARMORY</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a3bbe84b7ad256db4c8a69f40d1d9906f">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>); <span class="keywordflow">if</span> (!forward) <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780abc22f906ec988e522bb3fbd9d5f49b2b">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aa3e8fbd653500f90fa1ebe182d4891d6ad46034efa280e589b555f346debbb938">SUNS_REACH_PHASE_4_HARBOR</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a98d4bd3e61e229b461dc177eece1e83a">GAME_EVENT_QUEL_DANAS_PHASE_4</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  912</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  913</span>    }</div>
<div class="line"><span class="lineno">  914</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00089">GAME_EVENT_QUEL_DANAS_PHASE_1</a>, <a class="el" href="../../#l00090">GAME_EVENT_QUEL_DANAS_PHASE_2_ONLY</a>, <a class="el" href="../../#l00091">GAME_EVENT_QUEL_DANAS_PHASE_2_PERMANENT</a>, <a class="el" href="../../#l00094">GAME_EVENT_QUEL_DANAS_PHASE_3_ONLY</a>, <a class="el" href="../../#l00095">GAME_EVENT_QUEL_DANAS_PHASE_3_PERMANENT</a>, <a class="el" href="../../#l00098">GAME_EVENT_QUEL_DANAS_PHASE_4</a>, <a class="el" href="../../#l00264">SunsReachReclamationData::m_phase</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00217">SUNS_REACH_PHASE_1_STAGING_AREA</a>, <a class="el" href="../../#l00218">SUNS_REACH_PHASE_2_SANCTUM</a>, <a class="el" href="../../#l00219">SUNS_REACH_PHASE_3_ARMORY</a>, and <a class="el" href="../../#l00220">SUNS_REACH_PHASE_4_HARBOR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00716">HandleSunsReachPhaseTransition()</a>.</p>

</div>
</div>
<a id="afbd4d4141d81f26e9fb6508b628e7e59" name="afbd4d4141d81f26e9fb6508b628e7e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd4d4141d81f26e9fb6508b628e7e59">&#9670;&#160;</a></span>StopSunwellGatePhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::StopSunwellGatePhase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1217</span>{</div>
<div class="line"><span class="lineno"> 1218</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a9d3901ed4c6fd2440118bdebdcb632f4">m_sunsReachData</a>.<a class="code hl_variable" href="../../d3/db1/structSunsReachReclamationData.html#a35755bcf3f67cfb2ebc77dcb36fa4dfb">m_gate</a>)</div>
<div class="line"><span class="lineno"> 1219</span>    {</div>
<div class="line"><span class="lineno"> 1220</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba8e9efb46ed96537c672046bd063481c4">SUNWELL_ALL_GATES_CLOSED</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ae77dd18a9c0bb1d3f2194ae6d402b423">GAME_EVENT_SWP_GATES_PHASE_0</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1221</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebab502da8d18813b99e43f7b4584f6e574">SUNWELL_AGAMATH_GATE1_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780a9dfc64311fa072d23db3fd0f2602ec9b">GAME_EVENT_SWP_GATES_PHASE_1</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1222</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7ebad194a9ec7ca0ffecdcabcb6d7d8ebdb7">SUNWELL_ROHENDOR_GATE2_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780aef10a818749572edf44cfa356ecd4e2c">GAME_EVENT_SWP_GATES_PHASE_2</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1223</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a30222a7d596ba08b5141b96da67ec7eba2c50969cc9ec8d5d0f0e217e85764fc4">SUNWELL_ARCHONISUS_GATE3_OPEN</a>: <a class="code hl_define" href="../../d8/d92/GameEventMgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;StopEvent(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a7f47feca28234245c0857650572c5780ac22176a2f30abaea84dd6dd7d01cd3e8">GAME_EVENT_SWP_GATES_PHASE_3</a>); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1224</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1225</span>    }</div>
<div class="line"><span class="lineno"> 1226</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00105">GAME_EVENT_SWP_GATES_PHASE_0</a>, <a class="el" href="../../#l00106">GAME_EVENT_SWP_GATES_PHASE_1</a>, <a class="el" href="../../#l00107">GAME_EVENT_SWP_GATES_PHASE_2</a>, <a class="el" href="../../#l00108">GAME_EVENT_SWP_GATES_PHASE_3</a>, <a class="el" href="../../#l00269">SunsReachReclamationData::m_gate</a>, <a class="el" href="../../#l00325">m_sunsReachData</a>, <a class="el" href="../../#l00201">sGameEventMgr</a>, <a class="el" href="../../#l00250">SUNWELL_AGAMATH_GATE1_OPEN</a>, <a class="el" href="../../#l00249">SUNWELL_ALL_GATES_CLOSED</a>, <a class="el" href="../../#l00252">SUNWELL_ARCHONISUS_GATE3_OPEN</a>, and <a class="el" href="../../#l00251">SUNWELL_ROHENDOR_GATE2_OPEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00869">HandleSunwellGateTransition()</a>.</p>

</div>
</div>
<a id="a93b53e82f0e852bd8c96151fc95e1152" name="a93b53e82f0e852bd8c96151fc95e1152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93b53e82f0e852bd8c96151fc95e1152">&#9670;&#160;</a></span>SummonMouth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::SummonMouth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/db0/classMap.html">Map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html">ScourgeInvasionData::InvasionZone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/df4/structPosition.html">Position</a>&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>newInvasion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1738</span>{</div>
<div class="line"><span class="lineno"> 1739</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a513a4bd7d27428d4551cbbe0048dbeee">AddPendingInvasion</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a>);</div>
<div class="line"><span class="lineno"> 1740</span>    <span class="comment">// Remove old mouth if required.</span></div>
<div class="line"><span class="lineno"> 1741</span>   <span class="keywordflow">if</span> (<a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* existingMouth = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#af0a630f225718009751c788dbcbf5333">GetCreature</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a2245c14e379c83bdd47165e829de2e41">mouthGuid</a>))</div>
<div class="line"><span class="lineno"> 1742</span>        existingMouth-&gt;AddObjectToRemoveList();</div>
<div class="line"><span class="lineno"> 1743</span> </div>
<div class="line"><span class="lineno"> 1744</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* mouth = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aedda73139371bda3ce643b02d1a7cbb8">SummonCreature</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3aafbec9fe50b47209831be55c8c8097e5">NPC_HERALD_OF_THE_LICH_KING</a>, position))</div>
<div class="line"><span class="lineno"> 1745</span>    {</div>
<div class="line"><span class="lineno"> 1746</span>        mouth-&gt;GetAI()-&gt;DoAction(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3af71cb6c51675592ad400b429e342792c">EVENT_HERALD_OF_THE_LICH_KING_ZONE_START</a>);</div>
<div class="line"><span class="lineno"> 1747</span>        <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetMouthGuid(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a>, mouth-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 1748</span>        <span class="keywordflow">if</span> (newInvasion)</div>
<div class="line"><span class="lineno"> 1749</span>            <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetSIRemaining(<a class="code hl_enumeration" href="../../d7/d9a/WorldState_8h.html#a3fb19d2d868c1633a094f84570f4a6ee">SIRemaining</a>(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a3c18c61fcd44c32f9e0009479db85399">remainingNecropoli</a>), zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aec44e315616920ba8224be8c4831f5e9">necropolisCount</a>);</div>
<div class="line"><span class="lineno"> 1750</span>    }</div>
<div class="line"><span class="lineno"> 1751</span>    <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;RemovePendingInvasion(zone.<a class="code hl_variable" href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#a98e1490705f74627cf9e5483857f3f25">zoneId</a>);</div>
<div class="line"><span class="lineno"> 1752</span> </div>
<div class="line"><span class="lineno"> 1753</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1754</span>}</div>
<div class="ttc" id="aWorldState_8h_html_ad0c8fcbd6054089a8ad5ce31f8856ff3aafbec9fe50b47209831be55c8c8097e5"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3aafbec9fe50b47209831be55c8c8097e5">NPC_HERALD_OF_THE_LICH_KING</a></div><div class="ttdeci">@ NPC_HERALD_OF_THE_LICH_KING</div><div class="ttdef"><b>Definition</b> WorldState.h:117</div></div>
<div class="ttc" id="aWorldState_8h_html_ad0c8fcbd6054089a8ad5ce31f8856ff3af71cb6c51675592ad400b429e342792c"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3af71cb6c51675592ad400b429e342792c">EVENT_HERALD_OF_THE_LICH_KING_ZONE_START</a></div><div class="ttdeci">@ EVENT_HERALD_OF_THE_LICH_KING_ZONE_START</div><div class="ttdef"><b>Definition</b> WorldState.h:113</div></div>
<div class="ttc" id="aclassMap_html_aedda73139371bda3ce643b02d1a7cbb8"><div class="ttname"><a href="../../d7/db0/classMap.html#aedda73139371bda3ce643b02d1a7cbb8">Map::SummonCreature</a></div><div class="ttdeci">TempSummon * SummonCreature(uint32 entry, Position const &amp;pos, SummonPropertiesEntry const *properties=nullptr, uint32 duration=0, WorldObject *summoner=nullptr, uint32 spellId=0, uint32 vehId=0, bool visibleBySummonerOnly=false)</div><div class="ttdef"><b>Definition</b> Object.cpp:2158</div></div>
<div class="ttc" id="aclassWorldState_html_a513a4bd7d27428d4551cbbe0048dbeee"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a513a4bd7d27428d4551cbbe0048dbeee">WorldState::AddPendingInvasion</a></div><div class="ttdeci">void AddPendingInvasion(uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1851</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1InvasionZone_html_aec44e315616920ba8224be8c4831f5e9"><div class="ttname"><a href="../../db/d8a/structScourgeInvasionData_1_1InvasionZone.html#aec44e315616920ba8224be8c4831f5e9">ScourgeInvasionData::InvasionZone::necropolisCount</a></div><div class="ttdeci">uint32 necropolisCount</div><div class="ttdef"><b>Definition</b> WorldState.h:181</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01851">AddPendingInvasion()</a>, <a class="el" href="../../#l00113">EVENT_HERALD_OF_THE_LICH_KING_ZONE_START</a>, <a class="el" href="../../#l02357">Map::GetCreature()</a>, <a class="el" href="../../#l00184">ScourgeInvasionData::InvasionZone::mouthGuid</a>, <a class="el" href="../../#l00181">ScourgeInvasionData::InvasionZone::necropolisCount</a>, <a class="el" href="../../#l00117">NPC_HERALD_OF_THE_LICH_KING</a>, <a class="el" href="../../#l00182">ScourgeInvasionData::InvasionZone::remainingNecropoli</a>, <a class="el" href="../../#l02158">Map::SummonCreature()</a>, <a class="el" href="../../#l00377">sWorldState</a>, and <a class="el" href="../../#l00180">ScourgeInvasionData::InvasionZone::zoneId</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01707">ResumeInvasion()</a>, and <a class="el" href="../../#l01638">StartNewInvasion()</a>.</p>

</div>
</div>
<a id="a532dda18bff01067da90c6ce303f7a04" name="a532dda18bff01067da90c6ce303f7a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532dda18bff01067da90c6ce303f7a04">&#9670;&#160;</a></span>SummonPallid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::SummonPallid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/db0/classMap.html">Map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html">ScourgeInvasionData::CityAttack</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/df4/structPosition.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spawnLoc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1765</span>{</div>
<div class="line"><span class="lineno"> 1766</span>    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a36e088e8123065a055429e22d2e68190">AddPendingPallid</a>(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ad035d67dce95aa1ad7a1f39b1cf7b847">zoneId</a>);</div>
<div class="line"><span class="lineno"> 1767</span>    <span class="comment">// Remove old pallid if required.</span></div>
<div class="line"><span class="lineno"> 1768</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> pathID = 0;</div>
<div class="line"><span class="lineno"> 1769</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* existingPallid = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#af0a630f225718009751c788dbcbf5333">GetCreature</a>(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ae78b3d7448e8f43a993f46208039f0b1">pallidGuid</a>))</div>
<div class="line"><span class="lineno"> 1770</span>        existingPallid-&gt;AddObjectToRemoveList();</div>
<div class="line"><span class="lineno"> 1771</span> </div>
<div class="line"><span class="lineno"> 1772</span>    <span class="comment">// if (Creature* pallid = map-&gt;SummonCreature(RAND(NPC_PALLID_HORROR, NPC_PATCHWORK_TERROR), position))</span></div>
<div class="line"><span class="lineno"> 1773</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../db/dd5/classCreature.html">Creature</a>* pallid = map-&gt;<a class="code hl_function" href="../../d7/db0/classMap.html#aedda73139371bda3ce643b02d1a7cbb8">SummonCreature</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a1256128f8b85c97132416fbd057ac897">NPC_PALLID_HORROR</a>, position))</div>
<div class="line"><span class="lineno"> 1774</span>    {</div>
<div class="line"><span class="lineno"> 1775</span>        pallid-&gt;GetMotionMaster()-&gt;Clear(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1776</span>        <span class="keywordflow">if</span> (pallid-&gt;GetZoneId() == <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3748fb0df84a7002fee04a79b1c26858">AREA_UNDERCITY</a>)</div>
<div class="line"><span class="lineno"> 1777</span>            pathID = spawnLoc == 0 ? <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6caa4c7de27637688faf47903d52c69102b">PATH_UNDERCITY_ROYAL_QUARTER</a> : <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6ca396cc934fa150add08da6a9bfeee6130">PATH_UNDERCITY_TRADE_QUARTER</a>;</div>
<div class="line"><span class="lineno"> 1778</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1779</span>            pathID = spawnLoc == 0 ? <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6caebc3eba5e01a79f8a51f55bb0b795589">PATH_STORMWIND_KEEP</a> : <a class="code hl_enumvalue" href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6ca18d27259451c4d6fa6e8eda96abb669c">PATH_STORMWIND_TRADE_DISTRICT</a>;</div>
<div class="line"><span class="lineno"> 1780</span> </div>
<div class="line"><span class="lineno"> 1781</span>        pallid-&gt;GetMotionMaster()-&gt;MoveWaypoint(pathID, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1782</span> </div>
<div class="line"><span class="lineno"> 1783</span>        <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;SetPallidGuid(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ad035d67dce95aa1ad7a1f39b1cf7b847">zoneId</a>, pallid-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 1784</span>    }</div>
<div class="line"><span class="lineno"> 1785</span>    <a class="code hl_define" href="../../d7/d9a/WorldState_8h.html#a3a4f495a024c9f1774c913dd8ac4929f">sWorldState</a>-&gt;RemovePendingPallid(zone.<a class="code hl_variable" href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ad035d67dce95aa1ad7a1f39b1cf7b847">zoneId</a>);</div>
<div class="line"><span class="lineno"> 1786</span> </div>
<div class="line"><span class="lineno"> 1787</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1788</span>}</div>
<div class="ttc" id="aWorldState_8cpp_html_ad2d2b5f255f79a9389125d179974fa6ca18d27259451c4d6fa6e8eda96abb669c"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6ca18d27259451c4d6fa6e8eda96abb669c">PATH_STORMWIND_TRADE_DISTRICT</a></div><div class="ttdeci">@ PATH_STORMWIND_TRADE_DISTRICT</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1759</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ad2d2b5f255f79a9389125d179974fa6ca396cc934fa150add08da6a9bfeee6130"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6ca396cc934fa150add08da6a9bfeee6130">PATH_UNDERCITY_TRADE_QUARTER</a></div><div class="ttdeci">@ PATH_UNDERCITY_TRADE_QUARTER</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1760</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ad2d2b5f255f79a9389125d179974fa6caa4c7de27637688faf47903d52c69102b"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6caa4c7de27637688faf47903d52c69102b">PATH_UNDERCITY_ROYAL_QUARTER</a></div><div class="ttdeci">@ PATH_UNDERCITY_ROYAL_QUARTER</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1761</div></div>
<div class="ttc" id="aWorldState_8cpp_html_ad2d2b5f255f79a9389125d179974fa6caebc3eba5e01a79f8a51f55bb0b795589"><div class="ttname"><a href="../../db/d68/WorldState_8cpp.html#ad2d2b5f255f79a9389125d179974fa6caebc3eba5e01a79f8a51f55bb0b795589">PATH_STORMWIND_KEEP</a></div><div class="ttdeci">@ PATH_STORMWIND_KEEP</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1758</div></div>
<div class="ttc" id="aWorldState_8h_html_ad0c8fcbd6054089a8ad5ce31f8856ff3a1256128f8b85c97132416fbd057ac897"><div class="ttname"><a href="../../d7/d9a/WorldState_8h.html#ad0c8fcbd6054089a8ad5ce31f8856ff3a1256128f8b85c97132416fbd057ac897">NPC_PALLID_HORROR</a></div><div class="ttdeci">@ NPC_PALLID_HORROR</div><div class="ttdef"><b>Definition</b> WorldState.h:115</div></div>
<div class="ttc" id="aclassWorldState_html_a36e088e8123065a055429e22d2e68190"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a36e088e8123065a055429e22d2e68190">WorldState::AddPendingPallid</a></div><div class="ttdeci">void AddPendingPallid(uint32 zoneId)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1863</div></div>
<div class="ttc" id="astructScourgeInvasionData_1_1CityAttack_html_ad035d67dce95aa1ad7a1f39b1cf7b847"><div class="ttname"><a href="../../db/d70/structScourgeInvasionData_1_1CityAttack.html#ad035d67dce95aa1ad7a1f39b1cf7b847">ScourgeInvasionData::CityAttack::zoneId</a></div><div class="ttdeci">uint32 zoneId</div><div class="ttdef"><b>Definition</b> WorldState.h:190</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01863">AddPendingPallid()</a>, <a class="el" href="../../#l00080">AREA_UNDERCITY</a>, <a class="el" href="../../#l02357">Map::GetCreature()</a>, <a class="el" href="../../#l00115">NPC_PALLID_HORROR</a>, <a class="el" href="../../#l00192">ScourgeInvasionData::CityAttack::pallidGuid</a>, <a class="el" href="../../#l01758">PATH_STORMWIND_KEEP</a>, <a class="el" href="../../#l01759">PATH_STORMWIND_TRADE_DISTRICT</a>, <a class="el" href="../../#l01761">PATH_UNDERCITY_ROYAL_QUARTER</a>, <a class="el" href="../../#l01760">PATH_UNDERCITY_TRADE_QUARTER</a>, <a class="el" href="../../#l02158">Map::SummonCreature()</a>, <a class="el" href="../../#l00377">sWorldState</a>, and <a class="el" href="../../#l00190">ScourgeInvasionData::CityAttack::zoneId</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01680">StartNewCityAttack()</a>.</p>

</div>
</div>
<a id="a392dd15b70d42ff2ce9f74605d495513" name="a392dd15b70d42ff2ce9f74605d495513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392dd15b70d42ff2ce9f74605d495513">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldState::Update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>diff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  306</span>{</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a>)</div>
<div class="line"><span class="lineno">  308</span>    {</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> &lt;= diff)</div>
<div class="line"><span class="lineno">  310</span>        {</div>
<div class="line"><span class="lineno">  311</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> = 0;</div>
<div class="line"><span class="lineno">  312</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#a20f98292f5c55cab7b70fd7c20d8cb5a">DispelAdalsSongOfBattle</a>();</div>
<div class="line"><span class="lineno">  313</span>        }</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  315</span>        {</div>
<div class="line"><span class="lineno">  316</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#aedccbddea39cd0a6ddf835147ca27da1">_adalSongOfBattleTimer</a> -= diff;</div>
<div class="line"><span class="lineno">  317</span>        }</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a> != <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a647b0f36eda55bfcd44ea079847f4b39">STATE_0_DISABLED</a>)</div>
<div class="line"><span class="lineno">  321</span>    {</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a7c251f312e332ab60fa6de6e8cf4189d">m_broadcastTimer</a> &lt;= diff)</div>
<div class="line"><span class="lineno">  323</span>        {</div>
<div class="line"><span class="lineno">  324</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a7c251f312e332ab60fa6de6e8cf4189d">m_broadcastTimer</a> = 10000;</div>
<div class="line"><span class="lineno">  325</span>            <a class="code hl_function" href="../../d3/da9/classWorldState.html#af8048f1e34b7b5ea702bc37d1f911654">BroadcastSIWorldstates</a>();</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#acb26a954f14aec654513b16e5e53cad8">m_state</a> == <a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#aecf9527110a7255a02e5f9add33dd690a27acc7e6cdaaad5f13ed4df7be56defc">STATE_1_ENABLED</a>)</div>
<div class="line"><span class="lineno">  328</span>            {</div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; zone : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_cityAttacks)</div>
<div class="line"><span class="lineno">  330</span>                {</div>
<div class="line"><span class="lineno">  331</span>                    <span class="keywordflow">if</span> (zone.second.zoneId == <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3a3748fb0df84a7002fee04a79b1c26858">AREA_UNDERCITY</a>)</div>
<div class="line"><span class="lineno">  332</span>                        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6ad09269608f3670926c7d195743ce0e">StartNewCityAttackIfTime</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea1ed9e8fd06f5592cbf0d6e1b11020188">SI_TIMER_UNDERCITY</a>, zone.second.zoneId);</div>
<div class="line"><span class="lineno">  333</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (zone.second.zoneId == <a class="code hl_enumvalue" href="../../dc/d4b/AreaDefines_8h.html#ad26fccabf338d55f9fdcce090c8a0aa3ab7b30784be644e9844de24a8aeb78eba">AREA_STORMWIND_CITY</a>)</div>
<div class="line"><span class="lineno">  334</span>                        <a class="code hl_function" href="../../d3/da9/classWorldState.html#a6ad09269608f3670926c7d195743ce0e">StartNewCityAttackIfTime</a>(<a class="code hl_enumvalue" href="../../d7/d9a/WorldState_8h.html#a785ea701ad6ed657955501468a40e99ea62abd4548974545032422538cb50e7ac">SI_TIMER_STORMWIND</a>, zone.second.zoneId);</div>
<div class="line"><span class="lineno">  335</span>                }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>                <a class="code hl_typedef" href="../../d2/d75/Duration_8h.html#ae5ca775e8d8c664b6edef818ce1251b9">TimePoint</a> now = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  338</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; zone : <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.m_activeInvasions)</div>
<div class="line"><span class="lineno">  339</span>                    <a class="code hl_function" href="../../d3/da9/classWorldState.html#a9f240edaae8866dc573d5b3816196193">HandleActiveZone</a>(<a class="code hl_function" href="../../d3/da9/classWorldState.html#a963da869c85fde49ec5baee67e1ad93a">GetTimerIdForZone</a>(zone.second.zoneId), zone.second.zoneId, zone.second.remainingNecropoli, now);</div>
<div class="line"><span class="lineno">  340</span>            }</div>
<div class="line"><span class="lineno">  341</span>        }</div>
<div class="line"><span class="lineno">  342</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  343</span>            <a class="code hl_variable" href="../../d3/da9/classWorldState.html#a10d376afaf495232bbe2fb9939f12765">m_siData</a>.<a class="code hl_variable" href="../../dd/d8a/structScourgeInvasionData.html#a7c251f312e332ab60fa6de6e8cf4189d">m_broadcastTimer</a> -= diff;</div>
<div class="line"><span class="lineno">  344</span>    }</div>
<div class="line"><span class="lineno">  345</span>}</div>
<div class="ttc" id="aclassWorldState_html_a20f98292f5c55cab7b70fd7c20d8cb5a"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a20f98292f5c55cab7b70fd7c20d8cb5a">WorldState::DispelAdalsSongOfBattle</a></div><div class="ttdeci">void DispelAdalsSongOfBattle()</div><div class="ttdef"><b>Definition</b> WorldState.cpp:516</div></div>
<div class="ttc" id="aclassWorldState_html_a9f240edaae8866dc573d5b3816196193"><div class="ttname"><a href="../../d3/da9/classWorldState.html#a9f240edaae8866dc573d5b3816196193">WorldState::HandleActiveZone</a></div><div class="ttdeci">void HandleActiveZone(uint32 attackTimeVar, uint32 zoneId, uint32 remainingVar, TimePoint now)</div><div class="ttdef"><b>Definition</b> WorldState.cpp:1790</div></div>
<div class="ttc" id="astructScourgeInvasionData_html_a7c251f312e332ab60fa6de6e8cf4189d"><div class="ttname"><a href="../../dd/d8a/structScourgeInvasionData.html#a7c251f312e332ab60fa6de6e8cf4189d">ScourgeInvasionData::m_broadcastTimer</a></div><div class="ttdeci">uint64 m_broadcastTimer</div><div class="ttdef"><b>Definition</b> WorldState.h:201</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00320">_adalSongOfBattleTimer</a>, <a class="el" href="../../#l00081">AREA_STORMWIND_CITY</a>, <a class="el" href="../../#l00080">AREA_UNDERCITY</a>, <a class="el" href="../../#l01524">BroadcastSIWorldstates()</a>, <a class="el" href="../../#l00516">DispelAdalsSongOfBattle()</a>, <a class="el" href="../../#l01933">GetTimerIdForZone()</a>, <a class="el" href="../../#l01790">HandleActiveZone()</a>, <a class="el" href="../../#l00206">ScourgeInvasionData::m_activeInvasions</a>, <a class="el" href="../../#l00201">ScourgeInvasionData::m_broadcastTimer</a>, <a class="el" href="../../#l00207">ScourgeInvasionData::m_cityAttacks</a>, <a class="el" href="../../#l00374">m_siData</a>, <a class="el" href="../../#l00195">ScourgeInvasionData::m_state</a>, <a class="el" href="../../#l00150">SI_TIMER_STORMWIND</a>, <a class="el" href="../../#l00151">SI_TIMER_UNDERCITY</a>, <a class="el" href="../../#l01624">StartNewCityAttackIfTime()</a>, <a class="el" href="../../#l00125">STATE_0_DISABLED</a>, and <a class="el" href="../../#l00126">STATE_1_ENABLED</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aedccbddea39cd0a6ddf835147ca27da1" name="aedccbddea39cd0a6ddf835147ca27da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedccbddea39cd0a6ddf835147ca27da1">&#9670;&#160;</a></span>_adalSongOfBattleTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldState::_adalSongOfBattleTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00264">HandleExternalEvent()</a>, <a class="el" href="../../#l00347">HandlePlayerEnterZone()</a>, <a class="el" href="../../#l00384">HandlePlayerLeaveZone()</a>, and <a class="el" href="../../#l00305">Update()</a>.</p>

</div>
</div>
<a id="a6408344019152591c457b63601aac4dd" name="a6408344019152591c457b63601aac4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6408344019152591c457b63601aac4dd">&#9670;&#160;</a></span>_isMagtheridonHeadSpawnedAlliance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::_isMagtheridonHeadSpawnedAlliance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00264">HandleExternalEvent()</a>, <a class="el" href="../../#l00347">HandlePlayerEnterZone()</a>, and <a class="el" href="../../#l00217">IsConditionFulfilled()</a>.</p>

</div>
</div>
<a id="a66fb9980d02e5d6d11b0a1113aba2d39" name="a66fb9980d02e5d6d11b0a1113aba2d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66fb9980d02e5d6d11b0a1113aba2d39">&#9670;&#160;</a></span>_isMagtheridonHeadSpawnedHorde</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldState::_isMagtheridonHeadSpawnedHorde</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00264">HandleExternalEvent()</a>, <a class="el" href="../../#l00347">HandlePlayerEnterZone()</a>, and <a class="el" href="../../#l00217">IsConditionFulfilled()</a>.</p>

</div>
</div>
<a id="a8b6fa603f03ebf22874990b5beb37f55" name="a8b6fa603f03ebf22874990b5beb37f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6fa603f03ebf22874990b5beb37f55">&#9670;&#160;</a></span>_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex WorldState::_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00264">HandleExternalEvent()</a>, <a class="el" href="../../#l00347">HandlePlayerEnterZone()</a>, and <a class="el" href="../../#l00384">HandlePlayerLeaveZone()</a>.</p>

</div>
</div>
<a id="a623770af3df5cf1f60ad79f4d58dc463" name="a623770af3df5cf1f60ad79f4d58dc463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a623770af3df5cf1f60ad79f4d58dc463">&#9670;&#160;</a></span>_transportStates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, std::atomic&lt;<a class="el" href="../../d7/d9a/WorldState_8h.html#a4ecea2a2bb4e9623ef98bf8c32d546a4">WorldStateConditionState</a>&gt; &gt; WorldState::_transportStates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00247">HandleConditionStateChange()</a>, <a class="el" href="../../#l00217">IsConditionFulfilled()</a>, and <a class="el" href="../../#l00038">WorldState()</a>.</p>

</div>
</div>
<a id="a9692b273469befd8d81da34a2318d7e0" name="a9692b273469befd8d81da34a2318d7e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9692b273469befd8d81da34a2318d7e0">&#9670;&#160;</a></span>_worldstates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/da9/classWorldState.html#a66228290309a4c9dc76994e6f0ab1e2c">WorldStatesMap</a> WorldState::_worldstates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00182">getWorldState()</a>, <a class="el" href="../../#l00137">LoadWorldStates()</a>, and <a class="el" href="../../#l00161">setWorldState()</a>.</p>

</div>
</div>
<a id="a10d376afaf495232bbe2fb9939f12765" name="a10d376afaf495232bbe2fb9939f12765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d376afaf495232bbe2fb9939f12765">&#9670;&#160;</a></span>m_siData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d8a/structScourgeInvasionData.html">ScourgeInvasionData</a> WorldState::m_siData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01504">AddBattlesWon()</a>, <a class="el" href="../../#l01851">AddPendingInvasion()</a>, <a class="el" href="../../#l01863">AddPendingPallid()</a>, <a class="el" href="../../#l01951">FillInitialWorldStates()</a>, <a class="el" href="../../#l01914">GetActiveZones()</a>, <a class="el" href="../../#l01498">GetBattlesWon()</a>, <a class="el" href="../../#l01512">GetLastAttackZone()</a>, <a class="el" href="../../#l01039">GetScourgeInvasionPrintout()</a>, <a class="el" href="../../#l01458">GetSIRemaining()</a>, <a class="el" href="../../#l01488">GetSITimer()</a>, <a class="el" href="../../#l01790">HandleActiveZone()</a>, <a class="el" href="../../#l01568">HandleDefendedZones()</a>, <a class="el" href="../../#l00049">Load()</a>, <a class="el" href="../../#l01857">RemovePendingInvasion()</a>, <a class="el" href="../../#l01869">RemovePendingPallid()</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l01518">SetLastAttackZone()</a>, <a class="el" href="../../#l01846">SetMouthGuid()</a>, <a class="el" href="../../#l01841">SetPallidGuid()</a>, <a class="el" href="../../#l01248">SetScourgeInvasionState()</a>, <a class="el" href="../../#l01481">SetSIRemaining()</a>, <a class="el" href="../../#l01493">SetSITimer()</a>, <a class="el" href="../../#l01680">StartNewCityAttack()</a>, <a class="el" href="../../#l01638">StartNewInvasion()</a>, <a class="el" href="../../#l01290">StartScourgeInvasion()</a>, <a class="el" href="../../#l01437">StopScourgeInvasion()</a>, and <a class="el" href="../../#l00305">Update()</a>.</p>

</div>
</div>
<a id="a9d3901ed4c6fd2440118bdebdcb632f4" name="a9d3901ed4c6fd2440118bdebdcb632f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3901ed4c6fd2440118bdebdcb632f4">&#9670;&#160;</a></span>m_sunsReachData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/db1/structSunsReachReclamationData.html">SunsReachReclamationData</a> WorldState::m_sunsReachData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00567">AddSunsReachProgress()</a>, <a class="el" href="../../#l01143">AddSunwellGateProgress()</a>, <a class="el" href="../../#l01951">FillInitialWorldStates()</a>, <a class="el" href="../../#l00953">GetSunsReachPrintout()</a>, <a class="el" href="../../#l00347">HandlePlayerEnterZone()</a>, <a class="el" href="../../#l00384">HandlePlayerLeaveZone()</a>, <a class="el" href="../../#l00716">HandleSunsReachPhaseTransition()</a>, <a class="el" href="../../#l00748">HandleSunsReachSubPhaseTransition()</a>, <a class="el" href="../../#l00869">HandleSunwellGateTransition()</a>, <a class="el" href="../../#l00049">Load()</a>, <a class="el" href="../../#l00188">Save()</a>, <a class="el" href="../../#l00899">SetSunsReachCounter()</a>, <a class="el" href="../../#l01199">SetSunwellGateCounter()</a>, <a class="el" href="../../#l00916">StartSunsReachPhase()</a>, <a class="el" href="../../#l01204">StartSunwellGatePhase()</a>, <a class="el" href="../../#l00904">StopSunsReachPhase()</a>, and <a class="el" href="../../#l01216">StopSunwellGatePhase()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>azerothcore-wotlk/src/server/game/World/<a class="el" href="../../">WorldState.h</a></li>
<li>azerothcore-wotlk/src/server/game/World/<a class="el" href="../../">WorldState.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/da9/classWorldState.html">WorldState</a></li>
    <li class="footer">Generated on Mon Jan 19 2026 06:34:29 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
