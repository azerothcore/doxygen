<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>AzerothCore Doxygen</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d5/d26/SpellProcIntegrationTest_8cpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">SpellProcIntegrationTest.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../">AuraScriptTestFramework.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">SpellMgr.h</a>&quot;</code><br />
<code>#include &quot;gtest/gtest.h&quot;</code><br />
<code>#include &quot;gmock/gmock.h&quot;</code><br />
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integration tests for the proc system.  <a href="../../d0/db0/classSpellProcIntegrationTest.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adc9e24b4a2aa5138c4e71c8ef90c8d47" id="r_adc9e24b4a2aa5138c4e71c8ef90c8d47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#adc9e24b4a2aa5138c4e71c8ef90c8d47">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, MeleeAutoAttackProc_NormalHit)</td></tr>
<tr class="separator:adc9e24b4a2aa5138c4e71c8ef90c8d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57db0bc781c5b34c615d48beeb4fa174" id="r_a57db0bc781c5b34c615d48beeb4fa174"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a57db0bc781c5b34c615d48beeb4fa174">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, MeleeAutoAttackProc_CritOnly)</td></tr>
<tr class="separator:a57db0bc781c5b34c615d48beeb4fa174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8de2ca2bd2360aa03faf4c4f19b5180" id="r_ab8de2ca2bd2360aa03faf4c4f19b5180"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#ab8de2ca2bd2360aa03faf4c4f19b5180">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, MeleeAutoAttackProc_Miss)</td></tr>
<tr class="separator:ab8de2ca2bd2360aa03faf4c4f19b5180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef32eb9f961ac19a27290ed33e71a571" id="r_aef32eb9f961ac19a27290ed33e71a571"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#aef32eb9f961ac19a27290ed33e71a571">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SpellDamageProc_OnHit)</td></tr>
<tr class="separator:aef32eb9f961ac19a27290ed33e71a571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87286abd2d627cd9a10cb7d8304f2c96" id="r_a87286abd2d627cd9a10cb7d8304f2c96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a87286abd2d627cd9a10cb7d8304f2c96">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SpellDamageProc_OnCast)</td></tr>
<tr class="separator:a87286abd2d627cd9a10cb7d8304f2c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6c0c00ff0c2e27e03100ab2562a155" id="r_a9d6c0c00ff0c2e27e03100ab2562a155"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a9d6c0c00ff0c2e27e03100ab2562a155">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, HealProc_OnHeal)</td></tr>
<tr class="separator:a9d6c0c00ff0c2e27e03100ab2562a155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7dc82e964c4a43a5b8de72542405cbf" id="r_ab7dc82e964c4a43a5b8de72542405cbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#ab7dc82e964c4a43a5b8de72542405cbf">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, HealProc_CritHeal)</td></tr>
<tr class="separator:ab7dc82e964c4a43a5b8de72542405cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0f8c29b3a0c4ed2c46f8113d98ad44" id="r_a2d0f8c29b3a0c4ed2c46f8113d98ad44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a2d0f8c29b3a0c4ed2c46f8113d98ad44">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, PeriodicDamageProc)</td></tr>
<tr class="separator:a2d0f8c29b3a0c4ed2c46f8113d98ad44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06253dffeb237a28a08da59ed376fb52" id="r_a06253dffeb237a28a08da59ed376fb52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a06253dffeb237a28a08da59ed376fb52">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, PeriodicHealProc)</td></tr>
<tr class="separator:a06253dffeb237a28a08da59ed376fb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf16693434e2bdb467eec45e4cb9aca9" id="r_adf16693434e2bdb467eec45e4cb9aca9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#adf16693434e2bdb467eec45e4cb9aca9">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, KillProc)</td></tr>
<tr class="separator:adf16693434e2bdb467eec45e4cb9aca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d4af367992ffa9da8915b0bc5ca28d" id="r_a76d4af367992ffa9da8915b0bc5ca28d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a76d4af367992ffa9da8915b0bc5ca28d">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, DeathProc)</td></tr>
<tr class="separator:a76d4af367992ffa9da8915b0bc5ca28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582c53e48c4ab4a2d1d0a695c62c95d6" id="r_a582c53e48c4ab4a2d1d0a695c62c95d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a582c53e48c4ab4a2d1d0a695c62c95d6">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, DodgeProc)</td></tr>
<tr class="separator:a582c53e48c4ab4a2d1d0a695c62c95d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ef055ed8d12af9f6f2066a1f8e6f1e" id="r_ae3ef055ed8d12af9f6f2066a1f8e6f1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#ae3ef055ed8d12af9f6f2066a1f8e6f1e">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, ParryProc)</td></tr>
<tr class="separator:ae3ef055ed8d12af9f6f2066a1f8e6f1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa064813f9fa646811ab3aeb1b0c6e23e" id="r_aa064813f9fa646811ab3aeb1b0c6e23e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#aa064813f9fa646811ab3aeb1b0c6e23e">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, BlockProc)</td></tr>
<tr class="separator:aa064813f9fa646811ab3aeb1b0c6e23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f98e5578fccdc5fab8169c87314fd18" id="r_a0f98e5578fccdc5fab8169c87314fd18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a0f98e5578fccdc5fab8169c87314fd18">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, FullBlockProc)</td></tr>
<tr class="separator:a0f98e5578fccdc5fab8169c87314fd18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2677d2b78a470299af367e337efabf5c" id="r_a2677d2b78a470299af367e337efabf5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a2677d2b78a470299af367e337efabf5c">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, AbsorbProc)</td></tr>
<tr class="separator:a2677d2b78a470299af367e337efabf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4247fb6fa4c2d6498bc86e51d876dfd6" id="r_a4247fb6fa4c2d6498bc86e51d876dfd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a4247fb6fa4c2d6498bc86e51d876dfd6">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SpellFamilyMatch_SameFamily)</td></tr>
<tr class="separator:a4247fb6fa4c2d6498bc86e51d876dfd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745f635dd3273726daee29ade5f9cdf5" id="r_a745f635dd3273726daee29ade5f9cdf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a745f635dd3273726daee29ade5f9cdf5">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SpellFamilyMatch_DifferentFamily)</td></tr>
<tr class="separator:a745f635dd3273726daee29ade5f9cdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9abc50c956c7d601bacf131fc3a2afe" id="r_ae9abc50c956c7d601bacf131fc3a2afe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#ae9abc50c956c7d601bacf131fc3a2afe">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SpellFamilyMatch_NoFamilyFilter)</td></tr>
<tr class="separator:ae9abc50c956c7d601bacf131fc3a2afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8921c11f1578b950f6922adf20ae669b" id="r_a8921c11f1578b950f6922adf20ae669b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a8921c11f1578b950f6922adf20ae669b">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SpellFamilyMatch_FlagMismatch)</td></tr>
<tr class="separator:a8921c11f1578b950f6922adf20ae669b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cac1e4cac41bbafe00d048a8d8317d" id="r_a10cac1e4cac41bbafe00d048a8d8317d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a10cac1e4cac41bbafe00d048a8d8317d">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, MultipleProcFlags_MeleeOrSpell)</td></tr>
<tr class="separator:a10cac1e4cac41bbafe00d048a8d8317d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938786843f128c05425e1815ea9b62e2" id="r_a938786843f128c05425e1815ea9b62e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a938786843f128c05425e1815ea9b62e2">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, MultipleHitMasks_CritOrNormal)</td></tr>
<tr class="separator:a938786843f128c05425e1815ea9b62e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78bcf974c34f1de94051c541ecbd3490" id="r_a78bcf974c34f1de94051c541ecbd3490"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a78bcf974c34f1de94051c541ecbd3490">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SchoolMaskFilter_FireOnly_FireDamage)</td></tr>
<tr class="separator:a78bcf974c34f1de94051c541ecbd3490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33dda9a05f9035d8ecb4dd3958b3ca41" id="r_a33dda9a05f9035d8ecb4dd3958b3ca41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a33dda9a05f9035d8ecb4dd3958b3ca41">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SchoolMaskFilter_FireOnly_FrostDamage)</td></tr>
<tr class="separator:a33dda9a05f9035d8ecb4dd3958b3ca41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9981745ce0440564d4cee7e7a2573384" id="r_a9981745ce0440564d4cee7e7a2573384"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a9981745ce0440564d4cee7e7a2573384">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, SchoolMaskFilter_NoSchoolMask_AnySchoolTriggers)</td></tr>
<tr class="separator:a9981745ce0440564d4cee7e7a2573384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6631313b640abc343b559260479040bc" id="r_a6631313b640abc343b559260479040bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#a6631313b640abc343b559260479040bc">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, EmptyProcFlags_NeverTriggers)</td></tr>
<tr class="separator:a6631313b640abc343b559260479040bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac881562f8dafe0fc95cd8d8d7909ce79" id="r_ac881562f8dafe0fc95cd8d8d7909ce79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html#ac881562f8dafe0fc95cd8d8d7909ce79">TEST_F</a> (<a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>, AllHitMasks_TriggersOnAny)</td></tr>
<tr class="separator:ac881562f8dafe0fc95cd8d8d7909ce79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2677d2b78a470299af367e337efabf5c" name="a2677d2b78a470299af367e337efabf5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2677d2b78a470299af367e337efabf5c">&#9670;&#160;</a></span>TEST_F() <span class="overload">[1/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AbsorbProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  308</span>{</div>
<div class="line"><span class="lineno">  309</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  310</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  311</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b">PROC_HIT_ABSORB</a>)</div>
<div class="line"><span class="lineno">  312</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  315</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#aba6ee89bbb8d516bb8664c136651ccf8">OnTakenSpellDamage</a>()</div>
<div class="line"><span class="lineno">  316</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#af37d28796ab98c6bf91a559719aa0e13">WithAbsorb</a>();</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  319</span>}</div>
<div class="ttc" id="aAuraScriptTestFramework_8h_html_ad89bc4ac2d1077d7e73a7e08336ff303"><div class="ttname"><a href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a></div><div class="ttdeci">#define EXPECT_PROC_TRIGGERS(procEntry, scenario)</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:472</div></div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b">PROC_HIT_ABSORB</a></div><div class="ttdeci">@ PROC_HIT_ABSORB</div><div class="ttdef"><b>Definition</b> SpellMgr.h:264</div></div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition</b> SpellMgr.h:132</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a></div><div class="ttdoc">Helper class for testing specific proc scenarios.</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:252</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_aba6ee89bbb8d516bb8664c136651ccf8"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#aba6ee89bbb8d516bb8664c136651ccf8">ProcScenarioBuilder::OnTakenSpellDamage</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnTakenSpellDamage()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:291</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_af37d28796ab98c6bf91a559719aa0e13"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#af37d28796ab98c6bf91a559719aa0e13">ProcScenarioBuilder::WithAbsorb</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithAbsorb()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:393</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a></div><div class="ttdoc">Builder class for creating SpellProcEntry test instances.</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:141</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_a1cdd7bec2aa80d5036d614ad0296a695"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">SpellProcEntryBuilder::WithHitMask</a></div><div class="ttdeci">SpellProcEntryBuilder &amp; WithHitMask(uint32 hitMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:184</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_a2a69603215e9fa526304f420bd5a490c"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">SpellProcEntryBuilder::Build</a></div><div class="ttdeci">SpellProcEntry Build() const</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:226</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_acebcb2a676a7e8e6821854137e056fff"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">SpellProcEntryBuilder::WithProcFlags</a></div><div class="ttdeci">SpellProcEntryBuilder &amp; WithProcFlags(uint32 procFlags)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:166</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00291">ProcScenarioBuilder::OnTakenSpellDamage()</a>, <a class="el" href="../../#l00132">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00264">PROC_HIT_ABSORB</a>, <a class="el" href="../../#l00393">ProcScenarioBuilder::WithAbsorb()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="ac881562f8dafe0fc95cd8d8d7909ce79" name="ac881562f8dafe0fc95cd8d8d7909ce79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac881562f8dafe0fc95cd8d8d7909ce79">&#9670;&#160;</a></span>TEST_F() <span class="overload">[2/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AllHitMasks_TriggersOnAny&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  543</span>{</div>
<div class="line"><span class="lineno">  544</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  545</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  546</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d">PROC_HIT_MASK_ALL</a>)</div>
<div class="line"><span class="lineno">  547</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>    <span class="comment">// Should trigger on any hit type</span></div>
<div class="line"><span class="lineno">  550</span>    std::vector&lt;uint32_t&gt; hitTypes = {</div>
<div class="line"><span class="lineno">  551</span>        <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a>, <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a>, <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a4021bb3e6b043ac1c53be283642e6209">PROC_HIT_MISS</a>,</div>
<div class="line"><span class="lineno">  552</span>        <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a9bbc3d18ec5466192ea80ccd63d83166">PROC_HIT_DODGE</a>, <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9aca7410f24e5b69ddb9d64170c7bd4f49">PROC_HIT_PARRY</a>, <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a1391cd236336f48dde42703613a04ce8">PROC_HIT_BLOCK</a></div>
<div class="line"><span class="lineno">  553</span>    };</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    <span class="keywordflow">for</span> (uint32_t hitType : hitTypes)</div>
<div class="line"><span class="lineno">  556</span>    {</div>
<div class="line"><span class="lineno">  557</span>        <span class="keyword">auto</span> eventInfo = <a class="code hl_class" href="../../d2/d52/classProcEventInfoBuilder.html">ProcEventInfoBuilder</a>()</div>
<div class="line"><span class="lineno">  558</span>            .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a83de461b19bd737c5aa2e7fd3ad2a302">WithTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  559</span>            .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ac8d9c890333158313fb6bd9bdcd14fcf">WithHitMask</a>(hitType)</div>
<div class="line"><span class="lineno">  560</span>            .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ae0f8d3a43a218b4459db0aa3fee95bf0">Build</a>();</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>        EXPECT_TRUE(<a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;CanSpellTriggerProcOnEvent(procEntry, eventInfo))</div>
<div class="line"><span class="lineno">  563</span>            &lt;&lt; <span class="stringliteral">&quot;Failed for hit type: &quot;</span> &lt;&lt; hitType;</div>
<div class="line"><span class="lineno">  564</span>    }</div>
<div class="line"><span class="lineno">  565</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9a1391cd236336f48dde42703613a04ce8"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a1391cd236336f48dde42703613a04ce8">PROC_HIT_BLOCK</a></div><div class="ttdeci">@ PROC_HIT_BLOCK</div><div class="ttdef"><b>Definition</b> SpellMgr.h:260</div></div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9a4021bb3e6b043ac1c53be283642e6209"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a4021bb3e6b043ac1c53be283642e6209">PROC_HIT_MISS</a></div><div class="ttdeci">@ PROC_HIT_MISS</div><div class="ttdef"><b>Definition</b> SpellMgr.h:256</div></div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9a9bbc3d18ec5466192ea80ccd63d83166"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a9bbc3d18ec5466192ea80ccd63d83166">PROC_HIT_DODGE</a></div><div class="ttdeci">@ PROC_HIT_DODGE</div><div class="ttdef"><b>Definition</b> SpellMgr.h:258</div></div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9aca7410f24e5b69ddb9d64170c7bd4f49"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9aca7410f24e5b69ddb9d64170c7bd4f49">PROC_HIT_PARRY</a></div><div class="ttdeci">@ PROC_HIT_PARRY</div><div class="ttdef"><b>Definition</b> SpellMgr.h:259</div></div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d">PROC_HIT_MASK_ALL</a></div><div class="ttdeci">@ PROC_HIT_MASK_ALL</div><div class="ttdef"><b>Definition</b> SpellMgr.h:268</div></div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a></div><div class="ttdeci">@ PROC_HIT_CRITICAL</div><div class="ttdef"><b>Definition</b> SpellMgr.h:255</div></div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a></div><div class="ttdeci">@ PROC_HIT_NORMAL</div><div class="ttdef"><b>Definition</b> SpellMgr.h:254</div></div>
<div class="ttc" id="aSpellMgr_8h_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition</b> SpellMgr.h:814</div></div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a></div><div class="ttdeci">@ PROC_FLAG_DONE_MELEE_AUTO_ATTACK</div><div class="ttdef"><b>Definition</b> SpellMgr.h:110</div></div>
<div class="ttc" id="aclassProcEventInfoBuilder_html"><div class="ttname"><a href="../../d2/d52/classProcEventInfoBuilder.html">ProcEventInfoBuilder</a></div><div class="ttdoc">Builder class for creating ProcEventInfo test instances.</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:31</div></div>
<div class="ttc" id="aclassProcEventInfoBuilder_html_a83de461b19bd737c5aa2e7fd3ad2a302"><div class="ttname"><a href="../../d2/d52/classProcEventInfoBuilder.html#a83de461b19bd737c5aa2e7fd3ad2a302">ProcEventInfoBuilder::WithTypeMask</a></div><div class="ttdeci">ProcEventInfoBuilder &amp; WithTypeMask(uint32 typeMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:57</div></div>
<div class="ttc" id="aclassProcEventInfoBuilder_html_ac8d9c890333158313fb6bd9bdcd14fcf"><div class="ttname"><a href="../../d2/d52/classProcEventInfoBuilder.html#ac8d9c890333158313fb6bd9bdcd14fcf">ProcEventInfoBuilder::WithHitMask</a></div><div class="ttdeci">ProcEventInfoBuilder &amp; WithHitMask(uint32 hitMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:75</div></div>
<div class="ttc" id="aclassProcEventInfoBuilder_html_ae0f8d3a43a218b4459db0aa3fee95bf0"><div class="ttname"><a href="../../d2/d52/classProcEventInfoBuilder.html#ae0f8d3a43a218b4459db0aa3fee95bf0">ProcEventInfoBuilder::Build</a></div><div class="ttdeci">ProcEventInfo Build()</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:111</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">ProcEventInfoBuilder::Build()</a>, <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00110">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00260">PROC_HIT_BLOCK</a>, <a class="el" href="../../#l00255">PROC_HIT_CRITICAL</a>, <a class="el" href="../../#l00258">PROC_HIT_DODGE</a>, <a class="el" href="../../#l00268">PROC_HIT_MASK_ALL</a>, <a class="el" href="../../#l00256">PROC_HIT_MISS</a>, <a class="el" href="../../#l00254">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00259">PROC_HIT_PARRY</a>, <a class="el" href="../../#l00814">sSpellMgr</a>, <a class="el" href="../../#l00075">ProcEventInfoBuilder::WithHitMask()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, and <a class="el" href="../../#l00057">ProcEventInfoBuilder::WithTypeMask()</a>.</p>

</div>
</div>
<a id="aa064813f9fa646811ab3aeb1b0c6e23e" name="aa064813f9fa646811ab3aeb1b0c6e23e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa064813f9fa646811ab3aeb1b0c6e23e">&#9670;&#160;</a></span>TEST_F() <span class="overload">[3/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BlockProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  276</span>{</div>
<div class="line"><span class="lineno">  277</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  278</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ac2692301ed7f56d167b080fd19942c12">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  279</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a1391cd236336f48dde42703613a04ce8">PROC_HIT_BLOCK</a>)</div>
<div class="line"><span class="lineno">  280</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  283</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac984b2ef7b4f02f7707368d20bc3be09">OnTakenMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  284</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#adf8de195e514c20b67e77a0401d01a2a">WithBlock</a>();</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  287</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6ac2692301ed7f56d167b080fd19942c12"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ac2692301ed7f56d167b080fd19942c12">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</div><div class="ttdef"><b>Definition</b> SpellMgr.h:111</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_ac984b2ef7b4f02f7707368d20bc3be09"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#ac984b2ef7b4f02f7707368d20bc3be09">ProcScenarioBuilder::OnTakenMeleeAutoAttack</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnTakenMeleeAutoAttack()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:275</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_adf8de195e514c20b67e77a0401d01a2a"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#adf8de195e514c20b67e77a0401d01a2a">ProcScenarioBuilder::WithBlock</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithBlock()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:381</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00275">ProcScenarioBuilder::OnTakenMeleeAutoAttack()</a>, <a class="el" href="../../#l00111">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00260">PROC_HIT_BLOCK</a>, <a class="el" href="../../#l00381">ProcScenarioBuilder::WithBlock()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a76d4af367992ffa9da8915b0bc5ca28d" name="a76d4af367992ffa9da8915b0bc5ca28d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d4af367992ffa9da8915b0bc5ca28d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[4/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DeathProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  232</span>{</div>
<div class="line"><span class="lineno">  233</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  234</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a>)</div>
<div class="line"><span class="lineno">  235</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  238</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#af4384e41337a13ef371e037b55cc2073">OnDeath</a>();</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  241</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a></div><div class="ttdeci">@ PROC_FLAG_DEATH</div><div class="ttdef"><b>Definition</b> SpellMgr.h:143</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_af4384e41337a13ef371e037b55cc2073"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#af4384e41337a13ef371e037b55cc2073">ProcScenarioBuilder::OnDeath</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnDeath()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:343</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00343">ProcScenarioBuilder::OnDeath()</a>, <a class="el" href="../../#l00143">PROC_FLAG_DEATH</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a582c53e48c4ab4a2d1d0a695c62c95d6" name="a582c53e48c4ab4a2d1d0a695c62c95d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582c53e48c4ab4a2d1d0a695c62c95d6">&#9670;&#160;</a></span>TEST_F() <span class="overload">[5/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DodgeProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  248</span>{</div>
<div class="line"><span class="lineno">  249</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  250</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ac2692301ed7f56d167b080fd19942c12">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  251</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a9bbc3d18ec5466192ea80ccd63d83166">PROC_HIT_DODGE</a>)</div>
<div class="line"><span class="lineno">  252</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  255</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac984b2ef7b4f02f7707368d20bc3be09">OnTakenMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  256</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a2fc943ec42c64fc517554c791c5378d1">WithDodge</a>();</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  259</span>}</div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a2fc943ec42c64fc517554c791c5378d1"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a2fc943ec42c64fc517554c791c5378d1">ProcScenarioBuilder::WithDodge</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithDodge()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:369</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00275">ProcScenarioBuilder::OnTakenMeleeAutoAttack()</a>, <a class="el" href="../../#l00111">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00258">PROC_HIT_DODGE</a>, <a class="el" href="../../#l00369">ProcScenarioBuilder::WithDodge()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a6631313b640abc343b559260479040bc" name="a6631313b640abc343b559260479040bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6631313b640abc343b559260479040bc">&#9670;&#160;</a></span>TEST_F() <span class="overload">[6/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EmptyProcFlags_NeverTriggers&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  522</span>{</div>
<div class="line"><span class="lineno">  523</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  524</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6af765023e3e3f58d814e32d66d0f8fe45">PROC_FLAG_NONE</a>) <span class="comment">// No flags set</span></div>
<div class="line"><span class="lineno">  525</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  528</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  529</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>    <span class="comment">// Without PROC_FLAG_NONE special handling, this might still match</span></div>
<div class="line"><span class="lineno">  532</span>    <span class="comment">// The actual behavior depends on implementation</span></div>
<div class="line"><span class="lineno">  533</span>    <span class="keyword">auto</span> eventInfo = scenario.<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ae1707e7d9c5c669929b0a46fd188acf8">Build</a>();</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    <span class="comment">// Event has flags but proc entry has none - should not trigger</span></div>
<div class="line"><span class="lineno">  536</span>    <span class="keywordflow">if</span> (procEntry.ProcFlags == 0 &amp;&amp; scenario.GetTypeMask() != 0)</div>
<div class="line"><span class="lineno">  537</span>    {</div>
<div class="line"><span class="lineno">  538</span>        EXPECT_FALSE(<a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;CanSpellTriggerProcOnEvent(procEntry, eventInfo));</div>
<div class="line"><span class="lineno">  539</span>    }</div>
<div class="line"><span class="lineno">  540</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6af765023e3e3f58d814e32d66d0f8fe45"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6af765023e3e3f58d814e32d66d0f8fe45">PROC_FLAG_NONE</a></div><div class="ttdeci">@ PROC_FLAG_NONE</div><div class="ttdef"><b>Definition</b> SpellMgr.h:105</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a1d8c0022b7ccd13bbe2c8e66cbae88f8"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">ProcScenarioBuilder::OnMeleeAutoAttack</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnMeleeAutoAttack()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:268</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_ac3aafe6190c8cfd475c8a2ff291f6d8d"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">ProcScenarioBuilder::WithNormalHit</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithNormalHit()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:357</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_ae1707e7d9c5c669929b0a46fd188acf8"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#ae1707e7d9c5c669929b0a46fd188acf8">ProcScenarioBuilder::Build</a></div><div class="ttdeci">ProcEventInfo Build()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:422</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00422">ProcScenarioBuilder::Build()</a>, <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00268">ProcScenarioBuilder::OnMeleeAutoAttack()</a>, <a class="el" href="../../#l00105">PROC_FLAG_NONE</a>, <a class="el" href="../../#l00814">sSpellMgr</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a0f98e5578fccdc5fab8169c87314fd18" name="a0f98e5578fccdc5fab8169c87314fd18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f98e5578fccdc5fab8169c87314fd18">&#9670;&#160;</a></span>TEST_F() <span class="overload">[7/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FullBlockProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  290</span>{</div>
<div class="line"><span class="lineno">  291</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  292</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ac2692301ed7f56d167b080fd19942c12">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  293</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a1e29115ea7191b010734e1fdaf06b502">PROC_HIT_FULL_BLOCK</a>)</div>
<div class="line"><span class="lineno">  294</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  297</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac984b2ef7b4f02f7707368d20bc3be09">OnTakenMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  298</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a4cde496aa81774682a10851e46868e7e">WithFullBlock</a>();</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  301</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9a1e29115ea7191b010734e1fdaf06b502"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a1e29115ea7191b010734e1fdaf06b502">PROC_HIT_FULL_BLOCK</a></div><div class="ttdeci">@ PROC_HIT_FULL_BLOCK</div><div class="ttdef"><b>Definition</b> SpellMgr.h:267</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a4cde496aa81774682a10851e46868e7e"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a4cde496aa81774682a10851e46868e7e">ProcScenarioBuilder::WithFullBlock</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithFullBlock()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:387</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00275">ProcScenarioBuilder::OnTakenMeleeAutoAttack()</a>, <a class="el" href="../../#l00111">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00267">PROC_HIT_FULL_BLOCK</a>, <a class="el" href="../../#l00387">ProcScenarioBuilder::WithFullBlock()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="ab7dc82e964c4a43a5b8de72542405cbf" name="ab7dc82e964c4a43a5b8de72542405cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7dc82e964c4a43a5b8de72542405cbf">&#9670;&#160;</a></span>TEST_F() <span class="overload">[8/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HealProc_CritHeal&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  157</span>{</div>
<div class="line"><span class="lineno">  158</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  159</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a>)</div>
<div class="line"><span class="lineno">  160</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#aa0691e03294c5317fdd173d4dd70edc1">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527a5da2de88220613d950d6304d8e97c4a3">PROC_SPELL_TYPE_HEAL</a>)</div>
<div class="line"><span class="lineno">  161</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a>)</div>
<div class="line"><span class="lineno">  162</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  163</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// Normal heal should NOT trigger crit-only proc</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keyword">auto</span> normalScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  167</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#aff4fa0bf04b9a27900a8b89380f419bd">OnHeal</a>()</div>
<div class="line"><span class="lineno">  168</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ab8dc66c27ffce0980153941e8e7ab701">EXPECT_PROC_DOES_NOT_TRIGGER</a>(procEntry, normalScenario);</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    <span class="comment">// Crit heal should trigger</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="keyword">auto</span> critScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  173</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#aff4fa0bf04b9a27900a8b89380f419bd">OnHeal</a>()</div>
<div class="line"><span class="lineno">  174</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a93f4ae0c7fefccf44a4dc93a886d1c82">WithCrit</a>();</div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, critScenario);</div>
<div class="line"><span class="lineno">  176</span>}</div>
<div class="ttc" id="aAuraScriptTestFramework_8h_html_ab8dc66c27ffce0980153941e8e7ab701"><div class="ttname"><a href="../../da/d86/AuraScriptTestFramework_8h.html#ab8dc66c27ffce0980153941e8e7ab701">EXPECT_PROC_DOES_NOT_TRIGGER</a></div><div class="ttdeci">#define EXPECT_PROC_DOES_NOT_TRIGGER(procEntry, scenario)</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:478</div></div>
<div class="ttc" id="aSpellMgr_8h_html_acb2f59f82f5d44cf14104713821f0527a5da2de88220613d950d6304d8e97c4a3"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527a5da2de88220613d950d6304d8e97c4a3">PROC_SPELL_TYPE_HEAL</a></div><div class="ttdeci">@ PROC_SPELL_TYPE_HEAL</div><div class="ttdef"><b>Definition</b> SpellMgr.h:237</div></div>
<div class="ttc" id="aSpellMgr_8h_html_addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_HIT</div><div class="ttdef"><b>Definition</b> SpellMgr.h:246</div></div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</div><div class="ttdef"><b>Definition</b> SpellMgr.h:128</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a93f4ae0c7fefccf44a4dc93a886d1c82"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a93f4ae0c7fefccf44a4dc93a886d1c82">ProcScenarioBuilder::WithCrit</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithCrit()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:351</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_aff4fa0bf04b9a27900a8b89380f419bd"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#aff4fa0bf04b9a27900a8b89380f419bd">ProcScenarioBuilder::OnHeal</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnHeal()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:300</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_aa0691e03294c5317fdd173d4dd70edc1"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#aa0691e03294c5317fdd173d4dd70edc1">SpellProcEntryBuilder::WithSpellTypeMask</a></div><div class="ttdeci">SpellProcEntryBuilder &amp; WithSpellTypeMask(uint32 spellTypeMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:172</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_ae7ddfcb398c2f5e52834bd74d25754dc"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">SpellProcEntryBuilder::WithSpellPhaseMask</a></div><div class="ttdeci">SpellProcEntryBuilder &amp; WithSpellPhaseMask(uint32 spellPhaseMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:178</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00478">EXPECT_PROC_DOES_NOT_TRIGGER</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00300">ProcScenarioBuilder::OnHeal()</a>, <a class="el" href="../../#l00128">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a>, <a class="el" href="../../#l00255">PROC_HIT_CRITICAL</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00237">PROC_SPELL_TYPE_HEAL</a>, <a class="el" href="../../#l00351">ProcScenarioBuilder::WithCrit()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, and <a class="el" href="../../#l00172">SpellProcEntryBuilder::WithSpellTypeMask()</a>.</p>

</div>
</div>
<a id="a9d6c0c00ff0c2e27e03100ab2562a155" name="a9d6c0c00ff0c2e27e03100ab2562a155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d6c0c00ff0c2e27e03100ab2562a155">&#9670;&#160;</a></span>TEST_F() <span class="overload">[9/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HealProc_OnHeal&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  142</span>{</div>
<div class="line"><span class="lineno">  143</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  144</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a>)</div>
<div class="line"><span class="lineno">  145</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#aa0691e03294c5317fdd173d4dd70edc1">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527a5da2de88220613d950d6304d8e97c4a3">PROC_SPELL_TYPE_HEAL</a>)</div>
<div class="line"><span class="lineno">  146</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  147</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  150</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#aff4fa0bf04b9a27900a8b89380f419bd">OnHeal</a>()</div>
<div class="line"><span class="lineno">  151</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a33990b1e289f2557222db834e16d7555">OnHit</a>();</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  154</span>}</div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a33990b1e289f2557222db834e16d7555"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a33990b1e289f2557222db834e16d7555">ProcScenarioBuilder::OnHit</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnHit()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:409</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00300">ProcScenarioBuilder::OnHeal()</a>, <a class="el" href="../../#l00409">ProcScenarioBuilder::OnHit()</a>, <a class="el" href="../../#l00128">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00237">PROC_SPELL_TYPE_HEAL</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, and <a class="el" href="../../#l00172">SpellProcEntryBuilder::WithSpellTypeMask()</a>.</p>

</div>
</div>
<a id="adf16693434e2bdb467eec45e4cb9aca9" name="adf16693434e2bdb467eec45e4cb9aca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf16693434e2bdb467eec45e4cb9aca9">&#9670;&#160;</a></span>TEST_F() <span class="overload">[10/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KillProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  220</span>{</div>
<div class="line"><span class="lineno">  221</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  222</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a>)</div>
<div class="line"><span class="lineno">  223</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  226</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a817da410ab3f32ca2ac5ca6a2541dba9">OnKill</a>();</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  229</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a></div><div class="ttdeci">@ PROC_FLAG_KILL</div><div class="ttdef"><b>Definition</b> SpellMgr.h:108</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a817da410ab3f32ca2ac5ca6a2541dba9"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a817da410ab3f32ca2ac5ca6a2541dba9">ProcScenarioBuilder::OnKill</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnKill()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:336</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00336">ProcScenarioBuilder::OnKill()</a>, <a class="el" href="../../#l00108">PROC_FLAG_KILL</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a57db0bc781c5b34c615d48beeb4fa174" name="a57db0bc781c5b34c615d48beeb4fa174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57db0bc781c5b34c615d48beeb4fa174">&#9670;&#160;</a></span>TEST_F() <span class="overload">[11/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MeleeAutoAttackProc_CritOnly&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">   65</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">   66</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a>)</div>
<div class="line"><span class="lineno">   67</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <span class="comment">// Normal hit should NOT trigger crit-only proc</span></div>
<div class="line"><span class="lineno">   70</span>    <span class="keyword">auto</span> normalScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">   71</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">   72</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">   73</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ab8dc66c27ffce0980153941e8e7ab701">EXPECT_PROC_DOES_NOT_TRIGGER</a>(procEntry, normalScenario);</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">// Critical hit should trigger</span></div>
<div class="line"><span class="lineno">   76</span>    <span class="keyword">auto</span> critScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">   77</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">   78</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a93f4ae0c7fefccf44a4dc93a886d1c82">WithCrit</a>();</div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, critScenario);</div>
<div class="line"><span class="lineno">   80</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00478">EXPECT_PROC_DOES_NOT_TRIGGER</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00268">ProcScenarioBuilder::OnMeleeAutoAttack()</a>, <a class="el" href="../../#l00110">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00255">PROC_HIT_CRITICAL</a>, <a class="el" href="../../#l00351">ProcScenarioBuilder::WithCrit()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="ab8de2ca2bd2360aa03faf4c4f19b5180" name="ab8de2ca2bd2360aa03faf4c4f19b5180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8de2ca2bd2360aa03faf4c4f19b5180">&#9670;&#160;</a></span>TEST_F() <span class="overload">[12/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MeleeAutoAttackProc_Miss&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   83</span>{</div>
<div class="line"><span class="lineno">   84</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">   85</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">   86</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9a4021bb3e6b043ac1c53be283642e6209">PROC_HIT_MISS</a>)</div>
<div class="line"><span class="lineno">   87</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keyword">auto</span> missScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">   90</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">   91</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a683dbda7d444eefa76adf5dc61fc058b">WithMiss</a>();</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, missScenario);</div>
<div class="line"><span class="lineno">   94</span>}</div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a683dbda7d444eefa76adf5dc61fc058b"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a683dbda7d444eefa76adf5dc61fc058b">ProcScenarioBuilder::WithMiss</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithMiss()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:363</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00268">ProcScenarioBuilder::OnMeleeAutoAttack()</a>, <a class="el" href="../../#l00110">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00256">PROC_HIT_MISS</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, <a class="el" href="../../#l00363">ProcScenarioBuilder::WithMiss()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="adc9e24b4a2aa5138c4e71c8ef90c8d47" name="adc9e24b4a2aa5138c4e71c8ef90c8d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9e24b4a2aa5138c4e71c8ef90c8d47">&#9670;&#160;</a></span>TEST_F() <span class="overload">[13/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MeleeAutoAttackProc_NormalHit&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   49</span>{</div>
<div class="line"><span class="lineno">   50</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">   51</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">   52</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a> | <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a>)</div>
<div class="line"><span class="lineno">   53</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">   56</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">   57</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">   60</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00268">ProcScenarioBuilder::OnMeleeAutoAttack()</a>, <a class="el" href="../../#l00110">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00255">PROC_HIT_CRITICAL</a>, <a class="el" href="../../#l00254">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a938786843f128c05425e1815ea9b62e2" name="a938786843f128c05425e1815ea9b62e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a938786843f128c05425e1815ea9b62e2">&#9670;&#160;</a></span>TEST_F() <span class="overload">[14/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MultipleHitMasks_CritOrNormal&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  416</span>{</div>
<div class="line"><span class="lineno">  417</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  418</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  419</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a> | <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a>)</div>
<div class="line"><span class="lineno">  420</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    <span class="keyword">auto</span> normalScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  423</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  424</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, normalScenario);</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    <span class="keyword">auto</span> critScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  428</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  429</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a93f4ae0c7fefccf44a4dc93a886d1c82">WithCrit</a>();</div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, critScenario);</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="keyword">auto</span> missScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  433</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a1d8c0022b7ccd13bbe2c8e66cbae88f8">OnMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  434</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a683dbda7d444eefa76adf5dc61fc058b">WithMiss</a>();</div>
<div class="line"><span class="lineno">  435</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ab8dc66c27ffce0980153941e8e7ab701">EXPECT_PROC_DOES_NOT_TRIGGER</a>(procEntry, missScenario);</div>
<div class="line"><span class="lineno">  436</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00478">EXPECT_PROC_DOES_NOT_TRIGGER</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00268">ProcScenarioBuilder::OnMeleeAutoAttack()</a>, <a class="el" href="../../#l00110">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00255">PROC_HIT_CRITICAL</a>, <a class="el" href="../../#l00254">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00351">ProcScenarioBuilder::WithCrit()</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, <a class="el" href="../../#l00363">ProcScenarioBuilder::WithMiss()</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a10cac1e4cac41bbafe00d048a8d8317d" name="a10cac1e4cac41bbafe00d048a8d8317d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10cac1e4cac41bbafe00d048a8d8317d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[15/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MultipleProcFlags_MeleeOrSpell&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  387</span>{</div>
<div class="line"><span class="lineno">  388</span>    <span class="comment">// Proc on melee OR spell damage</span></div>
<div class="line"><span class="lineno">  389</span>    <span class="comment">// Note: Spell procs require SpellPhaseMask to be set, otherwise the check</span></div>
<div class="line"><span class="lineno">  390</span>    <span class="comment">// (eventInfo.SpellPhaseMask &amp; procEntry.SpellPhaseMask) fails when procEntry = 0</span></div>
<div class="line"><span class="lineno">  391</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  392</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a> | <a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  393</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  394</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>    <span class="comment">// Melee test</span></div>
<div class="line"><span class="lineno">  397</span>    <span class="keyword">auto</span> meleeEventInfo = <a class="code hl_class" href="../../d2/d52/classProcEventInfoBuilder.html">ProcEventInfoBuilder</a>()</div>
<div class="line"><span class="lineno">  398</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a83de461b19bd737c5aa2e7fd3ad2a302">WithTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  399</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ac8d9c890333158313fb6bd9bdcd14fcf">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a>)</div>
<div class="line"><span class="lineno">  400</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ae0f8d3a43a218b4459db0aa3fee95bf0">Build</a>();</div>
<div class="line"><span class="lineno">  401</span>    EXPECT_TRUE(<a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;CanSpellTriggerProcOnEvent(procEntry, meleeEventInfo));</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>    <span class="comment">// Spell test - needs matching SpellPhaseMask AND SpellInfo</span></div>
<div class="line"><span class="lineno">  404</span>    <span class="keyword">auto</span>* spellInfo = CreateSpellInfo(100);</div>
<div class="line"><span class="lineno">  405</span>    <a class="code hl_class" href="../../d2/d2d/classDamageInfo.html">DamageInfo</a> damageInfo(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, 100, spellInfo, <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8faefa51c7b6eae284cc0c22d935bd5fc03">SPELL_SCHOOL_MASK_FIRE</a>, <a class="code hl_enumvalue" href="../../d1/daf/Unit_8h.html#ab0b8a9de485ea928c497ac0b5f9040b1a9308d3cdd6446af40814a12302809f54">SPELL_DIRECT_DAMAGE</a>);</div>
<div class="line"><span class="lineno">  406</span>    <span class="keyword">auto</span> spellEventInfo = <a class="code hl_class" href="../../d2/d52/classProcEventInfoBuilder.html">ProcEventInfoBuilder</a>()</div>
<div class="line"><span class="lineno">  407</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a83de461b19bd737c5aa2e7fd3ad2a302">WithTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  408</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ac8d9c890333158313fb6bd9bdcd14fcf">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a>)</div>
<div class="line"><span class="lineno">  409</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a2247bbb4936f6d48c4214641a5a466af">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  410</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a4d207196177033340282dd33b11c9d82">WithDamageInfo</a>(&amp;damageInfo)</div>
<div class="line"><span class="lineno">  411</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ae0f8d3a43a218b4459db0aa3fee95bf0">Build</a>();</div>
<div class="line"><span class="lineno">  412</span>    EXPECT_TRUE(<a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;CanSpellTriggerProcOnEvent(procEntry, spellEventInfo));</div>
<div class="line"><span class="lineno">  413</span>}</div>
<div class="ttc" id="aSharedDefines_8h_html_aff6913cfd69489c107a071be9ec2ec8faefa51c7b6eae284cc0c22d935bd5fc03"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8faefa51c7b6eae284cc0c22d935bd5fc03">SPELL_SCHOOL_MASK_FIRE</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_FIRE</div><div class="ttdef"><b>Definition</b> SharedDefines.h:310</div></div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition</b> SpellMgr.h:131</div></div>
<div class="ttc" id="aUnit_8h_html_ab0b8a9de485ea928c497ac0b5f9040b1a9308d3cdd6446af40814a12302809f54"><div class="ttname"><a href="../../d1/daf/Unit_8h.html#ab0b8a9de485ea928c497ac0b5f9040b1a9308d3cdd6446af40814a12302809f54">SPELL_DIRECT_DAMAGE</a></div><div class="ttdeci">@ SPELL_DIRECT_DAMAGE</div><div class="ttdef"><b>Definition</b> Unit.h:256</div></div>
<div class="ttc" id="aclassDamageInfo_html"><div class="ttname"><a href="../../d2/d2d/classDamageInfo.html">DamageInfo</a></div><div class="ttdef"><b>Definition</b> Unit.h:337</div></div>
<div class="ttc" id="aclassProcEventInfoBuilder_html_a2247bbb4936f6d48c4214641a5a466af"><div class="ttname"><a href="../../d2/d52/classProcEventInfoBuilder.html#a2247bbb4936f6d48c4214641a5a466af">ProcEventInfoBuilder::WithSpellPhaseMask</a></div><div class="ttdeci">ProcEventInfoBuilder &amp; WithSpellPhaseMask(uint32 spellPhaseMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:69</div></div>
<div class="ttc" id="aclassProcEventInfoBuilder_html_a4d207196177033340282dd33b11c9d82"><div class="ttname"><a href="../../d2/d52/classProcEventInfoBuilder.html#a4d207196177033340282dd33b11c9d82">ProcEventInfoBuilder::WithDamageInfo</a></div><div class="ttdeci">ProcEventInfoBuilder &amp; WithDamageInfo(DamageInfo *damageInfo)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:87</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">ProcEventInfoBuilder::Build()</a>, <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00110">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00254">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00256">SPELL_DIRECT_DAMAGE</a>, <a class="el" href="../../#l00310">SPELL_SCHOOL_MASK_FIRE</a>, <a class="el" href="../../#l00814">sSpellMgr</a>, <a class="el" href="../../#l00087">ProcEventInfoBuilder::WithDamageInfo()</a>, <a class="el" href="../../#l00075">ProcEventInfoBuilder::WithHitMask()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00069">ProcEventInfoBuilder::WithSpellPhaseMask()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, and <a class="el" href="../../#l00057">ProcEventInfoBuilder::WithTypeMask()</a>.</p>

</div>
</div>
<a id="ae3ef055ed8d12af9f6f2066a1f8e6f1e" name="ae3ef055ed8d12af9f6f2066a1f8e6f1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3ef055ed8d12af9f6f2066a1f8e6f1e">&#9670;&#160;</a></span>TEST_F() <span class="overload">[16/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ParryProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  262</span>{</div>
<div class="line"><span class="lineno">  263</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  264</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ac2692301ed7f56d167b080fd19942c12">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>)</div>
<div class="line"><span class="lineno">  265</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a1cdd7bec2aa80d5036d614ad0296a695">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9aca7410f24e5b69ddb9d64170c7bd4f49">PROC_HIT_PARRY</a>)</div>
<div class="line"><span class="lineno">  266</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  269</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac984b2ef7b4f02f7707368d20bc3be09">OnTakenMeleeAutoAttack</a>()</div>
<div class="line"><span class="lineno">  270</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac0fa0319216fc0e02ec4535573f58a75">WithParry</a>();</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  273</span>}</div>
<div class="ttc" id="aclassProcScenarioBuilder_html_ac0fa0319216fc0e02ec4535573f58a75"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#ac0fa0319216fc0e02ec4535573f58a75">ProcScenarioBuilder::WithParry</a></div><div class="ttdeci">ProcScenarioBuilder &amp; WithParry()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:375</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00275">ProcScenarioBuilder::OnTakenMeleeAutoAttack()</a>, <a class="el" href="../../#l00111">PROC_FLAG_TAKEN_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00259">PROC_HIT_PARRY</a>, <a class="el" href="../../#l00184">SpellProcEntryBuilder::WithHitMask()</a>, <a class="el" href="../../#l00375">ProcScenarioBuilder::WithParry()</a>, and <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>.</p>

</div>
</div>
<a id="a2d0f8c29b3a0c4ed2c46f8113d98ad44" name="a2d0f8c29b3a0c4ed2c46f8113d98ad44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d0f8c29b3a0c4ed2c46f8113d98ad44">&#9670;&#160;</a></span>TEST_F() <span class="overload">[17/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PeriodicDamageProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  184</span>{</div>
<div class="line"><span class="lineno">  185</span>    <span class="comment">// Note: PROC_FLAG_DONE_PERIODIC is in REQ_SPELL_PHASE_PROC_FLAG_MASK,</span></div>
<div class="line"><span class="lineno">  186</span>    <span class="comment">// so SpellPhaseMask must be set (can&#39;t be 0)</span></div>
<div class="line"><span class="lineno">  187</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  188</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  189</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#aa0691e03294c5317fdd173d4dd70edc1">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527ab9158a36f4d0853a1c2274ad094c093c">PROC_SPELL_TYPE_DAMAGE</a>)</div>
<div class="line"><span class="lineno">  190</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  191</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  194</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a6824d1e7348aa66c9259680e276522fc">OnPeriodicDamage</a>()</div>
<div class="line"><span class="lineno">  195</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  198</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_acb2f59f82f5d44cf14104713821f0527ab9158a36f4d0853a1c2274ad094c093c"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527ab9158a36f4d0853a1c2274ad094c093c">PROC_SPELL_TYPE_DAMAGE</a></div><div class="ttdeci">@ PROC_SPELL_TYPE_DAMAGE</div><div class="ttdef"><b>Definition</b> SpellMgr.h:236</div></div>
<div class="ttc" id="aSpellMgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a></div><div class="ttdeci">@ PROC_FLAG_DONE_PERIODIC</div><div class="ttdef"><b>Definition</b> SpellMgr.h:134</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a6824d1e7348aa66c9259680e276522fc"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a6824d1e7348aa66c9259680e276522fc">ProcScenarioBuilder::OnPeriodicDamage</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnPeriodicDamage()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:318</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00318">ProcScenarioBuilder::OnPeriodicDamage()</a>, <a class="el" href="../../#l00134">PROC_FLAG_DONE_PERIODIC</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00236">PROC_SPELL_TYPE_DAMAGE</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, and <a class="el" href="../../#l00172">SpellProcEntryBuilder::WithSpellTypeMask()</a>.</p>

</div>
</div>
<a id="a06253dffeb237a28a08da59ed376fb52" name="a06253dffeb237a28a08da59ed376fb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06253dffeb237a28a08da59ed376fb52">&#9670;&#160;</a></span>TEST_F() <span class="overload">[18/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PeriodicHealProc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  201</span>{</div>
<div class="line"><span class="lineno">  202</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  203</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  204</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#aa0691e03294c5317fdd173d4dd70edc1">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527a5da2de88220613d950d6304d8e97c4a3">PROC_SPELL_TYPE_HEAL</a>)</div>
<div class="line"><span class="lineno">  205</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  206</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  209</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a904b6436dc7fece5fd0c6f985ff6fc27">OnPeriodicHeal</a>()</div>
<div class="line"><span class="lineno">  210</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  213</span>}</div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a904b6436dc7fece5fd0c6f985ff6fc27"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a904b6436dc7fece5fd0c6f985ff6fc27">ProcScenarioBuilder::OnPeriodicHeal</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnPeriodicHeal()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:327</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00327">ProcScenarioBuilder::OnPeriodicHeal()</a>, <a class="el" href="../../#l00134">PROC_FLAG_DONE_PERIODIC</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00237">PROC_SPELL_TYPE_HEAL</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, and <a class="el" href="../../#l00172">SpellProcEntryBuilder::WithSpellTypeMask()</a>.</p>

</div>
</div>
<a id="a78bcf974c34f1de94051c541ecbd3490" name="a78bcf974c34f1de94051c541ecbd3490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78bcf974c34f1de94051c541ecbd3490">&#9670;&#160;</a></span>TEST_F() <span class="overload">[19/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SchoolMaskFilter_FireOnly_FireDamage&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  443</span>{</div>
<div class="line"><span class="lineno">  444</span>    <span class="comment">// Proc entry requires fire school damage</span></div>
<div class="line"><span class="lineno">  445</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  446</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  447</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a713d576e3a6daf3c6f96b662b5789f14">WithSchoolMask</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8faefa51c7b6eae284cc0c22d935bd5fc03">SPELL_SCHOOL_MASK_FIRE</a>)</div>
<div class="line"><span class="lineno">  448</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  449</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="comment">// Create fire spell and fire damage info</span></div>
<div class="line"><span class="lineno">  452</span>    <span class="keyword">auto</span>* fireSpell = CreateSpellInfo(133, 3, 0); <span class="comment">// Fireball</span></div>
<div class="line"><span class="lineno">  453</span>    <a class="code hl_class" href="../../d2/d2d/classDamageInfo.html">DamageInfo</a> fireDamageInfo(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, 100, fireSpell, <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8faefa51c7b6eae284cc0c22d935bd5fc03">SPELL_SCHOOL_MASK_FIRE</a>, <a class="code hl_enumvalue" href="../../d1/daf/Unit_8h.html#ab0b8a9de485ea928c497ac0b5f9040b1a9308d3cdd6446af40814a12302809f54">SPELL_DIRECT_DAMAGE</a>);</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>    <span class="keyword">auto</span> eventInfo = <a class="code hl_class" href="../../d2/d52/classProcEventInfoBuilder.html">ProcEventInfoBuilder</a>()</div>
<div class="line"><span class="lineno">  456</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a83de461b19bd737c5aa2e7fd3ad2a302">WithTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  457</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ac8d9c890333158313fb6bd9bdcd14fcf">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a>)</div>
<div class="line"><span class="lineno">  458</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#aebac87d053e09dba16456a9f49322973">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527ab9158a36f4d0853a1c2274ad094c093c">PROC_SPELL_TYPE_DAMAGE</a>)</div>
<div class="line"><span class="lineno">  459</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a2247bbb4936f6d48c4214641a5a466af">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  460</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a4d207196177033340282dd33b11c9d82">WithDamageInfo</a>(&amp;fireDamageInfo)</div>
<div class="line"><span class="lineno">  461</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ae0f8d3a43a218b4459db0aa3fee95bf0">Build</a>();</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="comment">// Fire damage should trigger fire-only proc</span></div>
<div class="line"><span class="lineno">  464</span>    EXPECT_TRUE(<a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;CanSpellTriggerProcOnEvent(procEntry, eventInfo));</div>
<div class="line"><span class="lineno">  465</span>}</div>
<div class="ttc" id="aclassProcEventInfoBuilder_html_aebac87d053e09dba16456a9f49322973"><div class="ttname"><a href="../../d2/d52/classProcEventInfoBuilder.html#aebac87d053e09dba16456a9f49322973">ProcEventInfoBuilder::WithSpellTypeMask</a></div><div class="ttdeci">ProcEventInfoBuilder &amp; WithSpellTypeMask(uint32 spellTypeMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:63</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_a713d576e3a6daf3c6f96b662b5789f14"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#a713d576e3a6daf3c6f96b662b5789f14">SpellProcEntryBuilder::WithSchoolMask</a></div><div class="ttdeci">SpellProcEntryBuilder &amp; WithSchoolMask(uint32 schoolMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:148</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">ProcEventInfoBuilder::Build()</a>, <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00254">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00236">PROC_SPELL_TYPE_DAMAGE</a>, <a class="el" href="../../#l00256">SPELL_DIRECT_DAMAGE</a>, <a class="el" href="../../#l00310">SPELL_SCHOOL_MASK_FIRE</a>, <a class="el" href="../../#l00814">sSpellMgr</a>, <a class="el" href="../../#l00087">ProcEventInfoBuilder::WithDamageInfo()</a>, <a class="el" href="../../#l00075">ProcEventInfoBuilder::WithHitMask()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00148">SpellProcEntryBuilder::WithSchoolMask()</a>, <a class="el" href="../../#l00069">ProcEventInfoBuilder::WithSpellPhaseMask()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, <a class="el" href="../../#l00063">ProcEventInfoBuilder::WithSpellTypeMask()</a>, and <a class="el" href="../../#l00057">ProcEventInfoBuilder::WithTypeMask()</a>.</p>

</div>
</div>
<a id="a33dda9a05f9035d8ecb4dd3958b3ca41" name="a33dda9a05f9035d8ecb4dd3958b3ca41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33dda9a05f9035d8ecb4dd3958b3ca41">&#9670;&#160;</a></span>TEST_F() <span class="overload">[20/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SchoolMaskFilter_FireOnly_FrostDamage&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  468</span>{</div>
<div class="line"><span class="lineno">  469</span>    <span class="comment">// Proc entry requires fire school damage</span></div>
<div class="line"><span class="lineno">  470</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  471</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  472</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a713d576e3a6daf3c6f96b662b5789f14">WithSchoolMask</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8faefa51c7b6eae284cc0c22d935bd5fc03">SPELL_SCHOOL_MASK_FIRE</a>)</div>
<div class="line"><span class="lineno">  473</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  474</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <span class="comment">// Create frost spell and frost damage info</span></div>
<div class="line"><span class="lineno">  477</span>    <span class="keyword">auto</span>* frostSpell = CreateSpellInfo(116, 3, 0); <span class="comment">// Frostbolt</span></div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_class" href="../../d2/d2d/classDamageInfo.html">DamageInfo</a> frostDamageInfo(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, 100, frostSpell, <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8faf689d00ccf0d652cb5a148e64b7cb1ce">SPELL_SCHOOL_MASK_FROST</a>, <a class="code hl_enumvalue" href="../../d1/daf/Unit_8h.html#ab0b8a9de485ea928c497ac0b5f9040b1a9308d3cdd6446af40814a12302809f54">SPELL_DIRECT_DAMAGE</a>);</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>    <span class="keyword">auto</span> eventInfo = <a class="code hl_class" href="../../d2/d52/classProcEventInfoBuilder.html">ProcEventInfoBuilder</a>()</div>
<div class="line"><span class="lineno">  481</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a83de461b19bd737c5aa2e7fd3ad2a302">WithTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  482</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ac8d9c890333158313fb6bd9bdcd14fcf">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a>)</div>
<div class="line"><span class="lineno">  483</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#aebac87d053e09dba16456a9f49322973">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527ab9158a36f4d0853a1c2274ad094c093c">PROC_SPELL_TYPE_DAMAGE</a>)</div>
<div class="line"><span class="lineno">  484</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a2247bbb4936f6d48c4214641a5a466af">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  485</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a4d207196177033340282dd33b11c9d82">WithDamageInfo</a>(&amp;frostDamageInfo)</div>
<div class="line"><span class="lineno">  486</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ae0f8d3a43a218b4459db0aa3fee95bf0">Build</a>();</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <span class="comment">// Frost damage should NOT trigger fire-only proc</span></div>
<div class="line"><span class="lineno">  489</span>    EXPECT_FALSE(<a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;CanSpellTriggerProcOnEvent(procEntry, eventInfo));</div>
<div class="line"><span class="lineno">  490</span>}</div>
<div class="ttc" id="aSharedDefines_8h_html_aff6913cfd69489c107a071be9ec2ec8faf689d00ccf0d652cb5a148e64b7cb1ce"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8faf689d00ccf0d652cb5a148e64b7cb1ce">SPELL_SCHOOL_MASK_FROST</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_FROST</div><div class="ttdef"><b>Definition</b> SharedDefines.h:312</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">ProcEventInfoBuilder::Build()</a>, <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00254">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00236">PROC_SPELL_TYPE_DAMAGE</a>, <a class="el" href="../../#l00256">SPELL_DIRECT_DAMAGE</a>, <a class="el" href="../../#l00310">SPELL_SCHOOL_MASK_FIRE</a>, <a class="el" href="../../#l00312">SPELL_SCHOOL_MASK_FROST</a>, <a class="el" href="../../#l00814">sSpellMgr</a>, <a class="el" href="../../#l00087">ProcEventInfoBuilder::WithDamageInfo()</a>, <a class="el" href="../../#l00075">ProcEventInfoBuilder::WithHitMask()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00148">SpellProcEntryBuilder::WithSchoolMask()</a>, <a class="el" href="../../#l00069">ProcEventInfoBuilder::WithSpellPhaseMask()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, <a class="el" href="../../#l00063">ProcEventInfoBuilder::WithSpellTypeMask()</a>, and <a class="el" href="../../#l00057">ProcEventInfoBuilder::WithTypeMask()</a>.</p>

</div>
</div>
<a id="a9981745ce0440564d4cee7e7a2573384" name="a9981745ce0440564d4cee7e7a2573384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9981745ce0440564d4cee7e7a2573384">&#9670;&#160;</a></span>TEST_F() <span class="overload">[21/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SchoolMaskFilter_NoSchoolMask_AnySchoolTriggers&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  493</span>{</div>
<div class="line"><span class="lineno">  494</span>    <span class="comment">// Proc entry with no school mask filter (accepts all schools)</span></div>
<div class="line"><span class="lineno">  495</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  496</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  497</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a713d576e3a6daf3c6f96b662b5789f14">WithSchoolMask</a>(0) <span class="comment">// No filter</span></div>
<div class="line"><span class="lineno">  498</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  499</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <span class="comment">// Test with shadow damage</span></div>
<div class="line"><span class="lineno">  502</span>    <span class="keyword">auto</span>* shadowSpell = CreateSpellInfo(686, 5, 0); <span class="comment">// Shadow Bolt</span></div>
<div class="line"><span class="lineno">  503</span>    <a class="code hl_class" href="../../d2/d2d/classDamageInfo.html">DamageInfo</a> shadowDamageInfo(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, 100, shadowSpell, <a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa489ca32f412d460b8ae8f58a1aa8cf3d">SPELL_SCHOOL_MASK_SHADOW</a>, <a class="code hl_enumvalue" href="../../d1/daf/Unit_8h.html#ab0b8a9de485ea928c497ac0b5f9040b1a9308d3cdd6446af40814a12302809f54">SPELL_DIRECT_DAMAGE</a>);</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    <span class="keyword">auto</span> eventInfo = <a class="code hl_class" href="../../d2/d52/classProcEventInfoBuilder.html">ProcEventInfoBuilder</a>()</div>
<div class="line"><span class="lineno">  506</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a83de461b19bd737c5aa2e7fd3ad2a302">WithTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  507</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ac8d9c890333158313fb6bd9bdcd14fcf">WithHitMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a>)</div>
<div class="line"><span class="lineno">  508</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#aebac87d053e09dba16456a9f49322973">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527ab9158a36f4d0853a1c2274ad094c093c">PROC_SPELL_TYPE_DAMAGE</a>)</div>
<div class="line"><span class="lineno">  509</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a2247bbb4936f6d48c4214641a5a466af">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  510</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#a4d207196177033340282dd33b11c9d82">WithDamageInfo</a>(&amp;shadowDamageInfo)</div>
<div class="line"><span class="lineno">  511</span>        .<a class="code hl_function" href="../../d2/d52/classProcEventInfoBuilder.html#ae0f8d3a43a218b4459db0aa3fee95bf0">Build</a>();</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>    <span class="comment">// Any school should trigger when no school mask filter is set</span></div>
<div class="line"><span class="lineno">  514</span>    EXPECT_TRUE(<a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;CanSpellTriggerProcOnEvent(procEntry, eventInfo));</div>
<div class="line"><span class="lineno">  515</span>}</div>
<div class="ttc" id="aSharedDefines_8h_html_aff6913cfd69489c107a071be9ec2ec8fa489ca32f412d460b8ae8f58a1aa8cf3d"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa489ca32f412d460b8ae8f58a1aa8cf3d">SPELL_SCHOOL_MASK_SHADOW</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_SHADOW</div><div class="ttdef"><b>Definition</b> SharedDefines.h:313</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">ProcEventInfoBuilder::Build()</a>, <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00254">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00236">PROC_SPELL_TYPE_DAMAGE</a>, <a class="el" href="../../#l00256">SPELL_DIRECT_DAMAGE</a>, <a class="el" href="../../#l00313">SPELL_SCHOOL_MASK_SHADOW</a>, <a class="el" href="../../#l00814">sSpellMgr</a>, <a class="el" href="../../#l00087">ProcEventInfoBuilder::WithDamageInfo()</a>, <a class="el" href="../../#l00075">ProcEventInfoBuilder::WithHitMask()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00148">SpellProcEntryBuilder::WithSchoolMask()</a>, <a class="el" href="../../#l00069">ProcEventInfoBuilder::WithSpellPhaseMask()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, <a class="el" href="../../#l00063">ProcEventInfoBuilder::WithSpellTypeMask()</a>, and <a class="el" href="../../#l00057">ProcEventInfoBuilder::WithTypeMask()</a>.</p>

</div>
</div>
<a id="a87286abd2d627cd9a10cb7d8304f2c96" name="a87286abd2d627cd9a10cb7d8304f2c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87286abd2d627cd9a10cb7d8304f2c96">&#9670;&#160;</a></span>TEST_F() <span class="overload">[22/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SpellDamageProc_OnCast&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  117</span>{</div>
<div class="line"><span class="lineno">  118</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  119</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  120</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d">PROC_SPELL_PHASE_CAST</a>)</div>
<div class="line"><span class="lineno">  121</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="comment">// Should trigger on cast phase</span></div>
<div class="line"><span class="lineno">  124</span>    <span class="keyword">auto</span> castScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  125</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a89641d017b53d0d4f07865ed254441bb">OnSpellDamage</a>()</div>
<div class="line"><span class="lineno">  126</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#acdf86a4468e902e8d98f2ce9196950e7">OnCast</a>();</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, castScenario);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="comment">// Should NOT trigger on hit phase when configured for cast only</span></div>
<div class="line"><span class="lineno">  130</span>    <span class="keyword">auto</span> hitScenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  131</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a89641d017b53d0d4f07865ed254441bb">OnSpellDamage</a>()</div>
<div class="line"><span class="lineno">  132</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a33990b1e289f2557222db834e16d7555">OnHit</a>();</div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ab8dc66c27ffce0980153941e8e7ab701">EXPECT_PROC_DOES_NOT_TRIGGER</a>(procEntry, hitScenario);</div>
<div class="line"><span class="lineno">  134</span>}</div>
<div class="ttc" id="aSpellMgr_8h_html_addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d">PROC_SPELL_PHASE_CAST</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_CAST</div><div class="ttdef"><b>Definition</b> SpellMgr.h:245</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_a89641d017b53d0d4f07865ed254441bb"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#a89641d017b53d0d4f07865ed254441bb">ProcScenarioBuilder::OnSpellDamage</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnSpellDamage()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:282</div></div>
<div class="ttc" id="aclassProcScenarioBuilder_html_acdf86a4468e902e8d98f2ce9196950e7"><div class="ttname"><a href="../../d1/d8f/classProcScenarioBuilder.html#acdf86a4468e902e8d98f2ce9196950e7">ProcScenarioBuilder::OnCast</a></div><div class="ttdeci">ProcScenarioBuilder &amp; OnCast()</div><div class="ttdef"><b>Definition</b> AuraScriptTestFramework.h:403</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00478">EXPECT_PROC_DOES_NOT_TRIGGER</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00403">ProcScenarioBuilder::OnCast()</a>, <a class="el" href="../../#l00409">ProcScenarioBuilder::OnHit()</a>, <a class="el" href="../../#l00282">ProcScenarioBuilder::OnSpellDamage()</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00245">PROC_SPELL_PHASE_CAST</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, and <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>.</p>

</div>
</div>
<a id="aef32eb9f961ac19a27290ed33e71a571" name="aef32eb9f961ac19a27290ed33e71a571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef32eb9f961ac19a27290ed33e71a571">&#9670;&#160;</a></span>TEST_F() <span class="overload">[23/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SpellDamageProc_OnHit&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  101</span>{</div>
<div class="line"><span class="lineno">  102</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  103</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  104</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#aa0691e03294c5317fdd173d4dd70edc1">WithSpellTypeMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#acb2f59f82f5d44cf14104713821f0527ab9158a36f4d0853a1c2274ad094c093c">PROC_SPELL_TYPE_DAMAGE</a>)</div>
<div class="line"><span class="lineno">  105</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#ae7ddfcb398c2f5e52834bd74d25754dc">WithSpellPhaseMask</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>)</div>
<div class="line"><span class="lineno">  106</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    <span class="keyword">auto</span> scenario = <a class="code hl_class" href="../../d1/d8f/classProcScenarioBuilder.html">ProcScenarioBuilder</a>()</div>
<div class="line"><span class="lineno">  109</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a89641d017b53d0d4f07865ed254441bb">OnSpellDamage</a>()</div>
<div class="line"><span class="lineno">  110</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#a33990b1e289f2557222db834e16d7555">OnHit</a>()</div>
<div class="line"><span class="lineno">  111</span>        .<a class="code hl_function" href="../../d1/d8f/classProcScenarioBuilder.html#ac3aafe6190c8cfd475c8a2ff291f6d8d">WithNormalHit</a>();</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_define" href="../../da/d86/AuraScriptTestFramework_8h.html#ad89bc4ac2d1077d7e73a7e08336ff303">EXPECT_PROC_TRIGGERS</a>(procEntry, scenario);</div>
<div class="line"><span class="lineno">  114</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00472">EXPECT_PROC_TRIGGERS</a>, <a class="el" href="../../#l00409">ProcScenarioBuilder::OnHit()</a>, <a class="el" href="../../#l00282">ProcScenarioBuilder::OnSpellDamage()</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00236">PROC_SPELL_TYPE_DAMAGE</a>, <a class="el" href="../../#l00357">ProcScenarioBuilder::WithNormalHit()</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00178">SpellProcEntryBuilder::WithSpellPhaseMask()</a>, and <a class="el" href="../../#l00172">SpellProcEntryBuilder::WithSpellTypeMask()</a>.</p>

</div>
</div>
<a id="a745f635dd3273726daee29ade5f9cdf5" name="a745f635dd3273726daee29ade5f9cdf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745f635dd3273726daee29ade5f9cdf5">&#9670;&#160;</a></span>TEST_F() <span class="overload">[24/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SpellFamilyMatch_DifferentFamily&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  344</span>{</div>
<div class="line"><span class="lineno">  345</span>    <span class="comment">// Create a Warrior spell (family 4)</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="keyword">auto</span>* triggerSpell = CreateSpellInfo(6343, 4, 0x00000001); <span class="comment">// Thunder Clap</span></div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  349</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#abf221ae8a8ef5e995bbe9b3f01f004c1">WithSpellFamilyName</a>(3) <span class="comment">// SPELLFAMILY_MAGE - should NOT match</span></div>
<div class="line"><span class="lineno">  350</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a57a1699a8238dd535a44908734e3c7fd">WithSpellFamilyMask</a>(<a class="code hl_class" href="../../dc/dd4/classflag96.html">flag96</a>(0x00000001, 0, 0))</div>
<div class="line"><span class="lineno">  351</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    EXPECT_FALSE(TestSpellFamilyMatch(procEntry.SpellFamilyName, procEntry.SpellFamilyMask, triggerSpell));</div>
<div class="line"><span class="lineno">  354</span>}</div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_a57a1699a8238dd535a44908734e3c7fd"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#a57a1699a8238dd535a44908734e3c7fd">SpellProcEntryBuilder::WithSpellFamilyMask</a></div><div class="ttdeci">SpellProcEntryBuilder &amp; WithSpellFamilyMask(flag96 familyMask)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:160</div></div>
<div class="ttc" id="aclassSpellProcEntryBuilder_html_abf221ae8a8ef5e995bbe9b3f01f004c1"><div class="ttname"><a href="../../d5/d69/classSpellProcEntryBuilder.html#abf221ae8a8ef5e995bbe9b3f01f004c1">SpellProcEntryBuilder::WithSpellFamilyName</a></div><div class="ttdeci">SpellProcEntryBuilder &amp; WithSpellFamilyName(uint32 familyName)</div><div class="ttdef"><b>Definition</b> ProcEventInfoHelper.h:154</div></div>
<div class="ttc" id="aclassflag96_html"><div class="ttname"><a href="../../dc/dd4/classflag96.html">flag96</a></div><div class="ttdef"><b>Definition</b> Util.h:442</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00160">SpellProcEntryBuilder::WithSpellFamilyMask()</a>, and <a class="el" href="../../#l00154">SpellProcEntryBuilder::WithSpellFamilyName()</a>.</p>

</div>
</div>
<a id="a8921c11f1578b950f6922adf20ae669b" name="a8921c11f1578b950f6922adf20ae669b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8921c11f1578b950f6922adf20ae669b">&#9670;&#160;</a></span>TEST_F() <span class="overload">[25/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SpellFamilyMatch_FlagMismatch&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  370</span>{</div>
<div class="line"><span class="lineno">  371</span>    <span class="comment">// Create a Mage spell with specific flags</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="keyword">auto</span>* triggerSpell = CreateSpellInfo(133, 3, 0x00000001); <span class="comment">// Fireball flag</span></div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  375</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#abf221ae8a8ef5e995bbe9b3f01f004c1">WithSpellFamilyName</a>(3) <span class="comment">// SPELLFAMILY_MAGE</span></div>
<div class="line"><span class="lineno">  376</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a57a1699a8238dd535a44908734e3c7fd">WithSpellFamilyMask</a>(<a class="code hl_class" href="../../dc/dd4/classflag96.html">flag96</a>(0x00000002, 0, 0)) <span class="comment">// Different flag</span></div>
<div class="line"><span class="lineno">  377</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    EXPECT_FALSE(TestSpellFamilyMatch(procEntry.SpellFamilyName, procEntry.SpellFamilyMask, triggerSpell));</div>
<div class="line"><span class="lineno">  380</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00160">SpellProcEntryBuilder::WithSpellFamilyMask()</a>, and <a class="el" href="../../#l00154">SpellProcEntryBuilder::WithSpellFamilyName()</a>.</p>

</div>
</div>
<a id="ae9abc50c956c7d601bacf131fc3a2afe" name="ae9abc50c956c7d601bacf131fc3a2afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9abc50c956c7d601bacf131fc3a2afe">&#9670;&#160;</a></span>TEST_F() <span class="overload">[26/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SpellFamilyMatch_NoFamilyFilter&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  357</span>{</div>
<div class="line"><span class="lineno">  358</span>    <span class="comment">// Create any spell</span></div>
<div class="line"><span class="lineno">  359</span>    <span class="keyword">auto</span>* triggerSpell = CreateSpellInfo(133, 3, 0x00000001);</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    <span class="comment">// Proc with no family filter should match any spell</span></div>
<div class="line"><span class="lineno">  362</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  363</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#abf221ae8a8ef5e995bbe9b3f01f004c1">WithSpellFamilyName</a>(0) <span class="comment">// No family filter</span></div>
<div class="line"><span class="lineno">  364</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    EXPECT_TRUE(TestSpellFamilyMatch(procEntry.SpellFamilyName, procEntry.SpellFamilyMask, triggerSpell));</div>
<div class="line"><span class="lineno">  367</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, and <a class="el" href="../../#l00154">SpellProcEntryBuilder::WithSpellFamilyName()</a>.</p>

</div>
</div>
<a id="a4247fb6fa4c2d6498bc86e51d876dfd6" name="a4247fb6fa4c2d6498bc86e51d876dfd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4247fb6fa4c2d6498bc86e51d876dfd6">&#9670;&#160;</a></span>TEST_F() <span class="overload">[27/27]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/db0/classSpellProcIntegrationTest.html">SpellProcIntegrationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SpellFamilyMatch_SameFamily&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  329</span>{</div>
<div class="line"><span class="lineno">  330</span>    <span class="comment">// Create a Mage spell (family 3)</span></div>
<div class="line"><span class="lineno">  331</span>    <span class="keyword">auto</span>* triggerSpell = CreateSpellInfo(133, 3, 0x00000001); <span class="comment">// Fireball</span></div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="keyword">auto</span> procEntry = <a class="code hl_class" href="../../d5/d69/classSpellProcEntryBuilder.html">SpellProcEntryBuilder</a>()</div>
<div class="line"><span class="lineno">  334</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#acebcb2a676a7e8e6821854137e056fff">WithProcFlags</a>(<a class="code hl_enumvalue" href="../../de/d30/SpellMgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>)</div>
<div class="line"><span class="lineno">  335</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#abf221ae8a8ef5e995bbe9b3f01f004c1">WithSpellFamilyName</a>(3) <span class="comment">// SPELLFAMILY_MAGE</span></div>
<div class="line"><span class="lineno">  336</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a57a1699a8238dd535a44908734e3c7fd">WithSpellFamilyMask</a>(<a class="code hl_class" href="../../dc/dd4/classflag96.html">flag96</a>(0x00000001, 0, 0))</div>
<div class="line"><span class="lineno">  337</span>        .<a class="code hl_function" href="../../d5/d69/classSpellProcEntryBuilder.html#a2a69603215e9fa526304f420bd5a490c">Build</a>();</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>    <span class="comment">// Test family match logic</span></div>
<div class="line"><span class="lineno">  340</span>    EXPECT_TRUE(TestSpellFamilyMatch(procEntry.SpellFamilyName, procEntry.SpellFamilyMask, triggerSpell));</div>
<div class="line"><span class="lineno">  341</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00226">SpellProcEntryBuilder::Build()</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00166">SpellProcEntryBuilder::WithProcFlags()</a>, <a class="el" href="../../#l00160">SpellProcEntryBuilder::WithSpellFamilyMask()</a>, and <a class="el" href="../../#l00154">SpellProcEntryBuilder::WithSpellFamilyName()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_f7e0c1f1a42fff32e0ff6393fb6a6d60.html">azerothcore-wotlk</a></li><li class="navelem"><a class="el" href="../../dir_ee82ee7794f367a672177b3bd595def7.html">src</a></li><li class="navelem"><a class="el" href="../../dir_1e2b35566ac0cf24ea791bcb2545ed2e.html">test</a></li><li class="navelem"><a class="el" href="../../dir_337bdd013191c9d548b6f28390c35d04.html">server</a></li><li class="navelem"><a class="el" href="../../dir_432bda28dad7986d3a1dc3010dcbb57c.html">game</a></li><li class="navelem"><a class="el" href="../../dir_7ee4929d46277e5eb29eea0f8a31fa60.html">Spells</a></li><li class="navelem"><a class="el" href="../../d5/d26/SpellProcIntegrationTest_8cpp.html">SpellProcIntegrationTest.cpp</a></li>
    <li class="footer">Generated on Sat Feb 21 2026 06:37:01 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
