<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>AzerothCore Doxygen</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/d58/classElunaEventProcessor.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../df/dcb/classElunaEventProcessor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ElunaEventProcessor Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="../../">ElunaEventMgr.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4c4ef16173900df55b5f0cc7900452d3" id="r_a4c4ef16173900df55b5f0cc7900452d3"><td class="memItemLeft" align="right" valign="top">typedef std::multimap&lt; <a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>, <a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a4c4ef16173900df55b5f0cc7900452d3">EventList</a></td></tr>
<tr class="separator:a4c4ef16173900df55b5f0cc7900452d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a910e368e4adc7ed2c8bbdaa2bf67fe65" id="r_a910e368e4adc7ed2c8bbdaa2bf67fe65"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map&lt; int, <a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a910e368e4adc7ed2c8bbdaa2bf67fe65">EventMap</a></td></tr>
<tr class="separator:a910e368e4adc7ed2c8bbdaa2bf67fe65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8f7e181bb05bc8662289a9cf5bd6f181" id="r_a8f7e181bb05bc8662289a9cf5bd6f181"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a8f7e181bb05bc8662289a9cf5bd6f181">ElunaEventProcessor</a> (<a class="el" href="../../d7/dc2/classEluna.html">Eluna</a> **_E, <a class="el" href="../../d4/dd0/classWorldObject.html">WorldObject</a> *_obj)</td></tr>
<tr class="separator:a8f7e181bb05bc8662289a9cf5bd6f181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64301ecaab398fcb055169af367d2fb2" id="r_a64301ecaab398fcb055169af367d2fb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a64301ecaab398fcb055169af367d2fb2">~ElunaEventProcessor</a> ()</td></tr>
<tr class="separator:a64301ecaab398fcb055169af367d2fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82f8cf68f1562bb202b342d9bf9254cc" id="r_a82f8cf68f1562bb202b342d9bf9254cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a82f8cf68f1562bb202b342d9bf9254cc">Update</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> diff)</td></tr>
<tr class="separator:a82f8cf68f1562bb202b342d9bf9254cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e4f9f8207129d7f56abeeb21da02d0" id="r_a47e4f9f8207129d7f56abeeb21da02d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a47e4f9f8207129d7f56abeeb21da02d0">SetStates</a> (<a class="el" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386f">LuaEventState</a> state)</td></tr>
<tr class="separator:a47e4f9f8207129d7f56abeeb21da02d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2169272cf1a7063349f857f0742f9a0" id="r_aa2169272cf1a7063349f857f0742f9a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#aa2169272cf1a7063349f857f0742f9a0">SetState</a> (int eventId, <a class="el" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386f">LuaEventState</a> state)</td></tr>
<tr class="separator:aa2169272cf1a7063349f857f0742f9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e547704da4b9f6398bd8e6510a6929a" id="r_a6e547704da4b9f6398bd8e6510a6929a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a6e547704da4b9f6398bd8e6510a6929a">AddEvent</a> (int funcRef, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> min, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> max, <a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> repeats)</td></tr>
<tr class="separator:a6e547704da4b9f6398bd8e6510a6929a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8feb7e4c6cc2cfb4be3f0ef388391883" id="r_a8feb7e4c6cc2cfb4be3f0ef388391883"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a910e368e4adc7ed2c8bbdaa2bf67fe65">EventMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a></td></tr>
<tr class="separator:a8feb7e4c6cc2cfb4be3f0ef388391883"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0cfe1948cd48e4b95038a3a70ec8df23" id="r_a0cfe1948cd48e4b95038a3a70ec8df23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a0cfe1948cd48e4b95038a3a70ec8df23">RemoveEvents_internal</a> ()</td></tr>
<tr class="separator:a0cfe1948cd48e4b95038a3a70ec8df23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9777b4211f65d0699e6469f48c56294e" id="r_a9777b4211f65d0699e6469f48c56294e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a9777b4211f65d0699e6469f48c56294e">AddEvent</a> (<a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a> *luaEvent)</td></tr>
<tr class="separator:a9777b4211f65d0699e6469f48c56294e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b36c2328c9b63b717f03f8c92c94d6" id="r_a07b36c2328c9b63b717f03f8c92c94d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a07b36c2328c9b63b717f03f8c92c94d6">RemoveEvent</a> (<a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a> *luaEvent)</td></tr>
<tr class="separator:a07b36c2328c9b63b717f03f8c92c94d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2273b379139d0ce3b9887ce931ac9f41" id="r_a2273b379139d0ce3b9887ce931ac9f41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a4c4ef16173900df55b5f0cc7900452d3">EventList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a></td></tr>
<tr class="separator:a2273b379139d0ce3b9887ce931ac9f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470bde85a553bd76b24f2492888eb905" id="r_a470bde85a553bd76b24f2492888eb905"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a470bde85a553bd76b24f2492888eb905">m_time</a></td></tr>
<tr class="separator:a470bde85a553bd76b24f2492888eb905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eeca87bbeb693213075d2aa3ee20f49" id="r_a1eeca87bbeb693213075d2aa3ee20f49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd0/classWorldObject.html">WorldObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a1eeca87bbeb693213075d2aa3ee20f49">obj</a></td></tr>
<tr class="separator:a1eeca87bbeb693213075d2aa3ee20f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac38aa81594aa302206499f5c321bbe7b" id="r_ac38aa81594aa302206499f5c321bbe7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc2/classEluna.html">Eluna</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#ac38aa81594aa302206499f5c321bbe7b">E</a></td></tr>
<tr class="separator:ac38aa81594aa302206499f5c321bbe7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ac6c441f50f473ecd706002e9a8634532" id="r_ac6c441f50f473ecd706002e9a8634532"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d58/classElunaEventProcessor.html#ac6c441f50f473ecd706002e9a8634532">EventMgr</a></td></tr>
<tr class="separator:ac6c441f50f473ecd706002e9a8634532"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a4c4ef16173900df55b5f0cc7900452d3" name="a4c4ef16173900df55b5f0cc7900452d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4ef16173900df55b5f0cc7900452d3">&#9670;&#160;</a></span>EventList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::multimap&lt;<a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>, <a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a>*&gt; <a class="el" href="../../df/d58/classElunaEventProcessor.html#a4c4ef16173900df55b5f0cc7900452d3">ElunaEventProcessor::EventList</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a910e368e4adc7ed2c8bbdaa2bf67fe65" name="a910e368e4adc7ed2c8bbdaa2bf67fe65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a910e368e4adc7ed2c8bbdaa2bf67fe65">&#9670;&#160;</a></span>EventMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;int, <a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a>*&gt; <a class="el" href="../../df/d58/classElunaEventProcessor.html#a910e368e4adc7ed2c8bbdaa2bf67fe65">ElunaEventProcessor::EventMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8f7e181bb05bc8662289a9cf5bd6f181" name="a8f7e181bb05bc8662289a9cf5bd6f181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7e181bb05bc8662289a9cf5bd6f181">&#9670;&#160;</a></span>ElunaEventProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ElunaEventProcessor::ElunaEventProcessor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dc2/classEluna.html">Eluna</a> **&#160;</td>
          <td class="paramname"><em>_E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dd0/classWorldObject.html">WorldObject</a> *&#160;</td>
          <td class="paramname"><em>_obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   17</span>                                                                      : <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a470bde85a553bd76b24f2492888eb905">m_time</a>(0), <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a1eeca87bbeb693213075d2aa3ee20f49">obj</a>(_obj), <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#ac38aa81594aa302206499f5c321bbe7b">E</a>(_E)</div>
<div class="line"><span class="lineno">   18</span>{</div>
<div class="line"><span class="lineno">   19</span>    <span class="comment">// can be called from multiple threads</span></div>
<div class="line"><span class="lineno">   20</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a1eeca87bbeb693213075d2aa3ee20f49">obj</a>)</div>
<div class="line"><span class="lineno">   21</span>    {</div>
<div class="line"><span class="lineno">   22</span>        <a class="code hl_typedef" href="../../d7/d8c/classElunaUtil_1_1Lockable.html#ae0361aff680e6ad4db15c532ba581989">EventMgr::Guard</a> guard((*E)-&gt;eventMgr-&gt;GetLock());</div>
<div class="line"><span class="lineno">   23</span>        (*E)-&gt;eventMgr-&gt;processors.insert(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   24</span>    }</div>
<div class="line"><span class="lineno">   25</span>}</div>
<div class="ttc" id="aclassElunaEventProcessor_html_a1eeca87bbeb693213075d2aa3ee20f49"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#a1eeca87bbeb693213075d2aa3ee20f49">ElunaEventProcessor::obj</a></div><div class="ttdeci">WorldObject * obj</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:88</div></div>
<div class="ttc" id="aclassElunaEventProcessor_html_a470bde85a553bd76b24f2492888eb905"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#a470bde85a553bd76b24f2492888eb905">ElunaEventProcessor::m_time</a></div><div class="ttdeci">uint64 m_time</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:87</div></div>
<div class="ttc" id="aclassElunaEventProcessor_html_ac38aa81594aa302206499f5c321bbe7b"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#ac38aa81594aa302206499f5c321bbe7b">ElunaEventProcessor::E</a></div><div class="ttdeci">Eluna ** E</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:89</div></div>
<div class="ttc" id="aclassElunaUtil_1_1Lockable_html_ae0361aff680e6ad4db15c532ba581989"><div class="ttname"><a href="../../d7/d8c/classElunaUtil_1_1Lockable.html#ae0361aff680e6ad4db15c532ba581989">ElunaUtil::Lockable::Guard</a></div><div class="ttdeci">std::lock_guard&lt; LockType &gt; Guard</div><div class="ttdef"><b>Definition</b> ElunaUtility.h:142</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00088">obj</a>.</p>

</div>
</div>
<a id="a64301ecaab398fcb055169af367d2fb2" name="a64301ecaab398fcb055169af367d2fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64301ecaab398fcb055169af367d2fb2">&#9670;&#160;</a></span>~ElunaEventProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ElunaEventProcessor::~ElunaEventProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   28</span>{</div>
<div class="line"><span class="lineno">   29</span>    <span class="comment">// can be called from multiple threads</span></div>
<div class="line"><span class="lineno">   30</span>    {</div>
<div class="line"><span class="lineno">   31</span>        <a class="code hl_define" href="../../d6/d72/LuaEngine_8h.html#a47d862d2019457be79a96b55fec0b58a">LOCK_ELUNA</a>;</div>
<div class="line"><span class="lineno">   32</span>        <a class="code hl_function" href="../../df/d58/classElunaEventProcessor.html#a0cfe1948cd48e4b95038a3a70ec8df23">RemoveEvents_internal</a>();</div>
<div class="line"><span class="lineno">   33</span>    }</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a1eeca87bbeb693213075d2aa3ee20f49">obj</a> &amp;&amp; <a class="code hl_function" href="../../d7/dc2/classEluna.html#acf76665c783cc7de1453ec6fe0e45832">Eluna::IsInitialized</a>())</div>
<div class="line"><span class="lineno">   36</span>    {</div>
<div class="line"><span class="lineno">   37</span>        <a class="code hl_typedef" href="../../d7/d8c/classElunaUtil_1_1Lockable.html#ae0361aff680e6ad4db15c532ba581989">EventMgr::Guard</a> guard((*E)-&gt;eventMgr-&gt;GetLock());</div>
<div class="line"><span class="lineno">   38</span>        (*E)-&gt;eventMgr-&gt;processors.erase(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   39</span>    }</div>
<div class="line"><span class="lineno">   40</span>}</div>
<div class="ttc" id="aLuaEngine_8h_html_a47d862d2019457be79a96b55fec0b58a"><div class="ttname"><a href="../../d6/d72/LuaEngine_8h.html#a47d862d2019457be79a96b55fec0b58a">LOCK_ELUNA</a></div><div class="ttdeci">#define LOCK_ELUNA</div><div class="ttdef"><b>Definition</b> LuaEngine.h:122</div></div>
<div class="ttc" id="aclassElunaEventProcessor_html_a0cfe1948cd48e4b95038a3a70ec8df23"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#a0cfe1948cd48e4b95038a3a70ec8df23">ElunaEventProcessor::RemoveEvents_internal</a></div><div class="ttdeci">void RemoveEvents_internal()</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.cpp:80</div></div>
<div class="ttc" id="aclassEluna_html_acf76665c783cc7de1453ec6fe0e45832"><div class="ttname"><a href="../../d7/dc2/classEluna.html#acf76665c783cc7de1453ec6fe0e45832">Eluna::IsInitialized</a></div><div class="ttdeci">static bool IsInitialized()</div><div class="ttdef"><b>Definition</b> LuaEngine.h:272</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00272">Eluna::IsInitialized()</a>, <a class="el" href="../../#l00122">LOCK_ELUNA</a>, <a class="el" href="../../#l00088">obj</a>, and <a class="el" href="../../#l00080">RemoveEvents_internal()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e547704da4b9f6398bd8e6510a6929a" name="a6e547704da4b9f6398bd8e6510a6929a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e547704da4b9f6398bd8e6510a6929a">&#9670;&#160;</a></span>AddEvent() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElunaEventProcessor::AddEvent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>funcRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>repeats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  112</span>{</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_function" href="../../df/d58/classElunaEventProcessor.html#a6e547704da4b9f6398bd8e6510a6929a">AddEvent</a>(<span class="keyword">new</span> <a class="code hl_struct" href="../../d4/d83/structLuaEvent.html">LuaEvent</a>(funcRef, min, max, repeats));</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="aclassElunaEventProcessor_html_a6e547704da4b9f6398bd8e6510a6929a"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#a6e547704da4b9f6398bd8e6510a6929a">ElunaEventProcessor::AddEvent</a></div><div class="ttdeci">void AddEvent(int funcRef, uint32 min, uint32 max, uint32 repeats)</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.cpp:111</div></div>
<div class="ttc" id="astructLuaEvent_html"><div class="ttname"><a href="../../d4/d83/structLuaEvent.html">LuaEvent</a></div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:38</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">AddEvent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00111">AddEvent()</a>, <a class="el" href="../../#l01584">LuaGlobalFunctions::CreateLuaEvent()</a>, <a class="el" href="../../#l00867">LuaWorldObject::RegisterEvent()</a>, and <a class="el" href="../../#l00042">Update()</a>.</p>

</div>
</div>
<a id="a9777b4211f65d0699e6469f48c56294e" name="a9777b4211f65d0699e6469f48c56294e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9777b4211f65d0699e6469f48c56294e">&#9670;&#160;</a></span>AddEvent() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ElunaEventProcessor::AddEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a> *&#160;</td>
          <td class="paramname"><em>luaEvent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  105</span>{</div>
<div class="line"><span class="lineno">  106</span>    luaEvent-&gt;<a class="code hl_function" href="../../d4/d83/structLuaEvent.html#a61cd42e00e37395f299b1aaa5dde78b2">GenerateDelay</a>();</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.insert(std::pair&lt;uint64, LuaEvent*&gt;(<a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a470bde85a553bd76b24f2492888eb905">m_time</a> + luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#ad61f39f9a7234d0240f348515aaba76a">delay</a>, luaEvent));</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>[luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#a453602a181eb0108566f3ff7147cca44">funcRef</a>] = luaEvent;</div>
<div class="line"><span class="lineno">  109</span>}</div>
<div class="ttc" id="aclassElunaEventProcessor_html_a2273b379139d0ce3b9887ce931ac9f41"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">ElunaEventProcessor::eventList</a></div><div class="ttdeci">EventList eventList</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:86</div></div>
<div class="ttc" id="aclassElunaEventProcessor_html_a8feb7e4c6cc2cfb4be3f0ef388391883"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">ElunaEventProcessor::eventMap</a></div><div class="ttdeci">EventMap eventMap</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:80</div></div>
<div class="ttc" id="astructLuaEvent_html_a453602a181eb0108566f3ff7147cca44"><div class="ttname"><a href="../../d4/d83/structLuaEvent.html#a453602a181eb0108566f3ff7147cca44">LuaEvent::funcRef</a></div><div class="ttdeci">int funcRef</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:59</div></div>
<div class="ttc" id="astructLuaEvent_html_a61cd42e00e37395f299b1aaa5dde78b2"><div class="ttname"><a href="../../d4/d83/structLuaEvent.html#a61cd42e00e37395f299b1aaa5dde78b2">LuaEvent::GenerateDelay</a></div><div class="ttdeci">void GenerateDelay()</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:50</div></div>
<div class="ttc" id="astructLuaEvent_html_ad61f39f9a7234d0240f348515aaba76a"><div class="ttname"><a href="../../d4/d83/structLuaEvent.html#ad61f39f9a7234d0240f348515aaba76a">LuaEvent::delay</a></div><div class="ttdeci">uint32 delay</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:57</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00057">LuaEvent::delay</a>, <a class="el" href="../../#l00086">eventList</a>, <a class="el" href="../../#l00080">eventMap</a>, <a class="el" href="../../#l00059">LuaEvent::funcRef</a>, <a class="el" href="../../#l00050">LuaEvent::GenerateDelay()</a>, and <a class="el" href="../../#l00087">m_time</a>.</p>

</div>
</div>
<a id="a07b36c2328c9b63b717f03f8c92c94d6" name="a07b36c2328c9b63b717f03f8c92c94d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b36c2328c9b63b717f03f8c92c94d6">&#9670;&#160;</a></span>RemoveEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ElunaEventProcessor::RemoveEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d83/structLuaEvent.html">LuaEvent</a> *&#160;</td>
          <td class="paramname"><em>luaEvent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  117</span>{</div>
<div class="line"><span class="lineno">  118</span>    <span class="comment">// Unreference if should and if Eluna was not yet uninitialized and if the lua state still exists</span></div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> (luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#a05c96b38779dba1b7251967142976f90">state</a> != <a class="code hl_enumvalue" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386fad07f54254414a432cd697de3f267f3f5">LUAEVENT_STATE_ERASE</a> &amp;&amp; <a class="code hl_function" href="../../d7/dc2/classEluna.html#acf76665c783cc7de1453ec6fe0e45832">Eluna::IsInitialized</a>() &amp;&amp; (*E)-&gt;HasLuaState())</div>
<div class="line"><span class="lineno">  120</span>    {</div>
<div class="line"><span class="lineno">  121</span>        <span class="comment">// Free lua function ref</span></div>
<div class="line"><span class="lineno">  122</span>        <a class="code hl_function" href="../../da/d29/lauxlib_8h.html#a6200030ecae784852045161274501e0e">luaL_unref</a>((*E)-&gt;L, <a class="code hl_define" href="../../da/dd2/lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">LUA_REGISTRYINDEX</a>, luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#a453602a181eb0108566f3ff7147cca44">funcRef</a>);</div>
<div class="line"><span class="lineno">  123</span>    }</div>
<div class="line"><span class="lineno">  124</span>    <span class="keyword">delete</span> luaEvent;</div>
<div class="line"><span class="lineno">  125</span>}</div>
<div class="ttc" id="aElunaEventMgr_8h_html_a01b6fa6ef8826b475ec723c086cd386fad07f54254414a432cd697de3f267f3f5"><div class="ttname"><a href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386fad07f54254414a432cd697de3f267f3f5">LUAEVENT_STATE_ERASE</a></div><div class="ttdeci">@ LUAEVENT_STATE_ERASE</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:34</div></div>
<div class="ttc" id="alauxlib_8h_html_a6200030ecae784852045161274501e0e"><div class="ttname"><a href="../../da/d29/lauxlib_8h.html#a6200030ecae784852045161274501e0e">luaL_unref</a></div><div class="ttdeci">LUALIB_API void() luaL_unref(lua_State *L, int t, int ref)</div></div>
<div class="ttc" id="alua_8h_html_a3524c2bbc8fcf847dc083246b62945dd"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">LUA_REGISTRYINDEX</a></div><div class="ttdeci">#define LUA_REGISTRYINDEX</div><div class="ttdef"><b>Definition</b> lua.h:40</div></div>
<div class="ttc" id="astructLuaEvent_html_a05c96b38779dba1b7251967142976f90"><div class="ttname"><a href="../../d4/d83/structLuaEvent.html#a05c96b38779dba1b7251967142976f90">LuaEvent::state</a></div><div class="ttdeci">LuaEventState state</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:60</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00059">LuaEvent::funcRef</a>, <a class="el" href="../../#l00272">Eluna::IsInitialized()</a>, <a class="el" href="../../#l00040">LUA_REGISTRYINDEX</a>, <a class="el" href="../../#l00034">LUAEVENT_STATE_ERASE</a>, <a class="el" href="../../da/d29/lauxlib_8h.html#a6200030ecae784852045161274501e0e">luaL_unref()</a>, and <a class="el" href="../../#l00060">LuaEvent::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00080">RemoveEvents_internal()</a>, and <a class="el" href="../../#l00042">Update()</a>.</p>

</div>
</div>
<a id="a0cfe1948cd48e4b95038a3a70ec8df23" name="a0cfe1948cd48e4b95038a3a70ec8df23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfe1948cd48e4b95038a3a70ec8df23">&#9670;&#160;</a></span>RemoveEvents_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ElunaEventProcessor::RemoveEvents_internal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   81</span>{</div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">//if (!final)</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="comment">//{</span></div>
<div class="line"><span class="lineno">   84</span>    <span class="comment">//    for (EventList::iterator it = eventList.begin(); it != eventList.end(); ++it)</span></div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">//        it-&gt;second-&gt;to_Abort = true;</span></div>
<div class="line"><span class="lineno">   86</span>    <span class="comment">//    return;</span></div>
<div class="line"><span class="lineno">   87</span>    <span class="comment">//}</span></div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">for</span> (EventList::iterator it = <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.begin(); it != <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.end(); ++it)</div>
<div class="line"><span class="lineno">   90</span>        <a class="code hl_function" href="../../df/d58/classElunaEventProcessor.html#a07b36c2328c9b63b717f03f8c92c94d6">RemoveEvent</a>(it-&gt;second);</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.clear();</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>.clear();</div>
<div class="line"><span class="lineno">   94</span>}</div>
<div class="ttc" id="aclassElunaEventProcessor_html_a07b36c2328c9b63b717f03f8c92c94d6"><div class="ttname"><a href="../../df/d58/classElunaEventProcessor.html#a07b36c2328c9b63b717f03f8c92c94d6">ElunaEventProcessor::RemoveEvent</a></div><div class="ttdeci">void RemoveEvent(LuaEvent *luaEvent)</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.cpp:116</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00086">eventList</a>, <a class="el" href="../../#l00080">eventMap</a>, and <a class="el" href="../../#l00116">RemoveEvent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00027">~ElunaEventProcessor()</a>, and <a class="el" href="../../#l00131">EventMgr::~EventMgr()</a>.</p>

</div>
</div>
<a id="aa2169272cf1a7063349f857f0742f9a0" name="aa2169272cf1a7063349f857f0742f9a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2169272cf1a7063349f857f0742f9a0">&#9670;&#160;</a></span>SetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElunaEventProcessor::SetState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>eventId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386f">LuaEventState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>.find(eventId) != <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>.end())</div>
<div class="line"><span class="lineno">   99</span>        <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>[eventId]-&gt;SetState(state);</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> (state == <a class="code hl_enumvalue" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386fad07f54254414a432cd697de3f267f3f5">LUAEVENT_STATE_ERASE</a>)</div>
<div class="line"><span class="lineno">  101</span>        <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>.erase(eventId);</div>
<div class="line"><span class="lineno">  102</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00080">eventMap</a>, and <a class="el" href="../../#l00034">LUAEVENT_STATE_ERASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01621">LuaGlobalFunctions::RemoveEventById()</a>, <a class="el" href="../../#l00903">LuaWorldObject::RemoveEventById()</a>, and <a class="el" href="../../#l00153">EventMgr::SetState()</a>.</p>

</div>
</div>
<a id="a47e4f9f8207129d7f56abeeb21da02d0" name="a47e4f9f8207129d7f56abeeb21da02d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47e4f9f8207129d7f56abeeb21da02d0">&#9670;&#160;</a></span>SetStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElunaEventProcessor::SetStates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386f">LuaEventState</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">for</span> (EventList::iterator it = <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.begin(); it != <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.end(); ++it)</div>
<div class="line"><span class="lineno">   75</span>        it-&gt;second-&gt;SetState(state);</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (state == <a class="code hl_enumvalue" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386fad07f54254414a432cd697de3f267f3f5">LUAEVENT_STATE_ERASE</a>)</div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>.clear();</div>
<div class="line"><span class="lineno">   78</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00086">eventList</a>, <a class="el" href="../../#l00080">eventMap</a>, and <a class="el" href="../../#l00034">LUAEVENT_STATE_ERASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00914">LuaWorldObject::RemoveEvents()</a>, <a class="el" href="../../#l01639">LuaGlobalFunctions::RemoveEvents()</a>, and <a class="el" href="../../#l00144">EventMgr::SetStates()</a>.</p>

</div>
</div>
<a id="a82f8cf68f1562bb202b342d9bf9254cc" name="a82f8cf68f1562bb202b342d9bf9254cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82f8cf68f1562bb202b342d9bf9254cc">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElunaEventProcessor::Update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>diff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   43</span>{</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a470bde85a553bd76b24f2492888eb905">m_time</a> += diff;</div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">for</span> (EventList::iterator it = <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.begin(); it != <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.end() &amp;&amp; it-&gt;first &lt;= <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a470bde85a553bd76b24f2492888eb905">m_time</a>; it = <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.begin())</div>
<div class="line"><span class="lineno">   46</span>    {</div>
<div class="line"><span class="lineno">   47</span>        <a class="code hl_struct" href="../../d4/d83/structLuaEvent.html">LuaEvent</a>* luaEvent = it-&gt;second;</div>
<div class="line"><span class="lineno">   48</span>        <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a2273b379139d0ce3b9887ce931ac9f41">eventList</a>.erase(it);</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">if</span> (luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#a05c96b38779dba1b7251967142976f90">state</a> != <a class="code hl_enumvalue" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386fad07f54254414a432cd697de3f267f3f5">LUAEVENT_STATE_ERASE</a>)</div>
<div class="line"><span class="lineno">   51</span>            <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a8feb7e4c6cc2cfb4be3f0ef388391883">eventMap</a>.erase(luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#a453602a181eb0108566f3ff7147cca44">funcRef</a>);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">if</span> (luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#a05c96b38779dba1b7251967142976f90">state</a> == <a class="code hl_enumvalue" href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386faff0a1bb033d299e77f40180c89fd0c38">LUAEVENT_STATE_RUN</a>)</div>
<div class="line"><span class="lineno">   54</span>        {</div>
<div class="line"><span class="lineno">   55</span>            <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> delay = luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#ad61f39f9a7234d0240f348515aaba76a">delay</a>;</div>
<div class="line"><span class="lineno">   56</span>            <span class="keywordtype">bool</span> remove = luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#aecef8cd27d4c6f8aae0f8170163d3a17">repeats</a> == 1;</div>
<div class="line"><span class="lineno">   57</span>            <span class="keywordflow">if</span> (!remove)</div>
<div class="line"><span class="lineno">   58</span>                <a class="code hl_function" href="../../df/d58/classElunaEventProcessor.html#a6e547704da4b9f6398bd8e6510a6929a">AddEvent</a>(luaEvent); <span class="comment">// Reschedule before calling incase RemoveEvents used</span></div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>            <span class="comment">// Call the timed event</span></div>
<div class="line"><span class="lineno">   61</span>            (*E)-&gt;OnTimedEvent(luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#a453602a181eb0108566f3ff7147cca44">funcRef</a>, delay, luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#aecef8cd27d4c6f8aae0f8170163d3a17">repeats</a> ? luaEvent-&gt;<a class="code hl_variable" href="../../d4/d83/structLuaEvent.html#aecef8cd27d4c6f8aae0f8170163d3a17">repeats</a>-- : luaEvent-&gt;repeats, <a class="code hl_variable" href="../../df/d58/classElunaEventProcessor.html#a1eeca87bbeb693213075d2aa3ee20f49">obj</a>);</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">if</span> (!remove)</div>
<div class="line"><span class="lineno">   64</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   65</span>        }</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        <span class="comment">// Event should be deleted (executed last time or set to be aborted)</span></div>
<div class="line"><span class="lineno">   68</span>        <a class="code hl_function" href="../../df/d58/classElunaEventProcessor.html#a07b36c2328c9b63b717f03f8c92c94d6">RemoveEvent</a>(luaEvent);</div>
<div class="line"><span class="lineno">   69</span>    }</div>
<div class="line"><span class="lineno">   70</span>}</div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition</b> Define.h:107</div></div>
<div class="ttc" id="aElunaEventMgr_8h_html_a01b6fa6ef8826b475ec723c086cd386faff0a1bb033d299e77f40180c89fd0c38"><div class="ttname"><a href="../../d7/dc0/ElunaEventMgr_8h.html#a01b6fa6ef8826b475ec723c086cd386faff0a1bb033d299e77f40180c89fd0c38">LUAEVENT_STATE_RUN</a></div><div class="ttdeci">@ LUAEVENT_STATE_RUN</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:32</div></div>
<div class="ttc" id="astructLuaEvent_html_aecef8cd27d4c6f8aae0f8170163d3a17"><div class="ttname"><a href="../../d4/d83/structLuaEvent.html#aecef8cd27d4c6f8aae0f8170163d3a17">LuaEvent::repeats</a></div><div class="ttdeci">uint32 repeats</div><div class="ttdef"><b>Definition</b> ElunaEventMgr.h:58</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">AddEvent()</a>, <a class="el" href="../../#l00057">LuaEvent::delay</a>, <a class="el" href="../../#l00086">eventList</a>, <a class="el" href="../../#l00080">eventMap</a>, <a class="el" href="../../#l00059">LuaEvent::funcRef</a>, <a class="el" href="../../#l00034">LUAEVENT_STATE_ERASE</a>, <a class="el" href="../../#l00032">LUAEVENT_STATE_RUN</a>, <a class="el" href="../../#l00087">m_time</a>, <a class="el" href="../../#l00088">obj</a>, <a class="el" href="../../#l00116">RemoveEvent()</a>, <a class="el" href="../../#l00058">LuaEvent::repeats</a>, and <a class="el" href="../../#l00060">LuaEvent::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00865">Eluna_UnitScript::OnUnitUpdate()</a>, <a class="el" href="../../#l00315">Eluna::OnWorldUpdate()</a>, and <a class="el" href="../../#l00043">Eluna::UpdateAI()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="ac6c441f50f473ecd706002e9a8634532" name="ac6c441f50f473ecd706002e9a8634532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c441f50f473ecd706002e9a8634532">&#9670;&#160;</a></span>EventMgr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../d9/dda/classEventMgr.html">EventMgr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac38aa81594aa302206499f5c321bbe7b" name="ac38aa81594aa302206499f5c321bbe7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac38aa81594aa302206499f5c321bbe7b">&#9670;&#160;</a></span>E</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc2/classEluna.html">Eluna</a>** ElunaEventProcessor::E</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2273b379139d0ce3b9887ce931ac9f41" name="a2273b379139d0ce3b9887ce931ac9f41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2273b379139d0ce3b9887ce931ac9f41">&#9670;&#160;</a></span>eventList</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a4c4ef16173900df55b5f0cc7900452d3">EventList</a> ElunaEventProcessor::eventList</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00104">AddEvent()</a>, <a class="el" href="../../#l00080">RemoveEvents_internal()</a>, <a class="el" href="../../#l00072">SetStates()</a>, and <a class="el" href="../../#l00042">Update()</a>.</p>

</div>
</div>
<a id="a8feb7e4c6cc2cfb4be3f0ef388391883" name="a8feb7e4c6cc2cfb4be3f0ef388391883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8feb7e4c6cc2cfb4be3f0ef388391883">&#9670;&#160;</a></span>eventMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d58/classElunaEventProcessor.html#a910e368e4adc7ed2c8bbdaa2bf67fe65">EventMap</a> ElunaEventProcessor::eventMap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00104">AddEvent()</a>, <a class="el" href="../../#l00080">RemoveEvents_internal()</a>, <a class="el" href="../../#l00096">SetState()</a>, <a class="el" href="../../#l00072">SetStates()</a>, and <a class="el" href="../../#l00042">Update()</a>.</p>

</div>
</div>
<a id="a470bde85a553bd76b24f2492888eb905" name="a470bde85a553bd76b24f2492888eb905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470bde85a553bd76b24f2492888eb905">&#9670;&#160;</a></span>m_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> ElunaEventProcessor::m_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00104">AddEvent()</a>, and <a class="el" href="../../#l00042">Update()</a>.</p>

</div>
</div>
<a id="a1eeca87bbeb693213075d2aa3ee20f49" name="a1eeca87bbeb693213075d2aa3ee20f49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eeca87bbeb693213075d2aa3ee20f49">&#9670;&#160;</a></span>obj</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd0/classWorldObject.html">WorldObject</a>* ElunaEventProcessor::obj</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00017">ElunaEventProcessor()</a>, <a class="el" href="../../#l00042">Update()</a>, and <a class="el" href="../../#l00027">~ElunaEventProcessor()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>mod-eluna/src/LuaEngine/<a class="el" href="../../">ElunaEventMgr.h</a></li>
<li>mod-eluna/src/LuaEngine/<a class="el" href="../../">ElunaEventMgr.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d58/classElunaEventProcessor.html">ElunaEventProcessor</a></li>
    <li class="footer">Generated on Sun Jan 5 2025 00:31:19 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
