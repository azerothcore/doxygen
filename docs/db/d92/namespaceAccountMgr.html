<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>AzerothCore Doxygen</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('db/d92/namespaceAccountMgr.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">AccountMgr Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7a7668ab60ae56c7e71fce77780bb214" id="r_a7a7668ab60ae56c7e71fce77780bb214"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a7a7668ab60ae56c7e71fce77780bb214">CreateAccount</a> (std::string username, std::string password)</td></tr>
<tr class="separator:a7a7668ab60ae56c7e71fce77780bb214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a6c83e2d4e6121855beb252f23c905b" id="r_a2a6c83e2d4e6121855beb252f23c905b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a2a6c83e2d4e6121855beb252f23c905b">ChangeEmail</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, std::string newEmail)</td></tr>
<tr class="separator:a2a6c83e2d4e6121855beb252f23c905b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120323b16b2a5aefa6aa69e8be5ccef6" id="r_a120323b16b2a5aefa6aa69e8be5ccef6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a120323b16b2a5aefa6aa69e8be5ccef6">DeleteAccount</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId)</td></tr>
<tr class="separator:a120323b16b2a5aefa6aa69e8be5ccef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3382c6430bfbf14e32ca11b5ac68fc23" id="r_a3382c6430bfbf14e32ca11b5ac68fc23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a3382c6430bfbf14e32ca11b5ac68fc23">ChangeUsername</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, std::string newUsername, std::string newPassword)</td></tr>
<tr class="separator:a3382c6430bfbf14e32ca11b5ac68fc23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9cb892c15d78b5de65738005234ff6" id="r_a6a9cb892c15d78b5de65738005234ff6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a6a9cb892c15d78b5de65738005234ff6">ChangePassword</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, std::string newPassword)</td></tr>
<tr class="separator:a6a9cb892c15d78b5de65738005234ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa215c9a96c37b8a5d76d980ecf8de114" id="r_aa215c9a96c37b8a5d76d980ecf8de114"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#aa215c9a96c37b8a5d76d980ecf8de114">GetId</a> (std::string const &amp;username)</td></tr>
<tr class="separator:aa215c9a96c37b8a5d76d980ecf8de114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8280510b2564ec6ea76727218c1687b3" id="r_a8280510b2564ec6ea76727218c1687b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a8280510b2564ec6ea76727218c1687b3">GetSecurity</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId)</td></tr>
<tr class="separator:a8280510b2564ec6ea76727218c1687b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b6e5cf1733f0143f86aaeff600215c" id="r_a30b6e5cf1733f0143f86aaeff600215c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a30b6e5cf1733f0143f86aaeff600215c">GetSecurity</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, <a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> realmId)</td></tr>
<tr class="separator:a30b6e5cf1733f0143f86aaeff600215c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af911e3860ec519c541d6df35468ee41b" id="r_af911e3860ec519c541d6df35468ee41b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#af911e3860ec519c541d6df35468ee41b">GetName</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, std::string &amp;name)</td></tr>
<tr class="separator:af911e3860ec519c541d6df35468ee41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c28dfcb31af8f4241bb5210408185a" id="r_a17c28dfcb31af8f4241bb5210408185a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a17c28dfcb31af8f4241bb5210408185a">CheckPassword</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, std::string password)</td></tr>
<tr class="separator:a17c28dfcb31af8f4241bb5210408185a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb760897161c3d463f842b28bcf7c20" id="r_a4fb760897161c3d463f842b28bcf7c20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a4fb760897161c3d463f842b28bcf7c20">GetCharactersCount</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId)</td></tr>
<tr class="separator:a4fb760897161c3d463f842b28bcf7c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63751f144cb7acb57fc20f0caf5e7043" id="r_a63751f144cb7acb57fc20f0caf5e7043"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a63751f144cb7acb57fc20f0caf5e7043">IsPlayerAccount</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> gmlevel)</td></tr>
<tr class="separator:a63751f144cb7acb57fc20f0caf5e7043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb1b210137b09011677c74011addeefa" id="r_adb1b210137b09011677c74011addeefa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#adb1b210137b09011677c74011addeefa">IsAdminAccount</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> gmlevel)</td></tr>
<tr class="separator:adb1b210137b09011677c74011addeefa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bbc2af33211a3130c6aa215f5607b7" id="r_a81bbc2af33211a3130c6aa215f5607b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d92/namespaceAccountMgr.html#a81bbc2af33211a3130c6aa215f5607b7">IsConsoleAccount</a> (<a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> gmlevel)</td></tr>
<tr class="separator:a81bbc2af33211a3130c6aa215f5607b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2a6c83e2d4e6121855beb252f23c905b" name="a2a6c83e2d4e6121855beb252f23c905b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a6c83e2d4e6121855beb252f23c905b">&#9670;&#160;</a></span>ChangeEmail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a> AccountMgr::ChangeEmail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>newEmail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   62</span>    {</div>
<div class="line"><span class="lineno">   63</span>        std::string username;</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d92/namespaceAccountMgr.html#af911e3860ec519c541d6df35468ee41b">GetName</a>(accountId, username))</div>
<div class="line"><span class="lineno">   66</span>        {</div>
<div class="line"><span class="lineno">   67</span>            <a class="code hl_define" href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnFailedEmailChange(accountId);</div>
<div class="line"><span class="lineno">   68</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea05e659ba76ce9dd582551a24f2923b24">AOR_NAME_NOT_EXIST</a>;                          <span class="comment">// account doesn&#39;t exist</span></div>
<div class="line"><span class="lineno">   69</span>        }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/da5/Util_8cpp.html#aa44a42a249be6823b5c7d313d9e019db">utf8length</a>(newEmail) &gt; <a class="code hl_define" href="../../de/dd9/AccountMgr_8h.html#ad64d9bd18bac10ab1af09b042d734c64">MAX_EMAIL_STR</a>)</div>
<div class="line"><span class="lineno">   72</span>        {</div>
<div class="line"><span class="lineno">   73</span>            <a class="code hl_define" href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnFailedEmailChange(accountId);</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaaf639a81cbf8cf6bd685e34d73e895a1">AOR_EMAIL_TOO_LONG</a>;                           <span class="comment">// email&#39;s too long</span></div>
<div class="line"><span class="lineno">   75</span>        }</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(newEmail);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba0d58bd022a55ac9c5a9be4c1443b2bf3">LOGIN_UPD_EMAIL</a>);</div>
<div class="line"><span class="lineno">   80</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, newEmail);</div>
<div class="line"><span class="lineno">   81</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, accountId);</div>
<div class="line"><span class="lineno">   82</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <a class="code hl_define" href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnEmailChange(accountId);</div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea73449863bb0d97def55bd65307e97f18">AOR_OK</a>;</div>
<div class="line"><span class="lineno">   86</span>    }</div>
<div class="ttc" id="aAccountMgr_8h_html_a0161874ada0cecbbd1fd5d31da73703ea05e659ba76ce9dd582551a24f2923b24"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea05e659ba76ce9dd582551a24f2923b24">AOR_NAME_NOT_EXIST</a></div><div class="ttdeci">@ AOR_NAME_NOT_EXIST</div><div class="ttdef"><b>Definition</b> AccountMgr.h:31</div></div>
<div class="ttc" id="aAccountMgr_8h_html_a0161874ada0cecbbd1fd5d31da73703ea73449863bb0d97def55bd65307e97f18"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea73449863bb0d97def55bd65307e97f18">AOR_OK</a></div><div class="ttdeci">@ AOR_OK</div><div class="ttdef"><b>Definition</b> AccountMgr.h:26</div></div>
<div class="ttc" id="aAccountMgr_8h_html_a0161874ada0cecbbd1fd5d31da73703eaaf639a81cbf8cf6bd685e34d73e895a1"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaaf639a81cbf8cf6bd685e34d73e895a1">AOR_EMAIL_TOO_LONG</a></div><div class="ttdeci">@ AOR_EMAIL_TOO_LONG</div><div class="ttdef"><b>Definition</b> AccountMgr.h:29</div></div>
<div class="ttc" id="aAccountMgr_8h_html_ad64d9bd18bac10ab1af09b042d734c64"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#ad64d9bd18bac10ab1af09b042d734c64">MAX_EMAIL_STR</a></div><div class="ttdeci">#define MAX_EMAIL_STR</div><div class="ttdef"><b>Definition</b> AccountMgr.h:37</div></div>
<div class="ttc" id="aDatabaseEnv_8cpp_html_a2cf25eafe7f2f73b61ccde11d55daf0c"><div class="ttname"><a href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; LoginDatabaseConnection &gt; LoginDatabase</div><div class="ttdoc">Accessor to the realm/login database.</div><div class="ttdef"><b>Definition</b> DatabaseEnv.cpp:22</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba0d58bd022a55ac9c5a9be4c1443b2bf3"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba0d58bd022a55ac9c5a9be4c1443b2bf3">LOGIN_UPD_EMAIL</a></div><div class="ttdeci">@ LOGIN_UPD_EMAIL</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:70</div></div>
<div class="ttc" id="aScriptMgr_8h_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition</b> ScriptMgr.h:725</div></div>
<div class="ttc" id="aUtil_8cpp_html_a589bbb62b3f6aadebe49b4140446fb57"><div class="ttname"><a href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a></div><div class="ttdeci">bool Utf8ToUpperOnlyLatin(std::string &amp;utf8String)</div><div class="ttdef"><b>Definition</b> Util.cpp:532</div></div>
<div class="ttc" id="aUtil_8cpp_html_aa44a42a249be6823b5c7d313d9e019db"><div class="ttname"><a href="../../d9/da5/Util_8cpp.html#aa44a42a249be6823b5c7d313d9e019db">utf8length</a></div><div class="ttdeci">std::size_t utf8length(std::string &amp;utf8str)</div><div class="ttdef"><b>Definition</b> Util.cpp:245</div></div>
<div class="ttc" id="aclassPreparedStatementBase_html_a52fc2e65042c1db51f0923725a0f0ed0"><div class="ttname"><a href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">PreparedStatementBase::SetData</a></div><div class="ttdeci">Acore::Types::is_default&lt; T &gt; SetData(const uint8 index, T value)</div><div class="ttdef"><b>Definition</b> PreparedStatement.h:77</div></div>
<div class="ttc" id="aclassPreparedStatement_html"><div class="ttname"><a href="../../d7/d0f/classPreparedStatement.html">PreparedStatement</a></div><div class="ttdef"><b>Definition</b> PreparedStatement.h:157</div></div>
<div class="ttc" id="anamespaceAccountMgr_html_af911e3860ec519c541d6df35468ee41b"><div class="ttname"><a href="../../db/d92/namespaceAccountMgr.html#af911e3860ec519c541d6df35468ee41b">AccountMgr::GetName</a></div><div class="ttdeci">bool GetName(uint32 accountId, std::string &amp;name)</div><div class="ttdef"><b>Definition</b> AccountMgr.cpp:257</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00029">AOR_EMAIL_TOO_LONG</a>, <a class="el" href="../../#l00031">AOR_NAME_NOT_EXIST</a>, <a class="el" href="../../#l00026">AOR_OK</a>, <a class="el" href="../../#l00257">GetName()</a>, <a class="el" href="../../#l00070">LOGIN_UPD_EMAIL</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00037">MAX_EMAIL_STR</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00725">sScriptMgr</a>, <a class="el" href="../../#l00245">utf8length()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00906">account_commandscript::HandleAccountSetEmailCommand()</a>.</p>

</div>
</div>
<a id="a6a9cb892c15d78b5de65738005234ff6" name="a6a9cb892c15d78b5de65738005234ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9cb892c15d78b5de65738005234ff6">&#9670;&#160;</a></span>ChangePassword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a> AccountMgr::ChangePassword </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>newPassword</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  199</span>    {</div>
<div class="line"><span class="lineno">  200</span>        std::string username;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d92/namespaceAccountMgr.html#af911e3860ec519c541d6df35468ee41b">GetName</a>(accountId, username))</div>
<div class="line"><span class="lineno">  203</span>        {</div>
<div class="line"><span class="lineno">  204</span>            <a class="code hl_define" href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnFailedPasswordChange(accountId);</div>
<div class="line"><span class="lineno">  205</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea05e659ba76ce9dd582551a24f2923b24">AOR_NAME_NOT_EXIST</a>;                          <span class="comment">// account doesn&#39;t exist</span></div>
<div class="line"><span class="lineno">  206</span>        }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/da5/Util_8cpp.html#aa44a42a249be6823b5c7d313d9e019db">utf8length</a>(newPassword) &gt; <a class="code hl_define" href="../../de/dd9/AccountMgr_8h.html#a45827712253b6d66092106cef5ae724b">MAX_PASS_STR</a>)</div>
<div class="line"><span class="lineno">  209</span>        {</div>
<div class="line"><span class="lineno">  210</span>            <a class="code hl_define" href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnFailedEmailChange(accountId);</div>
<div class="line"><span class="lineno">  211</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaed91b79b9e639b8f988c5f06fcfd901c">AOR_PASS_TOO_LONG</a>;                           <span class="comment">// password&#39;s too long</span></div>
<div class="line"><span class="lineno">  212</span>        }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(username);</div>
<div class="line"><span class="lineno">  215</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(newPassword);</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        <span class="keyword">auto</span> [salt, verifier] = <a class="code hl_function" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a7b6fd9e89b01f65dcc8ff4a2bef189f5">Acore::Crypto::SRP6::MakeRegistrationData</a>(username, newPassword);</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba8023a1457ae0dbe6e10a6f0911877a86">LOGIN_UPD_LOGON</a>);</div>
<div class="line"><span class="lineno">  220</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, salt);</div>
<div class="line"><span class="lineno">  221</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, verifier);</div>
<div class="line"><span class="lineno">  222</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(2, accountId);</div>
<div class="line"><span class="lineno">  223</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_define" href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnPasswordChange(accountId);</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea73449863bb0d97def55bd65307e97f18">AOR_OK</a>;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="ttc" id="aAccountMgr_8h_html_a0161874ada0cecbbd1fd5d31da73703eaed91b79b9e639b8f988c5f06fcfd901c"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaed91b79b9e639b8f988c5f06fcfd901c">AOR_PASS_TOO_LONG</a></div><div class="ttdeci">@ AOR_PASS_TOO_LONG</div><div class="ttdef"><b>Definition</b> AccountMgr.h:28</div></div>
<div class="ttc" id="aAccountMgr_8h_html_a45827712253b6d66092106cef5ae724b"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a45827712253b6d66092106cef5ae724b">MAX_PASS_STR</a></div><div class="ttdeci">#define MAX_PASS_STR</div><div class="ttdef"><b>Definition</b> AccountMgr.h:36</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba8023a1457ae0dbe6e10a6f0911877a86"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba8023a1457ae0dbe6e10a6f0911877a86">LOGIN_UPD_LOGON</a></div><div class="ttdeci">@ LOGIN_UPD_LOGON</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:42</div></div>
<div class="ttc" id="aclassAcore_1_1Crypto_1_1SRP6_html_a7b6fd9e89b01f65dcc8ff4a2bef189f5"><div class="ttname"><a href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a7b6fd9e89b01f65dcc8ff4a2bef189f5">Acore::Crypto::SRP6::MakeRegistrationData</a></div><div class="ttdeci">static std::pair&lt; Salt, Verifier &gt; MakeRegistrationData(std::string const &amp;username, std::string const &amp;password)</div><div class="ttdef"><b>Definition</b> SRP6.cpp:31</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00031">AOR_NAME_NOT_EXIST</a>, <a class="el" href="../../#l00026">AOR_OK</a>, <a class="el" href="../../#l00028">AOR_PASS_TOO_LONG</a>, <a class="el" href="../../#l00257">GetName()</a>, <a class="el" href="../../#l00042">LOGIN_UPD_LOGON</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00031">Acore::Crypto::SRP6::MakeRegistrationData()</a>, <a class="el" href="../../#l00036">MAX_PASS_STR</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00725">sScriptMgr</a>, <a class="el" href="../../#l00245">utf8length()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00530">account_commandscript::HandleAccountPasswordCommand()</a>, and <a class="el" href="../../#l00847">account_commandscript::HandleAccountSetPasswordCommand()</a>.</p>

</div>
</div>
<a id="a3382c6430bfbf14e32ca11b5ac68fc23" name="a3382c6430bfbf14e32ca11b5ac68fc23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3382c6430bfbf14e32ca11b5ac68fc23">&#9670;&#160;</a></span>ChangeUsername()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a> AccountMgr::ChangeUsername </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>newUsername</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>newPassword</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  165</span>    {</div>
<div class="line"><span class="lineno">  166</span>        <span class="comment">// Check if accounts exists</span></div>
<div class="line"><span class="lineno">  167</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba2fb0f2c93d8fe9e54cd3b069ecf8f3d8">LOGIN_SEL_ACCOUNT_BY_ID</a>);</div>
<div class="line"><span class="lineno">  168</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  172</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea05e659ba76ce9dd582551a24f2923b24">AOR_NAME_NOT_EXIST</a>;</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/da5/Util_8cpp.html#aa44a42a249be6823b5c7d313d9e019db">utf8length</a>(newUsername) &gt; <a class="code hl_define" href="../../de/dd9/AccountMgr_8h.html#a134ebf22666a6525929447b2d869d400">MAX_ACCOUNT_STR</a>)</div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaec4fb519d9e6032adc269ca4a27c38f4">AOR_NAME_TOO_LONG</a>;</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/da5/Util_8cpp.html#aa44a42a249be6823b5c7d313d9e019db">utf8length</a>(newPassword) &gt; <a class="code hl_define" href="../../de/dd9/AccountMgr_8h.html#a45827712253b6d66092106cef5ae724b">MAX_PASS_STR</a>)</div>
<div class="line"><span class="lineno">  178</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaed91b79b9e639b8f988c5f06fcfd901c">AOR_PASS_TOO_LONG</a>;                           <span class="comment">// password&#39;s too long</span></div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(newUsername);</div>
<div class="line"><span class="lineno">  181</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(newPassword);</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>        stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba5a9324a37ef24f3d2131dd3a24960d0a">LOGIN_UPD_USERNAME</a>);</div>
<div class="line"><span class="lineno">  184</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, newUsername);</div>
<div class="line"><span class="lineno">  185</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, accountId);</div>
<div class="line"><span class="lineno">  186</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>        <span class="keyword">auto</span> [salt, verifier] = <a class="code hl_function" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a7b6fd9e89b01f65dcc8ff4a2bef189f5">Acore::Crypto::SRP6::MakeRegistrationData</a>(newUsername, newPassword);</div>
<div class="line"><span class="lineno">  189</span>        stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba8023a1457ae0dbe6e10a6f0911877a86">LOGIN_UPD_LOGON</a>);</div>
<div class="line"><span class="lineno">  190</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, salt);</div>
<div class="line"><span class="lineno">  191</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, verifier);</div>
<div class="line"><span class="lineno">  192</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(2, accountId);</div>
<div class="line"><span class="lineno">  193</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea73449863bb0d97def55bd65307e97f18">AOR_OK</a>;</div>
<div class="line"><span class="lineno">  196</span>    }</div>
<div class="ttc" id="aAccountMgr_8h_html_a0161874ada0cecbbd1fd5d31da73703eaec4fb519d9e6032adc269ca4a27c38f4"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaec4fb519d9e6032adc269ca4a27c38f4">AOR_NAME_TOO_LONG</a></div><div class="ttdeci">@ AOR_NAME_TOO_LONG</div><div class="ttdef"><b>Definition</b> AccountMgr.h:27</div></div>
<div class="ttc" id="aAccountMgr_8h_html_a134ebf22666a6525929447b2d869d400"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a134ebf22666a6525929447b2d869d400">MAX_ACCOUNT_STR</a></div><div class="ttdeci">#define MAX_ACCOUNT_STR</div><div class="ttdef"><b>Definition</b> AccountMgr.h:35</div></div>
<div class="ttc" id="aDatabaseEnvFwd_8h_html_ac6110b8d867b5f84f677555d07037acb"><div class="ttname"><a href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; PreparedResultSet &gt; PreparedQueryResult</div><div class="ttdef"><b>Definition</b> DatabaseEnvFwd.h:45</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba2fb0f2c93d8fe9e54cd3b069ecf8f3d8"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba2fb0f2c93d8fe9e54cd3b069ecf8f3d8">LOGIN_SEL_ACCOUNT_BY_ID</a></div><div class="ttdeci">@ LOGIN_SEL_ACCOUNT_BY_ID</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:59</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba5a9324a37ef24f3d2131dd3a24960d0a"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba5a9324a37ef24f3d2131dd3a24960d0a">LOGIN_UPD_USERNAME</a></div><div class="ttdeci">@ LOGIN_UPD_USERNAME</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:71</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00031">AOR_NAME_NOT_EXIST</a>, <a class="el" href="../../#l00027">AOR_NAME_TOO_LONG</a>, <a class="el" href="../../#l00026">AOR_OK</a>, <a class="el" href="../../#l00028">AOR_PASS_TOO_LONG</a>, <a class="el" href="../../#l00059">LOGIN_SEL_ACCOUNT_BY_ID</a>, <a class="el" href="../../#l00042">LOGIN_UPD_LOGON</a>, <a class="el" href="../../#l00071">LOGIN_UPD_USERNAME</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00031">Acore::Crypto::SRP6::MakeRegistrationData()</a>, <a class="el" href="../../#l00035">MAX_ACCOUNT_STR</a>, <a class="el" href="../../#l00036">MAX_PASS_STR</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00245">utf8length()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

</div>
</div>
<a id="a17c28dfcb31af8f4241bb5210408185a" name="a17c28dfcb31af8f4241bb5210408185a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17c28dfcb31af8f4241bb5210408185a">&#9670;&#160;</a></span>CheckPassword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AccountMgr::CheckPassword </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  273</span>    {</div>
<div class="line"><span class="lineno">  274</span>        std::string username;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d92/namespaceAccountMgr.html#af911e3860ec519c541d6df35468ee41b">GetName</a>(accountId, username))</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(username);</div>
<div class="line"><span class="lineno">  280</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(password);</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbabd342f1390eb9392440e8b7fbfa781c1">LOGIN_SEL_CHECK_PASSWORD</a>);</div>
<div class="line"><span class="lineno">  283</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt))</div>
<div class="line"><span class="lineno">  285</span>        {</div>
<div class="line"><span class="lineno">  286</span>            <a class="code hl_typedef" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a757f8fd19ebecda921e4e42f65586f9f">Acore::Crypto::SRP6::Salt</a> salt = (*result)[0].Get&lt;<a class="code hl_typedef" href="../../d8/db3/Field_8h.html#a45c2b15f675e85c1f4462be09f27c59e">Binary</a>, <a class="code hl_variable" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#add5273640d1504c69395c71d495a3deb">Acore::Crypto::SRP6::SALT_LENGTH</a>&gt;();</div>
<div class="line"><span class="lineno">  287</span>            <a class="code hl_typedef" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#ab771d05cb201bbdc3c20a5cb087a023e">Acore::Crypto::SRP6::Verifier</a> verifier = (*result)[1].Get&lt;<a class="code hl_typedef" href="../../d8/db3/Field_8h.html#a45c2b15f675e85c1f4462be09f27c59e">Binary</a>, <a class="code hl_variable" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a3a7f44395bcbc849665897c3d7db59d5">Acore::Crypto::SRP6::VERIFIER_LENGTH</a>&gt;();</div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a790d7883ae0685bf2135d83edeb29121">Acore::Crypto::SRP6::CheckLogin</a>(username, password, salt, verifier))</div>
<div class="line"><span class="lineno">  289</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  290</span>        }</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="ttc" id="aField_8h_html_a45c2b15f675e85c1f4462be09f27c59e"><div class="ttname"><a href="../../d8/db3/Field_8h.html#a45c2b15f675e85c1f4462be09f27c59e">Binary</a></div><div class="ttdeci">std::vector&lt; uint8 &gt; Binary</div><div class="ttdef"><b>Definition</b> Field.h:40</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fbabd342f1390eb9392440e8b7fbfa781c1"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbabd342f1390eb9392440e8b7fbfa781c1">LOGIN_SEL_CHECK_PASSWORD</a></div><div class="ttdeci">@ LOGIN_SEL_CHECK_PASSWORD</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:86</div></div>
<div class="ttc" id="aclassAcore_1_1Crypto_1_1SRP6_html_a3a7f44395bcbc849665897c3d7db59d5"><div class="ttname"><a href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a3a7f44395bcbc849665897c3d7db59d5">Acore::Crypto::SRP6::VERIFIER_LENGTH</a></div><div class="ttdeci">static constexpr std::size_t VERIFIER_LENGTH</div><div class="ttdef"><b>Definition</b> SRP6.h:34</div></div>
<div class="ttc" id="aclassAcore_1_1Crypto_1_1SRP6_html_a757f8fd19ebecda921e4e42f65586f9f"><div class="ttname"><a href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a757f8fd19ebecda921e4e42f65586f9f">Acore::Crypto::SRP6::Salt</a></div><div class="ttdeci">std::array&lt; uint8, SALT_LENGTH &gt; Salt</div><div class="ttdef"><b>Definition</b> SRP6.h:32</div></div>
<div class="ttc" id="aclassAcore_1_1Crypto_1_1SRP6_html_a790d7883ae0685bf2135d83edeb29121"><div class="ttname"><a href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a790d7883ae0685bf2135d83edeb29121">Acore::Crypto::SRP6::CheckLogin</a></div><div class="ttdeci">static bool CheckLogin(std::string const &amp;username, std::string const &amp;password, Salt const &amp;salt, Verifier const &amp;verifier)</div><div class="ttdef"><b>Definition</b> SRP6.h:47</div></div>
<div class="ttc" id="aclassAcore_1_1Crypto_1_1SRP6_html_ab771d05cb201bbdc3c20a5cb087a023e"><div class="ttname"><a href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#ab771d05cb201bbdc3c20a5cb087a023e">Acore::Crypto::SRP6::Verifier</a></div><div class="ttdeci">std::array&lt; uint8, VERIFIER_LENGTH &gt; Verifier</div><div class="ttdef"><b>Definition</b> SRP6.h:35</div></div>
<div class="ttc" id="aclassAcore_1_1Crypto_1_1SRP6_html_add5273640d1504c69395c71d495a3deb"><div class="ttname"><a href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#add5273640d1504c69395c71d495a3deb">Acore::Crypto::SRP6::SALT_LENGTH</a></div><div class="ttdeci">static constexpr std::size_t SALT_LENGTH</div><div class="ttdef"><b>Definition</b> SRP6.h:31</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00047">Acore::Crypto::SRP6::CheckLogin()</a>, <a class="el" href="../../#l00257">GetName()</a>, <a class="el" href="../../#l00086">LOGIN_SEL_CHECK_PASSWORD</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00031">Acore::Crypto::SRP6::SALT_LENGTH</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>, and <a class="el" href="../../#l00034">Acore::Crypto::SRP6::VERIFIER_LENGTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00530">account_commandscript::HandleAccountPasswordCommand()</a>, and <a class="el" href="../../#l00074">ns1__executeCommand()</a>.</p>

</div>
</div>
<a id="a7a7668ab60ae56c7e71fce77780bb214" name="a7a7668ab60ae56c7e71fce77780bb214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a7668ab60ae56c7e71fce77780bb214">&#9670;&#160;</a></span>CreateAccount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a> AccountMgr::CreateAccount </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   31</span>    {</div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/da5/Util_8cpp.html#aa44a42a249be6823b5c7d313d9e019db">utf8length</a>(username) &gt; <a class="code hl_define" href="../../de/dd9/AccountMgr_8h.html#a134ebf22666a6525929447b2d869d400">MAX_ACCOUNT_STR</a>)</div>
<div class="line"><span class="lineno">   33</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaec4fb519d9e6032adc269ca4a27c38f4">AOR_NAME_TOO_LONG</a>;                           <span class="comment">// username&#39;s too long</span></div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/da5/Util_8cpp.html#aa44a42a249be6823b5c7d313d9e019db">utf8length</a>(password) &gt; <a class="code hl_define" href="../../de/dd9/AccountMgr_8h.html#a45827712253b6d66092106cef5ae724b">MAX_PASS_STR</a>)</div>
<div class="line"><span class="lineno">   36</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eaed91b79b9e639b8f988c5f06fcfd901c">AOR_PASS_TOO_LONG</a>;                           <span class="comment">// password&#39;s too long</span></div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(username);</div>
<div class="line"><span class="lineno">   39</span>        <a class="code hl_function" href="../../d9/da5/Util_8cpp.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(password);</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d92/namespaceAccountMgr.html#aa215c9a96c37b8a5d76d980ecf8de114">GetId</a>(username))</div>
<div class="line"><span class="lineno">   42</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eae0b6297de7a7e8b516f5fc98a4d8750c">AOR_NAME_ALREADY_EXIST</a>;                      <span class="comment">// username does already exist</span></div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbafea3022f0c3639aae2d113fb1ad2a9dd">LOGIN_INS_ACCOUNT</a>);</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, username);</div>
<div class="line"><span class="lineno">   47</span>        <span class="keyword">auto</span> [salt, verifier] = <a class="code hl_function" href="../../dd/d8b/classAcore_1_1Crypto_1_1SRP6.html#a7b6fd9e89b01f65dcc8ff4a2bef189f5">Acore::Crypto::SRP6::MakeRegistrationData</a>(username, password);</div>
<div class="line"><span class="lineno">   48</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, salt);</div>
<div class="line"><span class="lineno">   49</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(2, verifier);</div>
<div class="line"><span class="lineno">   50</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(3, <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_define" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41ad89550cbe9f702ee1088f0221981bc67">CONFIG_EXPANSION</a>)));</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>        stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbaa4cc64163fd79735d084d42bad730fbc">LOGIN_INS_REALM_CHARACTERS_INIT</a>);</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea73449863bb0d97def55bd65307e97f18">AOR_OK</a>;                                          <span class="comment">// everything&#39;s fine</span></div>
<div class="line"><span class="lineno">   59</span>    }</div>
<div class="ttc" id="aAccountMgr_8h_html_a0161874ada0cecbbd1fd5d31da73703eae0b6297de7a7e8b516f5fc98a4d8750c"><div class="ttname"><a href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703eae0b6297de7a7e8b516f5fc98a4d8750c">AOR_NAME_ALREADY_EXIST</a></div><div class="ttdeci">@ AOR_NAME_ALREADY_EXIST</div><div class="ttdef"><b>Definition</b> AccountMgr.h:30</div></div>
<div class="ttc" id="aDefine_8h_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition</b> Define.h:109</div></div>
<div class="ttc" id="aIWorld_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41ad89550cbe9f702ee1088f0221981bc67"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41ad89550cbe9f702ee1088f0221981bc67">CONFIG_EXPANSION</a></div><div class="ttdeci">@ CONFIG_EXPANSION</div><div class="ttdef"><b>Definition</b> IWorld.h:275</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fbaa4cc64163fd79735d084d42bad730fbc"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbaa4cc64163fd79735d084d42bad730fbc">LOGIN_INS_REALM_CHARACTERS_INIT</a></div><div class="ttdeci">@ LOGIN_INS_REALM_CHARACTERS_INIT</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:66</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fbafea3022f0c3639aae2d113fb1ad2a9dd"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbafea3022f0c3639aae2d113fb1ad2a9dd">LOGIN_INS_ACCOUNT</a></div><div class="ttdeci">@ LOGIN_INS_ACCOUNT</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:65</div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition</b> World.h:375</div></div>
<div class="ttc" id="anamespaceAccountMgr_html_aa215c9a96c37b8a5d76d980ecf8de114"><div class="ttname"><a href="../../db/d92/namespaceAccountMgr.html#aa215c9a96c37b8a5d76d980ecf8de114">AccountMgr::GetId</a></div><div class="ttdeci">uint32 GetId(std::string const &amp;username)</div><div class="ttdef"><b>Definition</b> AccountMgr.cpp:229</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00030">AOR_NAME_ALREADY_EXIST</a>, <a class="el" href="../../#l00027">AOR_NAME_TOO_LONG</a>, <a class="el" href="../../#l00026">AOR_OK</a>, <a class="el" href="../../#l00028">AOR_PASS_TOO_LONG</a>, <a class="el" href="../../#l00275">CONFIG_EXPANSION</a>, <a class="el" href="../../#l00229">GetId()</a>, <a class="el" href="../../#l00065">LOGIN_INS_ACCOUNT</a>, <a class="el" href="../../#l00066">LOGIN_INS_REALM_CHARACTERS_INIT</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00031">Acore::Crypto::SRP6::MakeRegistrationData()</a>, <a class="el" href="../../#l00035">MAX_ACCOUNT_STR</a>, <a class="el" href="../../#l00036">MAX_PASS_STR</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00375">sWorld</a>, <a class="el" href="../../#l00245">utf8length()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00273">account_commandscript::HandleAccountCreateCommand()</a>.</p>

</div>
</div>
<a id="a120323b16b2a5aefa6aa69e8be5ccef6" name="a120323b16b2a5aefa6aa69e8be5ccef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120323b16b2a5aefa6aa69e8be5ccef6">&#9670;&#160;</a></span>DeleteAccount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703e">AccountOpResult</a> AccountMgr::DeleteAccount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   89</span>    {</div>
<div class="line"><span class="lineno">   90</span>        <span class="comment">// Check if accounts exists</span></div>
<div class="line"><span class="lineno">   91</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* loginStmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba2fb0f2c93d8fe9e54cd3b069ecf8f3d8">LOGIN_SEL_ACCOUNT_BY_ID</a>);</div>
<div class="line"><span class="lineno">   92</span>        loginStmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(loginStmt);</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea05e659ba76ce9dd582551a24f2923b24">AOR_NAME_NOT_EXIST</a>;</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        <a class="code hl_define" href="../../d0/d8a/ScriptMgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnBeforeAccountDelete(accountId);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        <span class="comment">// Obtain accounts characters</span></div>
<div class="line"><span class="lineno">  101</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a8b09e25702d8e92492884e876f013226">CHAR_SEL_CHARS_BY_ACCOUNT_ID</a>);</div>
<div class="line"><span class="lineno">  102</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>        result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno">  107</span>        {</div>
<div class="line"><span class="lineno">  108</span>            <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  109</span>            {</div>
<div class="line"><span class="lineno">  110</span>                <a class="code hl_class" href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a> guid = ObjectGuid::Create&lt;HighGuid::Player&gt;((*result)[0].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>                <span class="comment">// Kick if player is online</span></div>
<div class="line"><span class="lineno">  113</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d2/d4b/classPlayer.html">Player</a>* p = <a class="code hl_function" href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a>(guid))</div>
<div class="line"><span class="lineno">  114</span>                {</div>
<div class="line"><span class="lineno">  115</span>                    <a class="code hl_class" href="../../d8/d74/classWorldSession.html">WorldSession</a>* s = p-&gt;GetSession();</div>
<div class="line"><span class="lineno">  116</span>                    s-&gt;<a class="code hl_function" href="../../d8/d74/classWorldSession.html#ad84e1251e6fb43fe3aed0ea2a27f018b">KickPlayer</a>(<span class="stringliteral">&quot;Delete account&quot;</span>);            <span class="comment">// mark session to remove at next session list update</span></div>
<div class="line"><span class="lineno">  117</span>                    s-&gt;<a class="code hl_function" href="../../d8/d74/classWorldSession.html#a099e000ffd0bca5636a508218d17eb8e">LogoutPlayer</a>(<span class="keyword">false</span>);                     <span class="comment">// logout player without waiting next session list update</span></div>
<div class="line"><span class="lineno">  118</span>                }</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>                <a class="code hl_function" href="../../d2/d4b/classPlayer.html#a55cde7f707f8023d11569110f7214cec">Player::DeleteFromDB</a>(guid.<a class="code hl_function" href="../../d0/d0a/classObjectGuid.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>(), accountId, <span class="keyword">false</span>, <span class="keyword">true</span>);       <span class="comment">// no need to update realm characters</span></div>
<div class="line"><span class="lineno">  121</span>            } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  122</span>        }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="comment">// table realm specific but common for all characters of account for realm</span></div>
<div class="line"><span class="lineno">  125</span>        stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a2c879b97386122e2447be1f61c852654">CHAR_DEL_TUTORIALS</a>);</div>
<div class="line"><span class="lineno">  126</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  127</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>        stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a81925e90647314b48c1ef2653b511bf4">CHAR_DEL_ACCOUNT_DATA</a>);</div>
<div class="line"><span class="lineno">  130</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  131</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>        stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a2c46030a891222c049ab29fb64b7510a">CHAR_DEL_CHARACTER_BAN</a>);</div>
<div class="line"><span class="lineno">  134</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#aa0ef7192ac59bc820849e5e21e3e08b7">LoginDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>        loginStmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba9e0cd899030e505d106466c297cd8fd1">LOGIN_DEL_ACCOUNT</a>);</div>
<div class="line"><span class="lineno">  140</span>        loginStmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  141</span>        trans-&gt;Append(loginStmt);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        loginStmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba52284772870b1649e11a21df1af04991">LOGIN_DEL_ACCOUNT_ACCESS</a>);</div>
<div class="line"><span class="lineno">  144</span>        loginStmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  145</span>        trans-&gt;Append(loginStmt);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>        loginStmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbab919130e1f0311149b9f1e9f3e8e1cb0">LOGIN_DEL_REALM_CHARACTERS</a>);</div>
<div class="line"><span class="lineno">  148</span>        loginStmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  149</span>        trans-&gt;Append(loginStmt);</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>        loginStmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba3478f54ee633e1fa7f58088144aa8006">LOGIN_DEL_ACCOUNT_BANNED</a>);</div>
<div class="line"><span class="lineno">  152</span>        loginStmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  153</span>        trans-&gt;Append(loginStmt);</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>        loginStmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba3341e9da2842caeb6f202a02eba997d4">LOGIN_DEL_ACCOUNT_MUTED</a>);</div>
<div class="line"><span class="lineno">  156</span>        loginStmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  157</span>        trans-&gt;Append(loginStmt);</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>        <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/dd9/AccountMgr_8h.html#a0161874ada0cecbbd1fd5d31da73703ea73449863bb0d97def55bd65307e97f18">AOR_OK</a>;</div>
<div class="line"><span class="lineno">  162</span>    }</div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a2c46030a891222c049ab29fb64b7510a"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a2c46030a891222c049ab29fb64b7510a">CHAR_DEL_CHARACTER_BAN</a></div><div class="ttdeci">@ CHAR_DEL_CHARACTER_BAN</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:43</div></div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a2c879b97386122e2447be1f61c852654"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a2c879b97386122e2447be1f61c852654">CHAR_DEL_TUTORIALS</a></div><div class="ttdeci">@ CHAR_DEL_TUTORIALS</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:209</div></div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a81925e90647314b48c1ef2653b511bf4"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a81925e90647314b48c1ef2653b511bf4">CHAR_DEL_ACCOUNT_DATA</a></div><div class="ttdeci">@ CHAR_DEL_ACCOUNT_DATA</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:200</div></div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a8b09e25702d8e92492884e876f013226"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a8b09e25702d8e92492884e876f013226">CHAR_SEL_CHARS_BY_ACCOUNT_ID</a></div><div class="ttdeci">@ CHAR_SEL_CHARS_BY_ACCOUNT_ID</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:336</div></div>
<div class="ttc" id="aDatabaseEnvFwd_8h_html_aa0ef7192ac59bc820849e5e21e3e08b7"><div class="ttname"><a href="../../d0/d5e/DatabaseEnvFwd_8h.html#aa0ef7192ac59bc820849e5e21e3e08b7">LoginDatabaseTransaction</a></div><div class="ttdeci">SQLTransaction&lt; LoginDatabaseConnection &gt; LoginDatabaseTransaction</div><div class="ttdef"><b>Definition</b> DatabaseEnvFwd.h:70</div></div>
<div class="ttc" id="aDatabaseEnv_8cpp_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition</b> DatabaseEnv.cpp:21</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba3341e9da2842caeb6f202a02eba997d4"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba3341e9da2842caeb6f202a02eba997d4">LOGIN_DEL_ACCOUNT_MUTED</a></div><div class="ttdeci">@ LOGIN_DEL_ACCOUNT_MUTED</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:114</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba3478f54ee633e1fa7f58088144aa8006"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba3478f54ee633e1fa7f58088144aa8006">LOGIN_DEL_ACCOUNT_BANNED</a></div><div class="ttdeci">@ LOGIN_DEL_ACCOUNT_BANNED</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:41</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba52284772870b1649e11a21df1af04991"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba52284772870b1649e11a21df1af04991">LOGIN_DEL_ACCOUNT_ACCESS</a></div><div class="ttdeci">@ LOGIN_DEL_ACCOUNT_ACCESS</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:79</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba9e0cd899030e505d106466c297cd8fd1"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba9e0cd899030e505d106466c297cd8fd1">LOGIN_DEL_ACCOUNT</a></div><div class="ttdeci">@ LOGIN_DEL_ACCOUNT</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:98</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fbab919130e1f0311149b9f1e9f3e8e1cb0"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbab919130e1f0311149b9f1e9f3e8e1cb0">LOGIN_DEL_REALM_CHARACTERS</a></div><div class="ttdeci">@ LOGIN_DEL_REALM_CHARACTERS</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:62</div></div>
<div class="ttc" id="aclassObjectGuid_html"><div class="ttname"><a href="../../d0/d0a/classObjectGuid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition</b> ObjectGuid.h:118</div></div>
<div class="ttc" id="aclassObjectGuid_html_a0df27b85c91a2c619e8f1d9c2cb31677"><div class="ttname"><a href="../../d0/d0a/classObjectGuid.html#a0df27b85c91a2c619e8f1d9c2cb31677">ObjectGuid::GetCounter</a></div><div class="ttdeci">LowType GetCounter() const</div><div class="ttdef"><b>Definition</b> ObjectGuid.h:145</div></div>
<div class="ttc" id="aclassPlayer_html"><div class="ttname"><a href="../../d2/d4b/classPlayer.html">Player</a></div><div class="ttdef"><b>Definition</b> Player.h:1081</div></div>
<div class="ttc" id="aclassPlayer_html_a55cde7f707f8023d11569110f7214cec"><div class="ttname"><a href="../../d2/d4b/classPlayer.html#a55cde7f707f8023d11569110f7214cec">Player::DeleteFromDB</a></div><div class="ttdeci">static void DeleteFromDB(ObjectGuid::LowType lowGuid, uint32 accountId, bool updateRealmChars, bool deleteFinally)</div><div class="ttdef"><b>Definition</b> Player.cpp:3991</div></div>
<div class="ttc" id="aclassWorldSession_html"><div class="ttname"><a href="../../d8/d74/classWorldSession.html">WorldSession</a></div><div class="ttdoc">Player session in the World.</div><div class="ttdef"><b>Definition</b> WorldSession.h:330</div></div>
<div class="ttc" id="aclassWorldSession_html_a099e000ffd0bca5636a508218d17eb8e"><div class="ttname"><a href="../../d8/d74/classWorldSession.html#a099e000ffd0bca5636a508218d17eb8e">WorldSession::LogoutPlayer</a></div><div class="ttdeci">void LogoutPlayer(bool save)</div><div class="ttdoc">Log the player out</div><div class="ttdef"><b>Definition</b> WorldSession.cpp:585</div></div>
<div class="ttc" id="aclassWorldSession_html_ad84e1251e6fb43fe3aed0ea2a27f018b"><div class="ttname"><a href="../../d8/d74/classWorldSession.html#ad84e1251e6fb43fe3aed0ea2a27f018b">WorldSession::KickPlayer</a></div><div class="ttdeci">void KickPlayer(bool setKicked=true)</div><div class="ttdef"><b>Definition</b> WorldSession.h:414</div></div>
<div class="ttc" id="anamespaceObjectAccessor_html_a9ede56180a13f102ad195136eadb97ee"><div class="ttname"><a href="../../de/d2d/namespaceObjectAccessor.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a></div><div class="ttdeci">Player * FindPlayer(ObjectGuid const guid)</div><div class="ttdef"><b>Definition</b> ObjectAccessor.cpp:245</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00031">AOR_NAME_NOT_EXIST</a>, <a class="el" href="../../#l00026">AOR_OK</a>, <a class="el" href="../../#l00200">CHAR_DEL_ACCOUNT_DATA</a>, <a class="el" href="../../#l00043">CHAR_DEL_CHARACTER_BAN</a>, <a class="el" href="../../#l00209">CHAR_DEL_TUTORIALS</a>, <a class="el" href="../../#l00336">CHAR_SEL_CHARS_BY_ACCOUNT_ID</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l03991">Player::DeleteFromDB()</a>, <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00414">WorldSession::KickPlayer()</a>, <a class="el" href="../../#l00098">LOGIN_DEL_ACCOUNT</a>, <a class="el" href="../../#l00079">LOGIN_DEL_ACCOUNT_ACCESS</a>, <a class="el" href="../../#l00041">LOGIN_DEL_ACCOUNT_BANNED</a>, <a class="el" href="../../#l00114">LOGIN_DEL_ACCOUNT_MUTED</a>, <a class="el" href="../../#l00062">LOGIN_DEL_REALM_CHARACTERS</a>, <a class="el" href="../../#l00059">LOGIN_SEL_ACCOUNT_BY_ID</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00585">WorldSession::LogoutPlayer()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00725">sScriptMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00318">account_commandscript::HandleAccountDeleteCommand()</a>.</p>

</div>
</div>
<a id="a4fb760897161c3d463f842b28bcf7c20" name="a4fb760897161c3d463f842b28bcf7c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb760897161c3d463f842b28bcf7c20">&#9670;&#160;</a></span>GetCharactersCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> AccountMgr::GetCharactersCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  296</span>    {</div>
<div class="line"><span class="lineno">  297</span>        <span class="comment">// check character count</span></div>
<div class="line"><span class="lineno">  298</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a721de6c7ac13ab2f72458fec8e7b2da6">CHAR_SEL_SUM_CHARS</a>);</div>
<div class="line"><span class="lineno">  299</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  300</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">return</span> (result) ? (*result)[0].Get&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt;() : 0;</div>
<div class="line"><span class="lineno">  303</span>    }</div>
<div class="ttc" id="aCharacterDatabase_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a721de6c7ac13ab2f72458fec8e7b2da6"><div class="ttname"><a href="../../de/da5/CharacterDatabase_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a721de6c7ac13ab2f72458fec8e7b2da6">CHAR_SEL_SUM_CHARS</a></div><div class="ttdeci">@ CHAR_SEL_SUM_CHARS</div><div class="ttdef"><b>Definition</b> CharacterDatabase.h:39</div></div>
<div class="ttc" id="aDefine_8h_html_ac4dd6ce78ce3b840c53bd4b3c63ed09b"><div class="ttname"><a href="../../da/d97/Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a></div><div class="ttdeci">std::uint64_t uint64</div><div class="ttdef"><b>Definition</b> Define.h:106</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00039">CHAR_SEL_SUM_CHARS</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01051">character_commandscript::HandleCharacterChangeAccountCommand()</a>, <a class="el" href="../../#l00213">character_commandscript::HandleCharacterDeletedRestoreHelper()</a>, and <a class="el" href="../../#l00764">PlayerDumpReader::LoadDump()</a>.</p>

</div>
</div>
<a id="aa215c9a96c37b8a5d76d980ecf8de114" name="aa215c9a96c37b8a5d76d980ecf8de114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa215c9a96c37b8a5d76d980ecf8de114">&#9670;&#160;</a></span>GetId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> AccountMgr::GetId </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  230</span>    {</div>
<div class="line"><span class="lineno">  231</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba1c9b37ba41ea6781c8c30cf669c12feb">LOGIN_GET_ACCOUNT_ID_BY_USERNAME</a>);</div>
<div class="line"><span class="lineno">  232</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, username);</div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">return</span> (result) ? (*result)[0].Get&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;() : 0;</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition</b> Define.h:107</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba1c9b37ba41ea6781c8c30cf669c12feb"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba1c9b37ba41ea6781c8c30cf669c12feb">LOGIN_GET_ACCOUNT_ID_BY_USERNAME</a></div><div class="ttdeci">@ LOGIN_GET_ACCOUNT_ID_BY_USERNAME</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:82</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00082">LOGIN_GET_ACCOUNT_ID_BY_USERNAME</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00038">BanMgr::BanAccount()</a>, <a class="el" href="../../#l00030">CreateAccount()</a>, <a class="el" href="../../#l00318">account_commandscript::HandleAccountDeleteCommand()</a>, <a class="el" href="../../#l00416">account_commandscript::HandleAccountRemoveLockCountryCommand()</a>, <a class="el" href="../../#l00581">account_commandscript::HandleAccountSet2FACommand()</a>, <a class="el" href="../../#l00667">account_commandscript::HandleAccountSetAddonCommand()</a>, <a class="el" href="../../#l00728">account_commandscript::HandleAccountSetGmLevelCommand()</a>, <a class="el" href="../../#l00847">account_commandscript::HandleAccountSetPasswordCommand()</a>, <a class="el" href="../../#l00261">ban_commandscript::HandleBanInfoAccountCommand()</a>, <a class="el" href="../../#l01051">character_commandscript::HandleCharacterChangeAccountCommand()</a>, <a class="el" href="../../#l02594">misc_commandscript::HandleMuteInfoCommand()</a>, <a class="el" href="../../#l00074">ns1__executeCommand()</a>, <a class="el" href="../../#l00272">BanMgr::RemoveBanAccount()</a>, and <a class="el" href="../../#l00061">Acore::ChatCommands::AccountIdentifier::TryConsume()</a>.</p>

</div>
</div>
<a id="af911e3860ec519c541d6df35468ee41b" name="af911e3860ec519c541d6df35468ee41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af911e3860ec519c541d6df35468ee41b">&#9670;&#160;</a></span>GetName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AccountMgr::GetName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  258</span>    {</div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba9c73f070fb33a0ff785f2e7193b0387f">LOGIN_GET_USERNAME_BY_ID</a>);</div>
<div class="line"><span class="lineno">  260</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  261</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno">  264</span>        {</div>
<div class="line"><span class="lineno">  265</span>            name = (*result)[0].Get&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  266</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  267</span>        }</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  270</span>    }</div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba9c73f070fb33a0ff785f2e7193b0387f"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba9c73f070fb33a0ff785f2e7193b0387f">LOGIN_GET_USERNAME_BY_ID</a></div><div class="ttdeci">@ LOGIN_GET_USERNAME_BY_ID</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:85</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00085">LOGIN_GET_USERNAME_BY_ID</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00196">Warden::ApplyPenalty()</a>, <a class="el" href="../../#l00100">BanMgr::BanAccountByPlayerName()</a>, <a class="el" href="../../#l00061">ChangeEmail()</a>, <a class="el" href="../../#l00198">ChangePassword()</a>, <a class="el" href="../../#l00272">CheckPassword()</a>, <a class="el" href="../../#l01328">WorldSession::DosProtection::EvaluateOpcode()</a>, <a class="el" href="../../#l00114">character_commandscript::GetDeletedCharacterInfoList()</a>, <a class="el" href="../../#l00667">account_commandscript::HandleAccountSetAddonCommand()</a>, <a class="el" href="../../#l00431">ban_commandscript::HandleBanListHelper()</a>, <a class="el" href="../../#l01051">character_commandscript::HandleCharacterChangeAccountCommand()</a>, <a class="el" href="../../#l00734">character_commandscript::HandleCharacterEraseCommand()</a>, <a class="el" href="../../#l00637">go_ulduar_pure_saronite_deposit::OnGossipHello()</a>, and <a class="el" href="../../#l00061">Acore::ChatCommands::AccountIdentifier::TryConsume()</a>.</p>

</div>
</div>
<a id="a8280510b2564ec6ea76727218c1687b3" name="a8280510b2564ec6ea76727218c1687b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8280510b2564ec6ea76727218c1687b3">&#9670;&#160;</a></span>GetSecurity() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> AccountMgr::GetSecurity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  239</span>    {</div>
<div class="line"><span class="lineno">  240</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbae45722757206e2a57db2ec1a82ac9be3">LOGIN_GET_ACCOUNT_ACCESS_GMLEVEL</a>);</div>
<div class="line"><span class="lineno">  241</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  242</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">return</span> (result) ? (*result)[0].Get&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;() : <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_enumvalue" href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>);</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="ttc" id="aCommon_8h_html_adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0"><div class="ttname"><a href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a></div><div class="ttdeci">@ SEC_PLAYER</div><div class="ttdef"><b>Definition</b> Common.h:57</div></div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fbae45722757206e2a57db2ec1a82ac9be3"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fbae45722757206e2a57db2ec1a82ac9be3">LOGIN_GET_ACCOUNT_ACCESS_GMLEVEL</a></div><div class="ttdeci">@ LOGIN_GET_ACCOUNT_ACCESS_GMLEVEL</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:83</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00083">LOGIN_GET_ACCOUNT_ACCESS_GMLEVEL</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00057">SEC_PLAYER</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00728">account_commandscript::HandleAccountSetGmLevelCommand()</a>, <a class="el" href="../../#l00037">WorldSession::HandleAddFriendOpcode()</a>, <a class="el" href="../../#l00076">ticket_commandscript::HandleGMTicketAssignToCommand()</a>, <a class="el" href="../../#l00336">ticket_commandscript::HandleGMTicketUnAssignCommand()</a>, <a class="el" href="../../#l00076">ChatHandler::HasLowerSecurityAccount()</a>, and <a class="el" href="../../#l00074">ns1__executeCommand()</a>.</p>

</div>
</div>
<a id="a30b6e5cf1733f0143f86aaeff600215c" name="a30b6e5cf1733f0143f86aaeff600215c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b6e5cf1733f0143f86aaeff600215c">&#9670;&#160;</a></span>GetSecurity() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> AccountMgr::GetSecurity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>realmId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  248</span>    {</div>
<div class="line"><span class="lineno">  249</span>        <a class="code hl_class" href="../../d7/d0f/classPreparedStatement.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba62e71dd471578de82da986bb5a9b26ec">LOGIN_GET_GMLEVEL_BY_REALMID</a>);</div>
<div class="line"><span class="lineno">  250</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno">  251</span>        stmt-&gt;<a class="code hl_function" href="../../de/db4/classPreparedStatementBase.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, realmId);</div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_typedef" href="../../d0/d5e/DatabaseEnvFwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d5/d5b/DatabaseEnv_8cpp.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>        <span class="keywordflow">return</span> (result) ? (*result)[0].Get&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;() : <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_enumvalue" href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>);</div>
<div class="line"><span class="lineno">  255</span>    }</div>
<div class="ttc" id="aLoginDatabase_8h_html_a2bc6eef17d8ecd1b7027058f5fecc9fba62e71dd471578de82da986bb5a9b26ec"><div class="ttname"><a href="../../d8/d37/LoginDatabase_8h.html#a2bc6eef17d8ecd1b7027058f5fecc9fba62e71dd471578de82da986bb5a9b26ec">LOGIN_GET_GMLEVEL_BY_REALMID</a></div><div class="ttdeci">@ LOGIN_GET_GMLEVEL_BY_REALMID</div><div class="ttdef"><b>Definition</b> LoginDatabase.h:84</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00084">LOGIN_GET_GMLEVEL_BY_REALMID</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00057">SEC_PLAYER</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

</div>
</div>
<a id="adb1b210137b09011677c74011addeefa" name="adb1b210137b09011677c74011addeefa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1b210137b09011677c74011addeefa">&#9670;&#160;</a></span>IsAdminAccount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AccountMgr::IsAdminAccount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>gmlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  311</span>    {</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">return</span> gmlevel &gt;= <a class="code hl_enumvalue" href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a> &amp;&amp; gmlevel &lt;= <a class="code hl_enumvalue" href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399">SEC_CONSOLE</a>;</div>
<div class="line"><span class="lineno">  313</span>    }</div>
<div class="ttc" id="aCommon_8h_html_adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102"><div class="ttname"><a href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a></div><div class="ttdeci">@ SEC_ADMINISTRATOR</div><div class="ttdef"><b>Definition</b> Common.h:60</div></div>
<div class="ttc" id="aCommon_8h_html_adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399"><div class="ttname"><a href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399">SEC_CONSOLE</a></div><div class="ttdeci">@ SEC_CONSOLE</div><div class="ttdef"><b>Definition</b> Common.h:61</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00060">SEC_ADMINISTRATOR</a>, and <a class="el" href="../../#l00061">SEC_CONSOLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00076">ticket_commandscript::HandleGMTicketAssignToCommand()</a>, <a class="el" href="../../#l01087">WorldSession::HandleWhoisOpcode()</a>, and <a class="el" href="../../#l01057">WorldSession::HandleWorldTeleportOpcode()</a>.</p>

</div>
</div>
<a id="a81bbc2af33211a3130c6aa215f5607b7" name="a81bbc2af33211a3130c6aa215f5607b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81bbc2af33211a3130c6aa215f5607b7">&#9670;&#160;</a></span>IsConsoleAccount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AccountMgr::IsConsoleAccount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>gmlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  316</span>    {</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">return</span> gmlevel == <a class="code hl_enumvalue" href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399">SEC_CONSOLE</a>;</div>
<div class="line"><span class="lineno">  318</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00061">SEC_CONSOLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00728">account_commandscript::HandleAccountSetGmLevelCommand()</a>.</p>

</div>
</div>
<a id="a63751f144cb7acb57fc20f0caf5e7043" name="a63751f144cb7acb57fc20f0caf5e7043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63751f144cb7acb57fc20f0caf5e7043">&#9670;&#160;</a></span>IsPlayerAccount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AccountMgr::IsPlayerAccount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>gmlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  306</span>    {</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">return</span> gmlevel == <a class="code hl_enumvalue" href="../../dc/d33/Common_8h.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>;</div>
<div class="line"><span class="lineno">  308</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00057">SEC_PLAYER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00228">ChatHandler::_ParseCommands()</a>, <a class="el" href="../../#l00277">WorldSessionMgr::AddSession_()</a>, <a class="el" href="../../#l00294">SocialMgr::BroadcastToFriendListers()</a>, <a class="el" href="../../#l02266">AchievementMgr::CompletedAchievement()</a>, <a class="el" href="../../#l00472">Player::Create()</a>, <a class="el" href="../../#l01190">Channel::FlagsNotify()</a>, <a class="el" href="../../#l00212">SocialMgr::GetFriendInfo()</a>, <a class="el" href="../../#l00037">WorldSession::HandleAddFriendOpcode()</a>, <a class="el" href="../../#l00271">WorldSession::HandleCharCreateOpcode()</a>, <a class="el" href="../../#l01947">WorldSession::HandleCharFactionOrRaceChangeCallback()</a>, <a class="el" href="../../#l00457">misc_commandscript::HandleCommentatorCommand()</a>, <a class="el" href="../../#l00501">misc_commandscript::HandleDevCommand()</a>, <a class="el" href="../../#l00064">gm_commandscript::HandleGMChatCommand()</a>, <a class="el" href="../../#l00123">gm_commandscript::HandleGMListIngameCommand()</a>, <a class="el" href="../../#l00076">ticket_commandscript::HandleGMTicketAssignToCommand()</a>, <a class="el" href="../../#l00059">WorldSession::HandleMessagechatOpcode()</a>, <a class="el" href="../../#l00730">WorldSocket::HandlePing()</a>, <a class="el" href="../../#l01156">misc_commandscript::HandleReviveCommand()</a>, <a class="el" href="../../#l00063">WorldSession::HandleSendMail()</a>, <a class="el" href="../../#l01411">misc_commandscript::HandleUnstuckCommand()</a>, <a class="el" href="../../#l00212">WorldSession::HandleWhoOpcode()</a>, <a class="el" href="../../#l00076">ChatHandler::HasLowerSecurityAccount()</a>, <a class="el" href="../../#l11544">Player::IsVisibleGloballyFor()</a>, <a class="el" href="../../#l01157">Channel::JoinNotify()</a>, <a class="el" href="../../#l01174">Channel::LeaveNotify()</a>, <a class="el" href="../../#l00688">Channel::List()</a>, <a class="el" href="../../#l04918">Player::LoadFromDB()</a>, <a class="el" href="../../#l00155">LogCommandUsage()</a>, <a class="el" href="../../#l00150">Player::Player()</a>, <a class="el" href="../../#l00384">WorldSessionMgr::SendGlobalGMMessage()</a>, <a class="el" href="../../#l00116">ChatHandler::SendGMText()</a>, <a class="el" href="../../#l01337">Player::TeleportTo()</a>, and <a class="el" href="../../#l00029">Player::UpdateSpeakTime()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/d92/namespaceAccountMgr.html">AccountMgr</a></li>
    <li class="footer">Generated on Sun Mar 2 2025 06:20:49 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
