<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>AzerothCore Doxygen</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d8/d01/lmarshal_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">lmarshal.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../">lua.h</a>&quot;</code><br />
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a771f4ed6610c15948beef86b96d3c5d9" id="r_a771f4ed6610c15948beef86b96d3c5d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d01/lmarshal_8h.html#a771f4ed6610c15948beef86b96d3c5d9">mar_encode</a> (<a class="el" href="../../df/df1/structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a771f4ed6610c15948beef86b96d3c5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bab0359d2275f7d3d68008e0c6f624" id="r_a55bab0359d2275f7d3d68008e0c6f624"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d01/lmarshal_8h.html#a55bab0359d2275f7d3d68008e0c6f624">mar_decode</a> (<a class="el" href="../../df/df1/structlua__State.html">lua_State</a> *L)</td></tr>
<tr class="separator:a55bab0359d2275f7d3d68008e0c6f624"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a55bab0359d2275f7d3d68008e0c6f624" name="a55bab0359d2275f7d3d68008e0c6f624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55bab0359d2275f7d3d68008e0c6f624">&#9670;&#160;</a></span>mar_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mar_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/df1/structlua__State.html">lua_State</a> *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  526</span>{</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordtype">size_t</span> l, idx, len;</div>
<div class="line"><span class="lineno">  528</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno">  529</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <a class="code hl_function" href="../../da/d29/lauxlib_8h.html#a22a708090e8392d31c1bbff491f60808">luaL_checklstring</a>(L, 1, &amp;l);</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">if</span> (l &lt; 1) <a class="code hl_function" href="../../da/d29/lauxlib_8h.html#a994f73d7985c30672469a260d9e86ae6">luaL_error</a>(L, <span class="stringliteral">&quot;bad header&quot;</span>);</div>
<div class="line"><span class="lineno">  532</span>    <span class="keywordflow">if</span> (*(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)s++ != <a class="code hl_define" href="../../d2/db2/lmarshal_8cpp.html#a7fa936d6e05dd1f8240a77d86dd89c4d">MAR_MAGIC</a>) <a class="code hl_function" href="../../da/d29/lauxlib_8h.html#a994f73d7985c30672469a260d9e86ae6">luaL_error</a>(L, <span class="stringliteral">&quot;bad magic&quot;</span>);</div>
<div class="line"><span class="lineno">  533</span>    l -= 1;</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../da/dd2/lua_8h.html#af51702bb75a31bb4a279953ee386d533">lua_isnoneornil</a>(L, 2)) {</div>
<div class="line"><span class="lineno">  536</span>        <a class="code hl_define" href="../../da/dd2/lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  537</span>    }</div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../da/dd2/lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a>(L, 2)) {</div>
<div class="line"><span class="lineno">  539</span>        <a class="code hl_function" href="../../da/d29/lauxlib_8h.html#a994f73d7985c30672469a260d9e86ae6">luaL_error</a>(L, <span class="stringliteral">&quot;bad argument #2 to decode (expected table)&quot;</span>);</div>
<div class="line"><span class="lineno">  540</span>    }</div>
<div class="line"><span class="lineno">  541</span>    <a class="code hl_function" href="../../da/dd2/lua_8h.html#a6cb9c62b9d85b1ad2a04d72bcb733816">lua_settop</a>(L, 2);</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>    len = <a class="code hl_function" href="../../da/dd2/lua_8h.html#a828562832e88d7c7b950c252adff79e9">lua_rawlen</a>(L, 2);</div>
<div class="line"><span class="lineno">  544</span>    <a class="code hl_define" href="../../da/dd2/lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">for</span> (idx = 1; idx &lt;= len; idx++) {</div>
<div class="line"><span class="lineno">  546</span>        <a class="code hl_function" href="../../da/dd2/lua_8h.html#a83de0bf688c2a389db2e444aa34e752a">lua_rawgeti</a>(L, 2, idx);</div>
<div class="line"><span class="lineno">  547</span>        <a class="code hl_function" href="../../da/dd2/lua_8h.html#a32f51f8a97b4f005f7a3c378dcf71df2">lua_rawseti</a>(L, <a class="code hl_define" href="../../d2/db2/lmarshal_8cpp.html#ac3cbf56786ca8f6f4b3aa141aa36822c">SEEN_IDX</a>, idx);</div>
<div class="line"><span class="lineno">  548</span>    }</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>    p = s;</div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_function" href="../../d2/db2/lmarshal_8cpp.html#a7cc65c5869a46220ca4299b61dbbf602">mar_decode_value</a>(L, s, l, &amp;p, &amp;idx);</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>    <a class="code hl_function" href="../../da/dd2/lua_8h.html#acb96e065629db2dedb0624524a9b34d4">lua_remove</a>(L, <a class="code hl_define" href="../../d2/db2/lmarshal_8cpp.html#ac3cbf56786ca8f6f4b3aa141aa36822c">SEEN_IDX</a>);</div>
<div class="line"><span class="lineno">  554</span>    <a class="code hl_function" href="../../da/dd2/lua_8h.html#acb96e065629db2dedb0624524a9b34d4">lua_remove</a>(L, 2);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  557</span>}</div>
<div class="ttc" id="alauxlib_8h_html_a22a708090e8392d31c1bbff491f60808"><div class="ttname"><a href="../../da/d29/lauxlib_8h.html#a22a708090e8392d31c1bbff491f60808">luaL_checklstring</a></div><div class="ttdeci">LUALIB_API const char *() luaL_checklstring(lua_State *L, int numArg, size_t *l)</div></div>
<div class="ttc" id="alauxlib_8h_html_a994f73d7985c30672469a260d9e86ae6"><div class="ttname"><a href="../../da/d29/lauxlib_8h.html#a994f73d7985c30672469a260d9e86ae6">luaL_error</a></div><div class="ttdeci">LUALIB_API int() luaL_error(lua_State *L, const char *fmt,...)</div></div>
<div class="ttc" id="almarshal_8cpp_html_a7cc65c5869a46220ca4299b61dbbf602"><div class="ttname"><a href="../../d2/db2/lmarshal_8cpp.html#a7cc65c5869a46220ca4299b61dbbf602">mar_decode_value</a></div><div class="ttdeci">static void mar_decode_value(lua_State *L, const char *buf, size_t len, const char **p, size_t *idx)</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:331</div></div>
<div class="ttc" id="almarshal_8cpp_html_a7fa936d6e05dd1f8240a77d86dd89c4d"><div class="ttname"><a href="../../d2/db2/lmarshal_8cpp.html#a7fa936d6e05dd1f8240a77d86dd89c4d">MAR_MAGIC</a></div><div class="ttdeci">#define MAR_MAGIC</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:50</div></div>
<div class="ttc" id="almarshal_8cpp_html_ac3cbf56786ca8f6f4b3aa141aa36822c"><div class="ttname"><a href="../../d2/db2/lmarshal_8cpp.html#ac3cbf56786ca8f6f4b3aa141aa36822c">SEEN_IDX</a></div><div class="ttdeci">#define SEEN_IDX</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:51</div></div>
<div class="ttc" id="alua_8h_html_a161af51893c5f79dacc1c382416a5f27"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a></div><div class="ttdeci">#define lua_istable(L, n)</div><div class="ttdef"><b>Definition</b> lua.h:332</div></div>
<div class="ttc" id="alua_8h_html_a32f51f8a97b4f005f7a3c378dcf71df2"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a32f51f8a97b4f005f7a3c378dcf71df2">lua_rawseti</a></div><div class="ttdeci">LUA_API void() lua_rawseti(lua_State *L, int idx, int n)</div></div>
<div class="ttc" id="alua_8h_html_a6cb9c62b9d85b1ad2a04d72bcb733816"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a6cb9c62b9d85b1ad2a04d72bcb733816">lua_settop</a></div><div class="ttdeci">LUA_API void() lua_settop(lua_State *L, int idx)</div></div>
<div class="ttc" id="alua_8h_html_a828562832e88d7c7b950c252adff79e9"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a828562832e88d7c7b950c252adff79e9">lua_rawlen</a></div><div class="ttdeci">LUA_API size_t() lua_rawlen(lua_State *L, int idx)</div></div>
<div class="ttc" id="alua_8h_html_a83de0bf688c2a389db2e444aa34e752a"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a83de0bf688c2a389db2e444aa34e752a">lua_rawgeti</a></div><div class="ttdeci">LUA_API void() lua_rawgeti(lua_State *L, int idx, int n)</div></div>
<div class="ttc" id="alua_8h_html_aa59db6b784aa1ec954599a44168c7761"><div class="ttname"><a href="../../da/dd2/lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a></div><div class="ttdeci">#define lua_newtable(L)</div><div class="ttdef"><b>Definition</b> lua.h:325</div></div>
<div class="ttc" id="alua_8h_html_acb96e065629db2dedb0624524a9b34d4"><div class="ttname"><a href="../../da/dd2/lua_8h.html#acb96e065629db2dedb0624524a9b34d4">lua_remove</a></div><div class="ttdeci">LUA_API void() lua_remove(lua_State *L, int idx)</div></div>
<div class="ttc" id="alua_8h_html_af51702bb75a31bb4a279953ee386d533"><div class="ttname"><a href="../../da/dd2/lua_8h.html#af51702bb75a31bb4a279953ee386d533">lua_isnoneornil</a></div><div class="ttdeci">#define lua_isnoneornil(L, n)</div><div class="ttdef"><b>Definition</b> lua.h:338</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00338">lua_isnoneornil</a>, <a class="el" href="../../#l00332">lua_istable</a>, <a class="el" href="../../#l00325">lua_newtable</a>, <a class="el" href="../../da/dd2/lua_8h.html#a83de0bf688c2a389db2e444aa34e752a">lua_rawgeti()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a828562832e88d7c7b950c252adff79e9">lua_rawlen()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a32f51f8a97b4f005f7a3c378dcf71df2">lua_rawseti()</a>, <a class="el" href="../../da/dd2/lua_8h.html#acb96e065629db2dedb0624524a9b34d4">lua_remove()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a6cb9c62b9d85b1ad2a04d72bcb733816">lua_settop()</a>, <a class="el" href="../../da/d29/lauxlib_8h.html#a22a708090e8392d31c1bbff491f60808">luaL_checklstring()</a>, <a class="el" href="../../da/d29/lauxlib_8h.html#a994f73d7985c30672469a260d9e86ae6">luaL_error()</a>, <a class="el" href="../../#l00331">mar_decode_value()</a>, <a class="el" href="../../#l00050">MAR_MAGIC</a>, and <a class="el" href="../../#l00051">SEEN_IDX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00028">ElunaInstanceAI::Load()</a>, and <a class="el" href="../../#l00559">mar_clone()</a>.</p>

</div>
</div>
<a id="a771f4ed6610c15948beef86b96d3c5d9" name="a771f4ed6610c15948beef86b96d3c5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a771f4ed6610c15948beef86b96d3c5d9">&#9670;&#160;</a></span>mar_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mar_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/df1/structlua__State.html">lua_State</a> *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  480</span>{</div>
<div class="line"><span class="lineno">  481</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> m = <a class="code hl_define" href="../../d2/db2/lmarshal_8cpp.html#a7fa936d6e05dd1f8240a77d86dd89c4d">MAR_MAGIC</a>;</div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordtype">size_t</span> idx, len;</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_struct" href="../../df/d58/structmar__Buffer.html">mar_Buffer</a> buf;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../da/dd2/lua_8h.html#ad054300429f1094d3692313abc733ddf">lua_isnone</a>(L, 1)) {</div>
<div class="line"><span class="lineno">  486</span>        <a class="code hl_function" href="../../da/dd2/lua_8h.html#a8bd9c4137a90833221f48dd16659c9e4">lua_pushnil</a>(L);</div>
<div class="line"><span class="lineno">  487</span>    }</div>
<div class="line"><span class="lineno">  488</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../da/dd2/lua_8h.html#af51702bb75a31bb4a279953ee386d533">lua_isnoneornil</a>(L, 2)) {</div>
<div class="line"><span class="lineno">  489</span>        <a class="code hl_define" href="../../da/dd2/lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  490</span>    }</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../da/dd2/lua_8h.html#a161af51893c5f79dacc1c382416a5f27">lua_istable</a>(L, 2)) {</div>
<div class="line"><span class="lineno">  492</span>        <a class="code hl_function" href="../../da/d29/lauxlib_8h.html#a994f73d7985c30672469a260d9e86ae6">luaL_error</a>(L, <span class="stringliteral">&quot;bad argument #2 to encode (expected table)&quot;</span>);</div>
<div class="line"><span class="lineno">  493</span>    }</div>
<div class="line"><span class="lineno">  494</span>    <a class="code hl_function" href="../../da/dd2/lua_8h.html#a6cb9c62b9d85b1ad2a04d72bcb733816">lua_settop</a>(L, 2);</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    len = <a class="code hl_function" href="../../da/dd2/lua_8h.html#a828562832e88d7c7b950c252adff79e9">lua_rawlen</a>(L, 2);</div>
<div class="line"><span class="lineno">  497</span>    <a class="code hl_define" href="../../da/dd2/lua_8h.html#aa59db6b784aa1ec954599a44168c7761">lua_newtable</a>(L);</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">for</span> (idx = 1; idx &lt;= len; idx++) {</div>
<div class="line"><span class="lineno">  499</span>        <a class="code hl_function" href="../../da/dd2/lua_8h.html#a83de0bf688c2a389db2e444aa34e752a">lua_rawgeti</a>(L, 2, idx);</div>
<div class="line"><span class="lineno">  500</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../da/dd2/lua_8h.html#a86d737d7002e7e94023765397c6eef20">lua_isnil</a>(L, -1)) {</div>
<div class="line"><span class="lineno">  501</span>            <a class="code hl_define" href="../../da/dd2/lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1);</div>
<div class="line"><span class="lineno">  502</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  503</span>        }</div>
<div class="line"><span class="lineno">  504</span>        <a class="code hl_function" href="../../da/dd2/lua_8h.html#aea46fa9bf358947f5c0a1bf266b26154">lua_pushinteger</a>(L, idx);</div>
<div class="line"><span class="lineno">  505</span>        <a class="code hl_function" href="../../da/dd2/lua_8h.html#a3db5cd3ce7ae703c39d54495be44aafc">lua_rawset</a>(L, <a class="code hl_define" href="../../d2/db2/lmarshal_8cpp.html#ac3cbf56786ca8f6f4b3aa141aa36822c">SEEN_IDX</a>);</div>
<div class="line"><span class="lineno">  506</span>    }</div>
<div class="line"><span class="lineno">  507</span>    <a class="code hl_function" href="../../da/dd2/lua_8h.html#a95e1c0a61aff11059655e6d246bcace7">lua_pushvalue</a>(L, 1);</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_function" href="../../d2/db2/lmarshal_8cpp.html#a479506071dc1fca76ef25176da02f8dc">buf_init</a>(L, &amp;buf);</div>
<div class="line"><span class="lineno">  510</span>    <a class="code hl_function" href="../../d2/db2/lmarshal_8cpp.html#a26d526b80e859bb3db880fd5e6ebd0ac">buf_write</a>(L, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)&amp;m, 1, &amp;buf);</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>    <a class="code hl_function" href="../../d2/db2/lmarshal_8cpp.html#a706075530d932385b31da31d56384e38">mar_encode_value</a>(L, &amp;buf, -1, &amp;idx);</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    <a class="code hl_define" href="../../da/dd2/lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a>(L, 1);</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>    <a class="code hl_function" href="../../da/dd2/lua_8h.html#aa34273bdedf26b31403d485cfbfb7d73">lua_pushlstring</a>(L, buf.<a class="code hl_variable" href="../../df/d58/structmar__Buffer.html#ae07a4acfa8bf1c7bc4ddc4c8451420c0">data</a>, buf.<a class="code hl_variable" href="../../df/d58/structmar__Buffer.html#afedabd471a03775e9a74111e5348fa61">head</a>);</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>    <a class="code hl_function" href="../../d2/db2/lmarshal_8cpp.html#afb694956260d80440d23a08c8e01491e">buf_done</a>(L, &amp;buf);</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    <a class="code hl_function" href="../../da/dd2/lua_8h.html#acb96e065629db2dedb0624524a9b34d4">lua_remove</a>(L, <a class="code hl_define" href="../../d2/db2/lmarshal_8cpp.html#ac3cbf56786ca8f6f4b3aa141aa36822c">SEEN_IDX</a>);</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  523</span>}</div>
<div class="ttc" id="almarshal_8cpp_html_a26d526b80e859bb3db880fd5e6ebd0ac"><div class="ttname"><a href="../../d2/db2/lmarshal_8cpp.html#a26d526b80e859bb3db880fd5e6ebd0ac">buf_write</a></div><div class="ttdeci">static int buf_write(lua_State *L, const char *str, size_t len, mar_Buffer *buf)</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:79</div></div>
<div class="ttc" id="almarshal_8cpp_html_a479506071dc1fca76ef25176da02f8dc"><div class="ttname"><a href="../../d2/db2/lmarshal_8cpp.html#a479506071dc1fca76ef25176da02f8dc">buf_init</a></div><div class="ttdeci">static void buf_init(lua_State *L, mar_Buffer *buf)</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:66</div></div>
<div class="ttc" id="almarshal_8cpp_html_a706075530d932385b31da31d56384e38"><div class="ttname"><a href="../../d2/db2/lmarshal_8cpp.html#a706075530d932385b31da31d56384e38">mar_encode_value</a></div><div class="ttdeci">static void mar_encode_value(lua_State *L, mar_Buffer *buf, int val, size_t *idx)</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:111</div></div>
<div class="ttc" id="almarshal_8cpp_html_afb694956260d80440d23a08c8e01491e"><div class="ttname"><a href="../../d2/db2/lmarshal_8cpp.html#afb694956260d80440d23a08c8e01491e">buf_done</a></div><div class="ttdeci">static void buf_done(lua_State *, mar_Buffer *buf)</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:74</div></div>
<div class="ttc" id="alua_8h_html_a3db5cd3ce7ae703c39d54495be44aafc"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a3db5cd3ce7ae703c39d54495be44aafc">lua_rawset</a></div><div class="ttdeci">LUA_API void() lua_rawset(lua_State *L, int idx)</div></div>
<div class="ttc" id="alua_8h_html_a86d737d7002e7e94023765397c6eef20"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a86d737d7002e7e94023765397c6eef20">lua_isnil</a></div><div class="ttdeci">#define lua_isnil(L, n)</div><div class="ttdef"><b>Definition</b> lua.h:334</div></div>
<div class="ttc" id="alua_8h_html_a8bd9c4137a90833221f48dd16659c9e4"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a8bd9c4137a90833221f48dd16659c9e4">lua_pushnil</a></div><div class="ttdeci">LUA_API void() lua_pushnil(lua_State *L)</div></div>
<div class="ttc" id="alua_8h_html_a95e1c0a61aff11059655e6d246bcace7"><div class="ttname"><a href="../../da/dd2/lua_8h.html#a95e1c0a61aff11059655e6d246bcace7">lua_pushvalue</a></div><div class="ttdeci">LUA_API void() lua_pushvalue(lua_State *L, int idx)</div></div>
<div class="ttc" id="alua_8h_html_aa34273bdedf26b31403d485cfbfb7d73"><div class="ttname"><a href="../../da/dd2/lua_8h.html#aa34273bdedf26b31403d485cfbfb7d73">lua_pushlstring</a></div><div class="ttdeci">LUA_API const char *() lua_pushlstring(lua_State *L, const char *s, size_t l)</div></div>
<div class="ttc" id="alua_8h_html_abb8eae2164badeafdb037bc1e03cc822"><div class="ttname"><a href="../../da/dd2/lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">lua_pop</a></div><div class="ttdeci">#define lua_pop(L, n)</div><div class="ttdef"><b>Definition</b> lua.h:323</div></div>
<div class="ttc" id="alua_8h_html_ad054300429f1094d3692313abc733ddf"><div class="ttname"><a href="../../da/dd2/lua_8h.html#ad054300429f1094d3692313abc733ddf">lua_isnone</a></div><div class="ttdeci">#define lua_isnone(L, n)</div><div class="ttdef"><b>Definition</b> lua.h:337</div></div>
<div class="ttc" id="alua_8h_html_aea46fa9bf358947f5c0a1bf266b26154"><div class="ttname"><a href="../../da/dd2/lua_8h.html#aea46fa9bf358947f5c0a1bf266b26154">lua_pushinteger</a></div><div class="ttdeci">LUA_API void() lua_pushinteger(lua_State *L, lua_Integer n)</div></div>
<div class="ttc" id="astructmar__Buffer_html"><div class="ttname"><a href="../../df/d58/structmar__Buffer.html">mar_Buffer</a></div><div class="ttdef"><b>Definition</b> lmarshal.cpp:56</div></div>
<div class="ttc" id="astructmar__Buffer_html_ae07a4acfa8bf1c7bc4ddc4c8451420c0"><div class="ttname"><a href="../../df/d58/structmar__Buffer.html#ae07a4acfa8bf1c7bc4ddc4c8451420c0">mar_Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:60</div></div>
<div class="ttc" id="astructmar__Buffer_html_afedabd471a03775e9a74111e5348fa61"><div class="ttname"><a href="../../df/d58/structmar__Buffer.html#afedabd471a03775e9a74111e5348fa61">mar_Buffer::head</a></div><div class="ttdeci">size_t head</div><div class="ttdef"><b>Definition</b> lmarshal.cpp:59</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00074">buf_done()</a>, <a class="el" href="../../#l00066">buf_init()</a>, <a class="el" href="../../#l00079">buf_write()</a>, <a class="el" href="../../#l00060">mar_Buffer::data</a>, <a class="el" href="../../#l00059">mar_Buffer::head</a>, <a class="el" href="../../#l00334">lua_isnil</a>, <a class="el" href="../../#l00337">lua_isnone</a>, <a class="el" href="../../#l00338">lua_isnoneornil</a>, <a class="el" href="../../#l00332">lua_istable</a>, <a class="el" href="../../#l00325">lua_newtable</a>, <a class="el" href="../../#l00323">lua_pop</a>, <a class="el" href="../../da/dd2/lua_8h.html#aea46fa9bf358947f5c0a1bf266b26154">lua_pushinteger()</a>, <a class="el" href="../../da/dd2/lua_8h.html#aa34273bdedf26b31403d485cfbfb7d73">lua_pushlstring()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a8bd9c4137a90833221f48dd16659c9e4">lua_pushnil()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a95e1c0a61aff11059655e6d246bcace7">lua_pushvalue()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a83de0bf688c2a389db2e444aa34e752a">lua_rawgeti()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a828562832e88d7c7b950c252adff79e9">lua_rawlen()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a3db5cd3ce7ae703c39d54495be44aafc">lua_rawset()</a>, <a class="el" href="../../da/dd2/lua_8h.html#acb96e065629db2dedb0624524a9b34d4">lua_remove()</a>, <a class="el" href="../../da/dd2/lua_8h.html#a6cb9c62b9d85b1ad2a04d72bcb733816">lua_settop()</a>, <a class="el" href="../../da/d29/lauxlib_8h.html#a994f73d7985c30672469a260d9e86ae6">luaL_error()</a>, <a class="el" href="../../#l00111">mar_encode_value()</a>, <a class="el" href="../../#l00050">MAR_MAGIC</a>, and <a class="el" href="../../#l00051">SEEN_IDX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00559">mar_clone()</a>, and <a class="el" href="../../#l00116">ElunaInstanceAI::Save()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_416e91831c3b437b0e8e263456cd918a.html">mod-eluna</a></li><li class="navelem"><a class="el" href="../../dir_c1a88496825b19a6387f55f33d913c62.html">src</a></li><li class="navelem"><a class="el" href="../../dir_40ac0a6c8148a3b1cee0d61035032e04.html">LuaEngine</a></li><li class="navelem"><a class="el" href="../../d8/d01/lmarshal_8h.html">lmarshal.h</a></li>
    <li class="footer">Generated on Sun Jan 5 2025 00:30:55 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
