<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>AzerothCore Doxygen</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d8/d03/LootMgr_8cpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">LootMgr.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../">LootMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">Containers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">DisableMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">Group.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">ItemEnchantmentMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">Log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">ObjectMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">Player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">ScriptMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">SharedDefines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">SpellInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">SpellMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">Util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">World.h</a>&quot;</code><br />
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ded/structLootGroupInvalidSelector.html">LootGroupInvalidSelector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/classLootTemplate_1_1LootGroup.html">LootTemplate::LootGroup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac7f789f6da959300694693d249113e9f" id="r_ac7f789f6da959300694693d249113e9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#ac7f789f6da959300694693d249113e9f">operator&lt;&lt;</a> (<a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp;b, <a class="el" href="../../db/d72/structLootItem.html">LootItem</a> const &amp;li)</td></tr>
<tr class="separator:ac7f789f6da959300694693d249113e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08df83acd4a8d8591eebb3753e121fc7" id="r_a08df83acd4a8d8591eebb3753e121fc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a08df83acd4a8d8591eebb3753e121fc7">operator&lt;&lt;</a> (<a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp;b, <a class="el" href="../../da/db3/structLootView.html">LootView</a> const &amp;lv)</td></tr>
<tr class="separator:a08df83acd4a8d8591eebb3753e121fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffebb5466d0f97fdaa495088a046a51" id="r_a2ffebb5466d0f97fdaa495088a046a51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a2ffebb5466d0f97fdaa495088a046a51">LoadLootTemplates_Creature</a> ()</td></tr>
<tr class="separator:a2ffebb5466d0f97fdaa495088a046a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e191c54a43255f4cc43af79b20c817" id="r_aa6e191c54a43255f4cc43af79b20c817"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#aa6e191c54a43255f4cc43af79b20c817">LoadLootTemplates_Disenchant</a> ()</td></tr>
<tr class="separator:aa6e191c54a43255f4cc43af79b20c817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f88815e67cdbdaebef659559cd0d954" id="r_a5f88815e67cdbdaebef659559cd0d954"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a5f88815e67cdbdaebef659559cd0d954">LoadLootTemplates_Fishing</a> ()</td></tr>
<tr class="separator:a5f88815e67cdbdaebef659559cd0d954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e17720ba3e69cf816688664f0e981a" id="r_a24e17720ba3e69cf816688664f0e981a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a24e17720ba3e69cf816688664f0e981a">LoadLootTemplates_Gameobject</a> ()</td></tr>
<tr class="separator:a24e17720ba3e69cf816688664f0e981a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade507039245a0e20adcdbf548a7d690" id="r_aade507039245a0e20adcdbf548a7d690"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#aade507039245a0e20adcdbf548a7d690">LoadLootTemplates_Item</a> ()</td></tr>
<tr class="separator:aade507039245a0e20adcdbf548a7d690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d63e7e68b4182ae8ebc36a7bbfd2456" id="r_a1d63e7e68b4182ae8ebc36a7bbfd2456"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a1d63e7e68b4182ae8ebc36a7bbfd2456">LoadLootTemplates_Milling</a> ()</td></tr>
<tr class="separator:a1d63e7e68b4182ae8ebc36a7bbfd2456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f7e96fb3b750f94e246759397e7546" id="r_a09f7e96fb3b750f94e246759397e7546"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a09f7e96fb3b750f94e246759397e7546">LoadLootTemplates_Pickpocketing</a> ()</td></tr>
<tr class="separator:a09f7e96fb3b750f94e246759397e7546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bdff8f6fa2a9f948153a770b0512ae" id="r_a87bdff8f6fa2a9f948153a770b0512ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a87bdff8f6fa2a9f948153a770b0512ae">LoadLootTemplates_Prospecting</a> ()</td></tr>
<tr class="separator:a87bdff8f6fa2a9f948153a770b0512ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b802fc33b09fc4fced1a39a7bb8583d" id="r_a9b802fc33b09fc4fced1a39a7bb8583d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a9b802fc33b09fc4fced1a39a7bb8583d">LoadLootTemplates_Mail</a> ()</td></tr>
<tr class="separator:a9b802fc33b09fc4fced1a39a7bb8583d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec1cdee51afe09234ba6b2d917c21916" id="r_aec1cdee51afe09234ba6b2d917c21916"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#aec1cdee51afe09234ba6b2d917c21916">LoadLootTemplates_Skinning</a> ()</td></tr>
<tr class="separator:aec1cdee51afe09234ba6b2d917c21916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c69325fc9720f428891b814817eb762" id="r_a1c69325fc9720f428891b814817eb762"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a1c69325fc9720f428891b814817eb762">LoadLootTemplates_Spell</a> ()</td></tr>
<tr class="separator:a1c69325fc9720f428891b814817eb762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e878bb1898269e2be94c066e18b6cac" id="r_a0e878bb1898269e2be94c066e18b6cac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a0e878bb1898269e2be94c066e18b6cac">LoadLootTemplates_Player</a> ()</td></tr>
<tr class="separator:a0e878bb1898269e2be94c066e18b6cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8015904fb38b1506755242730155cacc" id="r_a8015904fb38b1506755242730155cacc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a8015904fb38b1506755242730155cacc">LoadLootTemplates_Reference</a> ()</td></tr>
<tr class="separator:a8015904fb38b1506755242730155cacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6777c1d78d0dc1837339a3dcc257f25c" id="r_a6777c1d78d0dc1837339a3dcc257f25c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20">Rates</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a6777c1d78d0dc1837339a3dcc257f25c">qualityToRate</a> [<a class="el" href="../../de/d0a/SharedDefines_8h.html#a8b7f3e9bd0473c61e8fd7bb42b24faaa">MAX_ITEM_QUALITY</a>]</td></tr>
<tr class="separator:a6777c1d78d0dc1837339a3dcc257f25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867a728f0e7d52d0c546457d9199bbe0" id="r_a867a728f0e7d52d0c546457d9199bbe0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a867a728f0e7d52d0c546457d9199bbe0">LootTemplates_Creature</a> (&quot;creature_loot_template&quot;, &quot;creature entry&quot;, true)</td></tr>
<tr class="separator:a867a728f0e7d52d0c546457d9199bbe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df89c4848d191ab038eed9a8f81b913" id="r_a5df89c4848d191ab038eed9a8f81b913"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a5df89c4848d191ab038eed9a8f81b913">LootTemplates_Disenchant</a> (&quot;disenchant_loot_template&quot;, &quot;item disenchant id&quot;, true)</td></tr>
<tr class="separator:a5df89c4848d191ab038eed9a8f81b913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45baef147256b11372c092b0ac53f91" id="r_af45baef147256b11372c092b0ac53f91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#af45baef147256b11372c092b0ac53f91">LootTemplates_Fishing</a> (&quot;fishing_loot_template&quot;, &quot;area id&quot;, true)</td></tr>
<tr class="separator:af45baef147256b11372c092b0ac53f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2092f58e2dc595c617668f039de77935" id="r_a2092f58e2dc595c617668f039de77935"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a2092f58e2dc595c617668f039de77935">LootTemplates_Gameobject</a> (&quot;gameobject_loot_template&quot;, &quot;gameobject entry&quot;, true)</td></tr>
<tr class="separator:a2092f58e2dc595c617668f039de77935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3148b185e4fb344eaa918ccc37ff8e84" id="r_a3148b185e4fb344eaa918ccc37ff8e84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a3148b185e4fb344eaa918ccc37ff8e84">LootTemplates_Item</a> (&quot;item_loot_template&quot;, &quot;item entry&quot;, true)</td></tr>
<tr class="separator:a3148b185e4fb344eaa918ccc37ff8e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8aafe6a5d2d251b6e2f539b27f5949" id="r_aba8aafe6a5d2d251b6e2f539b27f5949"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#aba8aafe6a5d2d251b6e2f539b27f5949">LootTemplates_Mail</a> (&quot;mail_loot_template&quot;, &quot;mail template id&quot;, false)</td></tr>
<tr class="separator:aba8aafe6a5d2d251b6e2f539b27f5949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433757800c8ee4e9b654d504a4ee828a" id="r_a433757800c8ee4e9b654d504a4ee828a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a433757800c8ee4e9b654d504a4ee828a">LootTemplates_Milling</a> (&quot;milling_loot_template&quot;, &quot;item entry (herb)&quot;, true)</td></tr>
<tr class="separator:a433757800c8ee4e9b654d504a4ee828a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fe5d87a40ef83d99db6ccfde0a719f" id="r_a94fe5d87a40ef83d99db6ccfde0a719f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a94fe5d87a40ef83d99db6ccfde0a719f">LootTemplates_Pickpocketing</a> (&quot;pickpocketing_loot_template&quot;, &quot;creature pickpocket lootid&quot;, true)</td></tr>
<tr class="separator:a94fe5d87a40ef83d99db6ccfde0a719f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e98772296a6d93715a4ed74eb2b5bdf" id="r_a5e98772296a6d93715a4ed74eb2b5bdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a5e98772296a6d93715a4ed74eb2b5bdf">LootTemplates_Prospecting</a> (&quot;prospecting_loot_template&quot;, &quot;item entry (ore)&quot;, true)</td></tr>
<tr class="separator:a5e98772296a6d93715a4ed74eb2b5bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556a2458977647462ba38f61da196218" id="r_a556a2458977647462ba38f61da196218"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a556a2458977647462ba38f61da196218">LootTemplates_Reference</a> (&quot;reference_loot_template&quot;, &quot;reference id&quot;, false)</td></tr>
<tr class="separator:a556a2458977647462ba38f61da196218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195e88b39c43d01cbf8b1871a7129a60" id="r_a195e88b39c43d01cbf8b1871a7129a60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a195e88b39c43d01cbf8b1871a7129a60">LootTemplates_Skinning</a> (&quot;skinning_loot_template&quot;, &quot;creature skinning id&quot;, true)</td></tr>
<tr class="separator:a195e88b39c43d01cbf8b1871a7129a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b8cff5bc25ff6a80a044a72d037aaa" id="r_a12b8cff5bc25ff6a80a044a72d037aaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#a12b8cff5bc25ff6a80a044a72d037aaa">LootTemplates_Spell</a> (&quot;spell_loot_template&quot;, &quot;spell id (random item creating)&quot;, false)</td></tr>
<tr class="separator:a12b8cff5bc25ff6a80a044a72d037aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe10d61650265aabbc5de5685a8b9bb" id="r_abbe10d61650265aabbc5de5685a8b9bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d03/LootMgr_8cpp.html#abbe10d61650265aabbc5de5685a8b9bb">LootTemplates_Player</a> (&quot;player_loot_template&quot;, &quot;team id&quot;, true)</td></tr>
<tr class="separator:abbe10d61650265aabbc5de5685a8b9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2ffebb5466d0f97fdaa495088a046a51" name="a2ffebb5466d0f97fdaa495088a046a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffebb5466d0f97fdaa495088a046a51">&#9670;&#160;</a></span>LoadLootTemplates_Creature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Creature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1964</span>{</div>
<div class="line"><span class="lineno"> 1965</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Creature Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 1966</span> </div>
<div class="line"><span class="lineno"> 1967</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1968</span> </div>
<div class="line"><span class="lineno"> 1969</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet, lootIdSetUsed;</div>
<div class="line"><span class="lineno"> 1970</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a867a728f0e7d52d0c546457d9199bbe0">LootTemplates_Creature</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 1971</span> </div>
<div class="line"><span class="lineno"> 1972</span>    <span class="comment">// Remove real entries and check loot existence</span></div>
<div class="line"><span class="lineno"> 1973</span>    <a class="code hl_typedef" href="../../de/d2f/CreatureData_8h.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a> <span class="keyword">const</span>* ctc = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureTemplates();</div>
<div class="line"><span class="lineno"> 1974</span>    <span class="keywordflow">for</span> (CreatureTemplateContainer::const_iterator itr = ctc-&gt;begin(); itr != ctc-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 1975</span>    {</div>
<div class="line"><span class="lineno"> 1976</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> lootid = itr-&gt;second.lootid)</div>
<div class="line"><span class="lineno"> 1977</span>        {</div>
<div class="line"><span class="lineno"> 1978</span>            <span class="keywordflow">if</span> (lootIdSet.find(lootid) == lootIdSet.end())</div>
<div class="line"><span class="lineno"> 1979</span>                <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a867a728f0e7d52d0c546457d9199bbe0">LootTemplates_Creature</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#ab34193850f17f42ec65a466eefe4ff76">ReportNonExistingId</a>(lootid, <span class="stringliteral">&quot;Creature&quot;</span>, itr-&gt;second.Entry);</div>
<div class="line"><span class="lineno"> 1980</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1981</span>                lootIdSetUsed.insert(lootid);</div>
<div class="line"><span class="lineno"> 1982</span>        }</div>
<div class="line"><span class="lineno"> 1983</span>    }</div>
<div class="line"><span class="lineno"> 1984</span> </div>
<div class="line"><span class="lineno"> 1985</span>    <span class="keywordflow">for</span> (LootIdSet::const_iterator itr = lootIdSetUsed.begin(); itr != lootIdSetUsed.end(); ++itr)</div>
<div class="line"><span class="lineno"> 1986</span>        lootIdSet.erase(*itr);</div>
<div class="line"><span class="lineno"> 1987</span> </div>
<div class="line"><span class="lineno"> 1988</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 1989</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a867a728f0e7d52d0c546457d9199bbe0">LootTemplates_Creature</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 1990</span> </div>
<div class="line"><span class="lineno"> 1991</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 1992</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Creature Loot Templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1993</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1994</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 creature loot templates. DB table `creature_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 1995</span> </div>
<div class="line"><span class="lineno"> 1996</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1997</span>}</div>
<div class="ttc" id="aCreatureData_8h_html_ab12170e3eeaeb988a07355262ca85757"><div class="ttname"><a href="../../de/d2f/CreatureData_8h.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a></div><div class="ttdeci">std::unordered_map&lt; uint32, CreatureTemplate &gt; CreatureTemplateContainer</div><div class="ttdef"><b>Definition</b> CreatureData.h:292</div></div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition</b> Define.h:107</div></div>
<div class="ttc" id="aLog_8h_html_a271e427d8e8481efd5cd5f537ec9e419"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:165</div></div>
<div class="ttc" id="aLog_8h_html_adf09840a666e1d86bcd3439105db6edc"><div class="ttname"><a href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a></div><div class="ttdeci">#define LOG_WARN(filterType__,...)</div><div class="ttdef"><b>Definition</b> Log.h:161</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_a867a728f0e7d52d0c546457d9199bbe0"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a867a728f0e7d52d0c546457d9199bbe0">LootTemplates_Creature</a></div><div class="ttdeci">LootStore LootTemplates_Creature(&quot;creature_loot_template&quot;, &quot;creature entry&quot;, true)</div></div>
<div class="ttc" id="aLootMgr_8h_html_abf507a0fbd8ed984100b16e0b9aa20e7"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a></div><div class="ttdeci">std::set&lt; uint32 &gt; LootIdSet</div><div class="ttdef"><b>Definition</b> LootMgr.h:204</div></div>
<div class="ttc" id="aObjectMgr_8h_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition</b> ObjectMgr.h:1643</div></div>
<div class="ttc" id="aTimer_8h_html_a23a2c8663a05f2b03a6f85501972e8c0"><div class="ttname"><a href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a></div><div class="ttdeci">uint32 GetMSTimeDiffToNow(uint32 oldMSTime)</div><div class="ttdef"><b>Definition</b> Timer.h:131</div></div>
<div class="ttc" id="aTimer_8h_html_a4476c8e13ea790c3536f2749105f9cb9"><div class="ttname"><a href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a></div><div class="ttdeci">uint32 getMSTime()</div><div class="ttdef"><b>Definition</b> Timer.h:103</div></div>
<div class="ttc" id="aclassLootStore_html_a172a485f55b00f97248779c3f9f996dd"><div class="ttname"><a href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LootStore::LoadAndCollectLootIds</a></div><div class="ttdeci">uint32 LoadAndCollectLootIds(LootIdSet &amp;ids_set)</div><div class="ttdef"><b>Definition</b> LootMgr.cpp:267</div></div>
<div class="ttc" id="aclassLootStore_html_ab34193850f17f42ec65a466eefe4ff76"><div class="ttname"><a href="../../d1/de0/classLootStore.html#ab34193850f17f42ec65a466eefe4ff76">LootStore::ReportNonExistingId</a></div><div class="ttdeci">void ReportNonExistingId(uint32 lootId) const</div><div class="ttdef"><b>Definition</b> LootMgr.cpp:290</div></div>
<div class="ttc" id="aclassLootStore_html_af0fe6608310a123d70cc8221e65e4556"><div class="ttname"><a href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">LootStore::ReportUnusedIds</a></div><div class="ttdeci">void ReportUnusedIds(LootIdSet const &amp;ids_set) const</div><div class="ttdef"><b>Definition</b> LootMgr.cpp:283</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a60e4571187c2d3ad1cc7ecec58b29b6b">LootTemplates_Creature</a>, <a class="el" href="../../#l00290">LootStore::ReportNonExistingId()</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00583">reload_commandscript::HandleReloadLootTemplatesCreatureCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="aa6e191c54a43255f4cc43af79b20c817" name="aa6e191c54a43255f4cc43af79b20c817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e191c54a43255f4cc43af79b20c817">&#9670;&#160;</a></span>LoadLootTemplates_Disenchant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Disenchant </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2000</span>{</div>
<div class="line"><span class="lineno"> 2001</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Disenchanting Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2004</span> </div>
<div class="line"><span class="lineno"> 2005</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet, lootIdSetUsed;</div>
<div class="line"><span class="lineno"> 2006</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a5df89c4848d191ab038eed9a8f81b913">LootTemplates_Disenchant</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2007</span> </div>
<div class="line"><span class="lineno"> 2008</span>    <a class="code hl_typedef" href="../../db/d8b/ItemTemplate_8h.html#a30b2c5e67a06f97667d605729fa89555">ItemTemplateContainer</a> <span class="keyword">const</span>* its = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplateStore();</div>
<div class="line"><span class="lineno"> 2009</span>    <span class="keywordflow">for</span> (ItemTemplateContainer::const_iterator itr = its-&gt;begin(); itr != its-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2010</span>    {</div>
<div class="line"><span class="lineno"> 2011</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> lootid = itr-&gt;second.DisenchantID)</div>
<div class="line"><span class="lineno"> 2012</span>        {</div>
<div class="line"><span class="lineno"> 2013</span>            <span class="keywordflow">if</span> (lootIdSet.find(lootid) == lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2014</span>                <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a5df89c4848d191ab038eed9a8f81b913">LootTemplates_Disenchant</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#ab34193850f17f42ec65a466eefe4ff76">ReportNonExistingId</a>(lootid);</div>
<div class="line"><span class="lineno"> 2015</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2016</span>                lootIdSetUsed.insert(lootid);</div>
<div class="line"><span class="lineno"> 2017</span>        }</div>
<div class="line"><span class="lineno"> 2018</span>    }</div>
<div class="line"><span class="lineno"> 2019</span> </div>
<div class="line"><span class="lineno"> 2020</span>    <span class="keywordflow">for</span> (LootIdSet::const_iterator itr = lootIdSetUsed.begin(); itr != lootIdSetUsed.end(); ++itr)</div>
<div class="line"><span class="lineno"> 2021</span>        lootIdSet.erase(*itr);</div>
<div class="line"><span class="lineno"> 2022</span> </div>
<div class="line"><span class="lineno"> 2023</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2024</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a5df89c4848d191ab038eed9a8f81b913">LootTemplates_Disenchant</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2025</span> </div>
<div class="line"><span class="lineno"> 2026</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2027</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} disenchanting loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2028</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2029</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 disenchanting loot templates. DB table `disenchant_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2030</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2031</span>}</div>
<div class="ttc" id="aItemTemplate_8h_html_a30b2c5e67a06f97667d605729fa89555"><div class="ttname"><a href="../../db/d8b/ItemTemplate_8h.html#a30b2c5e67a06f97667d605729fa89555">ItemTemplateContainer</a></div><div class="ttdeci">std::unordered_map&lt; uint32, ItemTemplate &gt; ItemTemplateContainer</div><div class="ttdef"><b>Definition</b> ItemTemplate.h:835</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_a5df89c4848d191ab038eed9a8f81b913"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a5df89c4848d191ab038eed9a8f81b913">LootTemplates_Disenchant</a></div><div class="ttdeci">LootStore LootTemplates_Disenchant(&quot;disenchant_loot_template&quot;, &quot;item disenchant id&quot;, true)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a18264c3977d9cc716aa034d667a706e7">LootTemplates_Disenchant</a>, <a class="el" href="../../#l00290">LootStore::ReportNonExistingId()</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00601">reload_commandscript::HandleReloadLootTemplatesDisenchantCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a5f88815e67cdbdaebef659559cd0d954" name="a5f88815e67cdbdaebef659559cd0d954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f88815e67cdbdaebef659559cd0d954">&#9670;&#160;</a></span>LoadLootTemplates_Fishing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Fishing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2034</span>{</div>
<div class="line"><span class="lineno"> 2035</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Fishing Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2038</span> </div>
<div class="line"><span class="lineno"> 2039</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2040</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#af45baef147256b11372c092b0ac53f91">LootTemplates_Fishing</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2041</span> </div>
<div class="line"><span class="lineno"> 2042</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2043</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 1; i &lt; <a class="code hl_variable" href="../../dd/d8d/DBCStores_8cpp.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.GetNumRows(); ++i)</div>
<div class="line"><span class="lineno"> 2044</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../de/df5/structAreaTableEntry.html">AreaTableEntry</a> <span class="keyword">const</span>* areaEntry = <a class="code hl_variable" href="../../dd/d8d/DBCStores_8cpp.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(i))</div>
<div class="line"><span class="lineno"> 2045</span>            <span class="keywordflow">if</span> (lootIdSet.find(areaEntry-&gt;ID) != lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2046</span>                lootIdSet.erase(areaEntry-&gt;ID);</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2049</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#af45baef147256b11372c092b0ac53f91">LootTemplates_Fishing</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2050</span> </div>
<div class="line"><span class="lineno"> 2051</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2052</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Fishing Loot Templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2053</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2054</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 fishing loot templates. DB table `fishing_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2055</span> </div>
<div class="line"><span class="lineno"> 2056</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2057</span>}</div>
<div class="ttc" id="aDBCStores_8cpp_html_aedcdbef7c215330459e17b2f224ff0e3"><div class="ttname"><a href="../../dd/d8d/DBCStores_8cpp.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a></div><div class="ttdeci">DBCStorage&lt; AreaTableEntry &gt; sAreaTableStore(AreaTableEntryfmt)</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_af45baef147256b11372c092b0ac53f91"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#af45baef147256b11372c092b0ac53f91">LootTemplates_Fishing</a></div><div class="ttdeci">LootStore LootTemplates_Fishing(&quot;fishing_loot_template&quot;, &quot;area id&quot;, true)</div></div>
<div class="ttc" id="astructAreaTableEntry_html"><div class="ttname"><a href="../../de/df5/structAreaTableEntry.html">AreaTableEntry</a></div><div class="ttdef"><b>Definition</b> DBCStructure.h:518</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a130d622342828cab6b845b2c9868dd38">LootTemplates_Fishing</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../dd/d8d/DBCStores_8cpp.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00611">reload_commandscript::HandleReloadLootTemplatesFishingCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a24e17720ba3e69cf816688664f0e981a" name="a24e17720ba3e69cf816688664f0e981a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24e17720ba3e69cf816688664f0e981a">&#9670;&#160;</a></span>LoadLootTemplates_Gameobject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Gameobject </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2060</span>{</div>
<div class="line"><span class="lineno"> 2061</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Gameobject Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2064</span> </div>
<div class="line"><span class="lineno"> 2065</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet, lootIdSetUsed;</div>
<div class="line"><span class="lineno"> 2066</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a2092f58e2dc595c617668f039de77935">LootTemplates_Gameobject</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2067</span> </div>
<div class="line"><span class="lineno"> 2068</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2069</span>    <a class="code hl_typedef" href="../../d2/de5/GameObject_8h.html#a5997afee8ff417f22a5fc03453c0a3d8">GameObjectTemplateContainer</a> <span class="keyword">const</span>* gotc = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGameObjectTemplates();</div>
<div class="line"><span class="lineno"> 2070</span>    <span class="keywordflow">for</span> (GameObjectTemplateContainer::const_iterator itr = gotc-&gt;begin(); itr != gotc-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2071</span>    {</div>
<div class="line"><span class="lineno"> 2072</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> lootid = itr-&gt;second.GetLootId())</div>
<div class="line"><span class="lineno"> 2073</span>        {</div>
<div class="line"><span class="lineno"> 2074</span>            <span class="keywordflow">if</span> (lootIdSet.find(lootid) == lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2075</span>                <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a2092f58e2dc595c617668f039de77935">LootTemplates_Gameobject</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#ab34193850f17f42ec65a466eefe4ff76">ReportNonExistingId</a>(lootid, <span class="stringliteral">&quot;Gameobject&quot;</span>, itr-&gt;second.entry);</div>
<div class="line"><span class="lineno"> 2076</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2077</span>                lootIdSetUsed.insert(lootid);</div>
<div class="line"><span class="lineno"> 2078</span>        }</div>
<div class="line"><span class="lineno"> 2079</span>    }</div>
<div class="line"><span class="lineno"> 2080</span> </div>
<div class="line"><span class="lineno"> 2081</span>    <span class="keywordflow">for</span> (LootIdSet::const_iterator itr = lootIdSetUsed.begin(); itr != lootIdSetUsed.end(); ++itr)</div>
<div class="line"><span class="lineno"> 2082</span>        lootIdSet.erase(*itr);</div>
<div class="line"><span class="lineno"> 2083</span> </div>
<div class="line"><span class="lineno"> 2084</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2085</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a2092f58e2dc595c617668f039de77935">LootTemplates_Gameobject</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2086</span> </div>
<div class="line"><span class="lineno"> 2087</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2088</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Gameobject Loot Templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2089</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2090</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 gameobject loot templates. DB table `gameobject_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2093</span>}</div>
<div class="ttc" id="aGameObject_8h_html_a5997afee8ff417f22a5fc03453c0a3d8"><div class="ttname"><a href="../../d2/de5/GameObject_8h.html#a5997afee8ff417f22a5fc03453c0a3d8">GameObjectTemplateContainer</a></div><div class="ttdeci">std::unordered_map&lt; uint32, GameObjectTemplate &gt; GameObjectTemplateContainer</div><div class="ttdef"><b>Definition</b> GameObject.h:42</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_a2092f58e2dc595c617668f039de77935"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a2092f58e2dc595c617668f039de77935">LootTemplates_Gameobject</a></div><div class="ttdeci">LootStore LootTemplates_Gameobject(&quot;gameobject_loot_template&quot;, &quot;gameobject entry&quot;, true)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a31e68d51b0fcf3e28a4479991359a8b3">LootTemplates_Gameobject</a>, <a class="el" href="../../#l00290">LootStore::ReportNonExistingId()</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00621">reload_commandscript::HandleReloadLootTemplatesGameobjectCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="aade507039245a0e20adcdbf548a7d690" name="aade507039245a0e20adcdbf548a7d690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade507039245a0e20adcdbf548a7d690">&#9670;&#160;</a></span>LoadLootTemplates_Item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2096</span>{</div>
<div class="line"><span class="lineno"> 2097</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Item Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2098</span> </div>
<div class="line"><span class="lineno"> 2099</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2100</span> </div>
<div class="line"><span class="lineno"> 2101</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2102</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a3148b185e4fb344eaa918ccc37ff8e84">LootTemplates_Item</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2103</span> </div>
<div class="line"><span class="lineno"> 2104</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2105</span>    <a class="code hl_typedef" href="../../db/d8b/ItemTemplate_8h.html#a30b2c5e67a06f97667d605729fa89555">ItemTemplateContainer</a> <span class="keyword">const</span>* its = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplateStore();</div>
<div class="line"><span class="lineno"> 2106</span>    <span class="keywordflow">for</span> (ItemTemplateContainer::const_iterator itr = its-&gt;begin(); itr != its-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2107</span>        <span class="keywordflow">if</span> (lootIdSet.find(itr-&gt;second.ItemId) != lootIdSet.end() &amp;&amp; itr-&gt;second.HasFlag(<a class="code hl_enumvalue" href="../../db/d8b/ItemTemplate_8h.html#a40a08686fc4f70e1f190b17397f25571a7b997b639af85999d70e317152579b39">ITEM_FLAG_HAS_LOOT</a>))</div>
<div class="line"><span class="lineno"> 2108</span>            lootIdSet.erase(itr-&gt;second.ItemId);</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2111</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a3148b185e4fb344eaa918ccc37ff8e84">LootTemplates_Item</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2112</span> </div>
<div class="line"><span class="lineno"> 2113</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2114</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} item loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2115</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2116</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 item loot templates. DB table `item_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2117</span> </div>
<div class="line"><span class="lineno"> 2118</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2119</span>}</div>
<div class="ttc" id="aItemTemplate_8h_html_a40a08686fc4f70e1f190b17397f25571a7b997b639af85999d70e317152579b39"><div class="ttname"><a href="../../db/d8b/ItemTemplate_8h.html#a40a08686fc4f70e1f190b17397f25571a7b997b639af85999d70e317152579b39">ITEM_FLAG_HAS_LOOT</a></div><div class="ttdeci">@ ITEM_FLAG_HAS_LOOT</div><div class="ttdef"><b>Definition</b> ItemTemplate.h:149</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_a3148b185e4fb344eaa918ccc37ff8e84"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a3148b185e4fb344eaa918ccc37ff8e84">LootTemplates_Item</a></div><div class="ttdeci">LootStore LootTemplates_Item(&quot;item_loot_template&quot;, &quot;item entry&quot;, true)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00149">ITEM_FLAG_HAS_LOOT</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a9e0dd775278fdc9626bc8cb723035395">LootTemplates_Item</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00631">reload_commandscript::HandleReloadLootTemplatesItemCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a9b802fc33b09fc4fced1a39a7bb8583d" name="a9b802fc33b09fc4fced1a39a7bb8583d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b802fc33b09fc4fced1a39a7bb8583d">&#9670;&#160;</a></span>LoadLootTemplates_Mail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Mail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2220</span>{</div>
<div class="line"><span class="lineno"> 2221</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Mail Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2222</span> </div>
<div class="line"><span class="lineno"> 2223</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2224</span> </div>
<div class="line"><span class="lineno"> 2225</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2226</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#aba8aafe6a5d2d251b6e2f539b27f5949">LootTemplates_Mail</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2227</span> </div>
<div class="line"><span class="lineno"> 2228</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2229</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 1; i &lt; <a class="code hl_variable" href="../../dd/d8d/DBCStores_8cpp.html#a23fb19d0b47be4bb90201681d6e485e8">sMailTemplateStore</a>.GetNumRows(); ++i)</div>
<div class="line"><span class="lineno"> 2230</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/d8d/DBCStores_8cpp.html#a23fb19d0b47be4bb90201681d6e485e8">sMailTemplateStore</a>.LookupEntry(i))</div>
<div class="line"><span class="lineno"> 2231</span>            <span class="keywordflow">if</span> (lootIdSet.find(i) != lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2232</span>                lootIdSet.erase(i);</div>
<div class="line"><span class="lineno"> 2233</span> </div>
<div class="line"><span class="lineno"> 2234</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2235</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#aba8aafe6a5d2d251b6e2f539b27f5949">LootTemplates_Mail</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2236</span> </div>
<div class="line"><span class="lineno"> 2237</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2238</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} mail loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2239</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2240</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 mail loot templates. DB table `mail_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2241</span> </div>
<div class="line"><span class="lineno"> 2242</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2243</span>}</div>
<div class="ttc" id="aDBCStores_8cpp_html_a23fb19d0b47be4bb90201681d6e485e8"><div class="ttname"><a href="../../dd/d8d/DBCStores_8cpp.html#a23fb19d0b47be4bb90201681d6e485e8">sMailTemplateStore</a></div><div class="ttdeci">DBCStorage&lt; MailTemplateEntry &gt; sMailTemplateStore(MailTemplateEntryfmt)</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_aba8aafe6a5d2d251b6e2f539b27f5949"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#aba8aafe6a5d2d251b6e2f539b27f5949">LootTemplates_Mail</a></div><div class="ttdeci">LootStore LootTemplates_Mail(&quot;mail_loot_template&quot;, &quot;mail template id&quot;, false)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a0c67423870bc7cc7f3c3999bc285280b">LootTemplates_Mail</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../dd/d8d/DBCStores_8cpp.html#a23fb19d0b47be4bb90201681d6e485e8">sMailTemplateStore</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00671">reload_commandscript::HandleReloadLootTemplatesMailCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a1d63e7e68b4182ae8ebc36a7bbfd2456" name="a1d63e7e68b4182ae8ebc36a7bbfd2456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d63e7e68b4182ae8ebc36a7bbfd2456">&#9670;&#160;</a></span>LoadLootTemplates_Milling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Milling </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2122</span>{</div>
<div class="line"><span class="lineno"> 2123</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Milling Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2124</span> </div>
<div class="line"><span class="lineno"> 2125</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2126</span> </div>
<div class="line"><span class="lineno"> 2127</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2128</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a433757800c8ee4e9b654d504a4ee828a">LootTemplates_Milling</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2129</span> </div>
<div class="line"><span class="lineno"> 2130</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2131</span>    <a class="code hl_typedef" href="../../db/d8b/ItemTemplate_8h.html#a30b2c5e67a06f97667d605729fa89555">ItemTemplateContainer</a> <span class="keyword">const</span>* its = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplateStore();</div>
<div class="line"><span class="lineno"> 2132</span>    <span class="keywordflow">for</span> (ItemTemplateContainer::const_iterator itr = its-&gt;begin(); itr != its-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2133</span>    {</div>
<div class="line"><span class="lineno"> 2134</span>        <span class="keywordflow">if</span> (!itr-&gt;second.HasFlag(<a class="code hl_enumvalue" href="../../db/d8b/ItemTemplate_8h.html#a40a08686fc4f70e1f190b17397f25571a0c78000507aa82285acdf032bc9ee84f">ITEM_FLAG_IS_MILLABLE</a>))</div>
<div class="line"><span class="lineno"> 2135</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2136</span> </div>
<div class="line"><span class="lineno"> 2137</span>        <span class="keywordflow">if</span> (lootIdSet.find(itr-&gt;second.ItemId) != lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2138</span>            lootIdSet.erase(itr-&gt;second.ItemId);</div>
<div class="line"><span class="lineno"> 2139</span>    }</div>
<div class="line"><span class="lineno"> 2140</span> </div>
<div class="line"><span class="lineno"> 2141</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2142</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a433757800c8ee4e9b654d504a4ee828a">LootTemplates_Milling</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2143</span> </div>
<div class="line"><span class="lineno"> 2144</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2145</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} milling loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2146</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2147</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 milling loot templates. DB table `milling_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2148</span> </div>
<div class="line"><span class="lineno"> 2149</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2150</span>}</div>
<div class="ttc" id="aItemTemplate_8h_html_a40a08686fc4f70e1f190b17397f25571a0c78000507aa82285acdf032bc9ee84f"><div class="ttname"><a href="../../db/d8b/ItemTemplate_8h.html#a40a08686fc4f70e1f190b17397f25571a0c78000507aa82285acdf032bc9ee84f">ITEM_FLAG_IS_MILLABLE</a></div><div class="ttdeci">@ ITEM_FLAG_IS_MILLABLE</div><div class="ttdef"><b>Definition</b> ItemTemplate.h:176</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_a433757800c8ee4e9b654d504a4ee828a"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a433757800c8ee4e9b654d504a4ee828a">LootTemplates_Milling</a></div><div class="ttdeci">LootStore LootTemplates_Milling(&quot;milling_loot_template&quot;, &quot;item entry (herb)&quot;, true)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00176">ITEM_FLAG_IS_MILLABLE</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a2b487e26b2b104df71db0d0cdb218f70">LootTemplates_Milling</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00641">reload_commandscript::HandleReloadLootTemplatesMillingCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a09f7e96fb3b750f94e246759397e7546" name="a09f7e96fb3b750f94e246759397e7546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f7e96fb3b750f94e246759397e7546">&#9670;&#160;</a></span>LoadLootTemplates_Pickpocketing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Pickpocketing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2153</span>{</div>
<div class="line"><span class="lineno"> 2154</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Pickpocketing Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2155</span> </div>
<div class="line"><span class="lineno"> 2156</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2157</span> </div>
<div class="line"><span class="lineno"> 2158</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet, lootIdSetUsed;</div>
<div class="line"><span class="lineno"> 2159</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a94fe5d87a40ef83d99db6ccfde0a719f">LootTemplates_Pickpocketing</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2160</span> </div>
<div class="line"><span class="lineno"> 2161</span>    <span class="comment">// Remove real entries and check loot existence</span></div>
<div class="line"><span class="lineno"> 2162</span>    <a class="code hl_typedef" href="../../de/d2f/CreatureData_8h.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a> <span class="keyword">const</span>* ctc = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureTemplates();</div>
<div class="line"><span class="lineno"> 2163</span>    <span class="keywordflow">for</span> (CreatureTemplateContainer::const_iterator itr = ctc-&gt;begin(); itr != ctc-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2164</span>    {</div>
<div class="line"><span class="lineno"> 2165</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> lootid = itr-&gt;second.pickpocketLootId)</div>
<div class="line"><span class="lineno"> 2166</span>        {</div>
<div class="line"><span class="lineno"> 2167</span>            <span class="keywordflow">if</span> (lootIdSet.find(lootid) == lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2168</span>                <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a94fe5d87a40ef83d99db6ccfde0a719f">LootTemplates_Pickpocketing</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#ab34193850f17f42ec65a466eefe4ff76">ReportNonExistingId</a>(lootid, <span class="stringliteral">&quot;Creature&quot;</span>, itr-&gt;second.Entry);</div>
<div class="line"><span class="lineno"> 2169</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2170</span>                lootIdSetUsed.insert(lootid);</div>
<div class="line"><span class="lineno"> 2171</span>        }</div>
<div class="line"><span class="lineno"> 2172</span>    }</div>
<div class="line"><span class="lineno"> 2173</span> </div>
<div class="line"><span class="lineno"> 2174</span>    <span class="keywordflow">for</span> (LootIdSet::const_iterator itr = lootIdSetUsed.begin(); itr != lootIdSetUsed.end(); ++itr)</div>
<div class="line"><span class="lineno"> 2175</span>        lootIdSet.erase(*itr);</div>
<div class="line"><span class="lineno"> 2176</span> </div>
<div class="line"><span class="lineno"> 2177</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2178</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a94fe5d87a40ef83d99db6ccfde0a719f">LootTemplates_Pickpocketing</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2179</span> </div>
<div class="line"><span class="lineno"> 2180</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2181</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} pickpocketing loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2182</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2183</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 pickpocketing loot templates. DB table `pickpocketing_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2184</span> </div>
<div class="line"><span class="lineno"> 2185</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2186</span>}</div>
<div class="ttc" id="aLootMgr_8cpp_html_a94fe5d87a40ef83d99db6ccfde0a719f"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a94fe5d87a40ef83d99db6ccfde0a719f">LootTemplates_Pickpocketing</a></div><div class="ttdeci">LootStore LootTemplates_Pickpocketing(&quot;pickpocketing_loot_template&quot;, &quot;creature pickpocket lootid&quot;, true)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#aff49ca707ec37f45e7faa1fef5bd34b1">LootTemplates_Pickpocketing</a>, <a class="el" href="../../#l00290">LootStore::ReportNonExistingId()</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00651">reload_commandscript::HandleReloadLootTemplatesPickpocketingCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a0e878bb1898269e2be94c066e18b6cac" name="a0e878bb1898269e2be94c066e18b6cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e878bb1898269e2be94c066e18b6cac">&#9670;&#160;</a></span>LoadLootTemplates_Player()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Player </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2325</span>{</div>
<div class="line"><span class="lineno"> 2326</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Player Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2327</span> </div>
<div class="line"><span class="lineno"> 2328</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2329</span> </div>
<div class="line"><span class="lineno"> 2330</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2331</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#abbe10d61650265aabbc5de5685a8b9bb">LootTemplates_Player</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2332</span> </div>
<div class="line"><span class="lineno"> 2333</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2334</span>    {</div>
<div class="line"><span class="lineno"> 2335</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} player loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2336</span>    }</div>
<div class="line"><span class="lineno"> 2337</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2338</span>    {</div>
<div class="line"><span class="lineno"> 2339</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 player loot templates. DB table `player_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2340</span>    }</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2343</span>}</div>
<div class="ttc" id="aLootMgr_8cpp_html_abbe10d61650265aabbc5de5685a8b9bb"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#abbe10d61650265aabbc5de5685a8b9bb">LootTemplates_Player</a></div><div class="ttdeci">LootStore LootTemplates_Player(&quot;player_loot_template&quot;, &quot;team id&quot;, true)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, and <a class="el" href="../../d9/d84/LootMgr_8h.html#a24c6c31d274635f72ef4efeba3715f33">LootTemplates_Player</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00710">reload_commandscript::HandleReloadLootTemplatesPlayerCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a87bdff8f6fa2a9f948153a770b0512ae" name="a87bdff8f6fa2a9f948153a770b0512ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87bdff8f6fa2a9f948153a770b0512ae">&#9670;&#160;</a></span>LoadLootTemplates_Prospecting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Prospecting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2189</span>{</div>
<div class="line"><span class="lineno"> 2190</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Prospecting Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2191</span> </div>
<div class="line"><span class="lineno"> 2192</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2193</span> </div>
<div class="line"><span class="lineno"> 2194</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2195</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a5e98772296a6d93715a4ed74eb2b5bdf">LootTemplates_Prospecting</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2196</span> </div>
<div class="line"><span class="lineno"> 2197</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2198</span>    <a class="code hl_typedef" href="../../db/d8b/ItemTemplate_8h.html#a30b2c5e67a06f97667d605729fa89555">ItemTemplateContainer</a> <span class="keyword">const</span>* its = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplateStore();</div>
<div class="line"><span class="lineno"> 2199</span>    <span class="keywordflow">for</span> (ItemTemplateContainer::const_iterator itr = its-&gt;begin(); itr != its-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2200</span>    {</div>
<div class="line"><span class="lineno"> 2201</span>        <span class="keywordflow">if</span> (!itr-&gt;second.HasFlag(<a class="code hl_enumvalue" href="../../db/d8b/ItemTemplate_8h.html#a40a08686fc4f70e1f190b17397f25571a40ef0669ee302f8c0fed53c60d89b65a">ITEM_FLAG_IS_PROSPECTABLE</a>))</div>
<div class="line"><span class="lineno"> 2202</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2203</span> </div>
<div class="line"><span class="lineno"> 2204</span>        <span class="keywordflow">if</span> (lootIdSet.find(itr-&gt;second.ItemId) != lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2205</span>            lootIdSet.erase(itr-&gt;second.ItemId);</div>
<div class="line"><span class="lineno"> 2206</span>    }</div>
<div class="line"><span class="lineno"> 2207</span> </div>
<div class="line"><span class="lineno"> 2208</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2209</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a5e98772296a6d93715a4ed74eb2b5bdf">LootTemplates_Prospecting</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2210</span> </div>
<div class="line"><span class="lineno"> 2211</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2212</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} prospecting loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2213</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2214</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 prospecting loot templates. DB table `prospecting_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2215</span> </div>
<div class="line"><span class="lineno"> 2216</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2217</span>}</div>
<div class="ttc" id="aItemTemplate_8h_html_a40a08686fc4f70e1f190b17397f25571a40ef0669ee302f8c0fed53c60d89b65a"><div class="ttname"><a href="../../db/d8b/ItemTemplate_8h.html#a40a08686fc4f70e1f190b17397f25571a40ef0669ee302f8c0fed53c60d89b65a">ITEM_FLAG_IS_PROSPECTABLE</a></div><div class="ttdeci">@ ITEM_FLAG_IS_PROSPECTABLE</div><div class="ttdef"><b>Definition</b> ItemTemplate.h:165</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_a5e98772296a6d93715a4ed74eb2b5bdf"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a5e98772296a6d93715a4ed74eb2b5bdf">LootTemplates_Prospecting</a></div><div class="ttdeci">LootStore LootTemplates_Prospecting(&quot;prospecting_loot_template&quot;, &quot;item entry (ore)&quot;, true)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00165">ITEM_FLAG_IS_PROSPECTABLE</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#aa442746e1859bbd940dad2fdd852f406">LootTemplates_Prospecting</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00661">reload_commandscript::HandleReloadLootTemplatesProspectingCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a8015904fb38b1506755242730155cacc" name="a8015904fb38b1506755242730155cacc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8015904fb38b1506755242730155cacc">&#9670;&#160;</a></span>LoadLootTemplates_Reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Reference </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2346</span>{</div>
<div class="line"><span class="lineno"> 2347</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Reference Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2348</span> </div>
<div class="line"><span class="lineno"> 2349</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2350</span> </div>
<div class="line"><span class="lineno"> 2351</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2352</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a556a2458977647462ba38f61da196218">LootTemplates_Reference</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2353</span> </div>
<div class="line"><span class="lineno"> 2354</span>    <span class="comment">// check references and remove used</span></div>
<div class="line"><span class="lineno"> 2355</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a867a728f0e7d52d0c546457d9199bbe0">LootTemplates_Creature</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2356</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#af45baef147256b11372c092b0ac53f91">LootTemplates_Fishing</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2357</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a2092f58e2dc595c617668f039de77935">LootTemplates_Gameobject</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2358</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a3148b185e4fb344eaa918ccc37ff8e84">LootTemplates_Item</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2359</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a433757800c8ee4e9b654d504a4ee828a">LootTemplates_Milling</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2360</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a94fe5d87a40ef83d99db6ccfde0a719f">LootTemplates_Pickpocketing</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2361</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a195e88b39c43d01cbf8b1871a7129a60">LootTemplates_Skinning</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2362</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a5df89c4848d191ab038eed9a8f81b913">LootTemplates_Disenchant</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2363</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a5e98772296a6d93715a4ed74eb2b5bdf">LootTemplates_Prospecting</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2364</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#aba8aafe6a5d2d251b6e2f539b27f5949">LootTemplates_Mail</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2365</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a556a2458977647462ba38f61da196218">LootTemplates_Reference</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">CheckLootRefs</a>(&amp;lootIdSet);</div>
<div class="line"><span class="lineno"> 2366</span> </div>
<div class="line"><span class="lineno"> 2367</span>    <span class="comment">// output error for any still listed ids (not referenced from any loot table)</span></div>
<div class="line"><span class="lineno"> 2368</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a556a2458977647462ba38f61da196218">LootTemplates_Reference</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2369</span> </div>
<div class="line"><span class="lineno"> 2370</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded reference loot templates in {} ms&quot;</span>, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2371</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2372</span>}</div>
<div class="ttc" id="aLootMgr_8cpp_html_a195e88b39c43d01cbf8b1871a7129a60"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a195e88b39c43d01cbf8b1871a7129a60">LootTemplates_Skinning</a></div><div class="ttdeci">LootStore LootTemplates_Skinning(&quot;skinning_loot_template&quot;, &quot;creature skinning id&quot;, true)</div></div>
<div class="ttc" id="aLootMgr_8cpp_html_a556a2458977647462ba38f61da196218"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a556a2458977647462ba38f61da196218">LootTemplates_Reference</a></div><div class="ttdeci">LootStore LootTemplates_Reference(&quot;reference_loot_template&quot;, &quot;reference id&quot;, false)</div></div>
<div class="ttc" id="aclassLootStore_html_a6506931ec5ce351687bc0c44ef74b435"><div class="ttname"><a href="../../d1/de0/classLootStore.html#a6506931ec5ce351687bc0c44ef74b435">LootStore::CheckLootRefs</a></div><div class="ttdeci">void CheckLootRefs(LootIdSet *ref_set=nullptr) const</div><div class="ttdef"><b>Definition</b> LootMgr.cpp:277</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00277">LootStore::CheckLootRefs()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a60e4571187c2d3ad1cc7ecec58b29b6b">LootTemplates_Creature</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a18264c3977d9cc716aa034d667a706e7">LootTemplates_Disenchant</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a130d622342828cab6b845b2c9868dd38">LootTemplates_Fishing</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a31e68d51b0fcf3e28a4479991359a8b3">LootTemplates_Gameobject</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a9e0dd775278fdc9626bc8cb723035395">LootTemplates_Item</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a0c67423870bc7cc7f3c3999bc285280b">LootTemplates_Mail</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a2b487e26b2b104df71db0d0cdb218f70">LootTemplates_Milling</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#aff49ca707ec37f45e7faa1fef5bd34b1">LootTemplates_Pickpocketing</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#aa442746e1859bbd940dad2fdd852f406">LootTemplates_Prospecting</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#a2d34d3171cf6ee7b6e118d5b12be319e">LootTemplates_Reference</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#afae6f3070ecef810348bdccbf30d6bf4">LootTemplates_Skinning</a>, and <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00681">reload_commandscript::HandleReloadLootTemplatesReferenceCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="aec1cdee51afe09234ba6b2d917c21916" name="aec1cdee51afe09234ba6b2d917c21916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec1cdee51afe09234ba6b2d917c21916">&#9670;&#160;</a></span>LoadLootTemplates_Skinning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Skinning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2246</span>{</div>
<div class="line"><span class="lineno"> 2247</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Skinning Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2248</span> </div>
<div class="line"><span class="lineno"> 2249</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2250</span> </div>
<div class="line"><span class="lineno"> 2251</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet, lootIdSetUsed;</div>
<div class="line"><span class="lineno"> 2252</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a195e88b39c43d01cbf8b1871a7129a60">LootTemplates_Skinning</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2253</span> </div>
<div class="line"><span class="lineno"> 2254</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2255</span>    <a class="code hl_typedef" href="../../de/d2f/CreatureData_8h.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a> <span class="keyword">const</span>* ctc = <a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureTemplates();</div>
<div class="line"><span class="lineno"> 2256</span>    <span class="keywordflow">for</span> (CreatureTemplateContainer::const_iterator itr = ctc-&gt;begin(); itr != ctc-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2257</span>    {</div>
<div class="line"><span class="lineno"> 2258</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> lootid = itr-&gt;second.SkinLootId)</div>
<div class="line"><span class="lineno"> 2259</span>        {</div>
<div class="line"><span class="lineno"> 2260</span>            <span class="keywordflow">if</span> (lootIdSet.find(lootid) == lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2261</span>                <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a195e88b39c43d01cbf8b1871a7129a60">LootTemplates_Skinning</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#ab34193850f17f42ec65a466eefe4ff76">ReportNonExistingId</a>(lootid, <span class="stringliteral">&quot;Creature&quot;</span>, itr-&gt;second.Entry);</div>
<div class="line"><span class="lineno"> 2262</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2263</span>                lootIdSetUsed.insert(lootid);</div>
<div class="line"><span class="lineno"> 2264</span>        }</div>
<div class="line"><span class="lineno"> 2265</span>    }</div>
<div class="line"><span class="lineno"> 2266</span> </div>
<div class="line"><span class="lineno"> 2267</span>    <span class="keywordflow">for</span> (LootIdSet::const_iterator itr = lootIdSetUsed.begin(); itr != lootIdSetUsed.end(); ++itr)</div>
<div class="line"><span class="lineno"> 2268</span>        lootIdSet.erase(*itr);</div>
<div class="line"><span class="lineno"> 2269</span> </div>
<div class="line"><span class="lineno"> 2270</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2271</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a195e88b39c43d01cbf8b1871a7129a60">LootTemplates_Skinning</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2272</span> </div>
<div class="line"><span class="lineno"> 2273</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2274</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} skinning loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2275</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2276</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 skinning loot templates. DB table `skinning_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2277</span> </div>
<div class="line"><span class="lineno"> 2278</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2279</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#afae6f3070ecef810348bdccbf30d6bf4">LootTemplates_Skinning</a>, <a class="el" href="../../#l00290">LootStore::ReportNonExistingId()</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00690">reload_commandscript::HandleReloadLootTemplatesSkinningCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="a1c69325fc9720f428891b814817eb762" name="a1c69325fc9720f428891b814817eb762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c69325fc9720f428891b814817eb762">&#9670;&#160;</a></span>LoadLootTemplates_Spell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadLootTemplates_Spell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2282</span>{</div>
<div class="line"><span class="lineno"> 2283</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Spell Loot Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2284</span> </div>
<div class="line"><span class="lineno"> 2285</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2286</span> </div>
<div class="line"><span class="lineno"> 2287</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#abf507a0fbd8ed984100b16e0b9aa20e7">LootIdSet</a> lootIdSet;</div>
<div class="line"><span class="lineno"> 2288</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a12b8cff5bc25ff6a80a044a72d037aaa">LootTemplates_Spell</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#a172a485f55b00f97248779c3f9f996dd">LoadAndCollectLootIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2289</span> </div>
<div class="line"><span class="lineno"> 2290</span>    <span class="comment">// remove real entries and check existence loot</span></div>
<div class="line"><span class="lineno"> 2291</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id = 1; spell_id &lt; <a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfoStoreSize(); ++spell_id)</div>
<div class="line"><span class="lineno"> 2292</span>    {</div>
<div class="line"><span class="lineno"> 2293</span>        <a class="code hl_class" href="../../d2/de9/classSpellInfo.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_define" href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(spell_id);</div>
<div class="line"><span class="lineno"> 2294</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2295</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2296</span> </div>
<div class="line"><span class="lineno"> 2297</span>        <span class="comment">// possible cases</span></div>
<div class="line"><span class="lineno"> 2298</span>        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d2/de9/classSpellInfo.html#a4e28f041950aff97f628956390a51616">IsLootCrafting</a>())</div>
<div class="line"><span class="lineno"> 2299</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2300</span> </div>
<div class="line"><span class="lineno"> 2301</span>        <span class="keywordflow">if</span> (lootIdSet.find(spell_id) == lootIdSet.end())</div>
<div class="line"><span class="lineno"> 2302</span>        {</div>
<div class="line"><span class="lineno"> 2303</span>            <span class="comment">// not report about not trainable spells (optionally supported by DB)</span></div>
<div class="line"><span class="lineno"> 2304</span>            <span class="comment">// ignore 61756 (Northrend Inscription Research (FAST QA VERSION) for example</span></div>
<div class="line"><span class="lineno"> 2305</span>            <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d2/de9/classSpellInfo.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a>) || spellInfo-&gt;<a class="code hl_function" href="../../d2/de9/classSpellInfo.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../de/d0a/SharedDefines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada12a3a862f48dcabecacfc7c7392a69bf">SPELL_ATTR0_IS_TRADESKILL</a>))</div>
<div class="line"><span class="lineno"> 2306</span>            {</div>
<div class="line"><span class="lineno"> 2307</span>                <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a12b8cff5bc25ff6a80a044a72d037aaa">LootTemplates_Spell</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#ab34193850f17f42ec65a466eefe4ff76">ReportNonExistingId</a>(spell_id, <span class="stringliteral">&quot;Spell&quot;</span>, spellInfo-&gt;<a class="code hl_variable" href="../../d2/de9/classSpellInfo.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><span class="lineno"> 2308</span>            }</div>
<div class="line"><span class="lineno"> 2309</span>        }</div>
<div class="line"><span class="lineno"> 2310</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2311</span>            lootIdSet.erase(spell_id);</div>
<div class="line"><span class="lineno"> 2312</span>    }</div>
<div class="line"><span class="lineno"> 2313</span> </div>
<div class="line"><span class="lineno"> 2314</span>    <span class="comment">// output error for any still listed (not referenced from appropriate table) ids</span></div>
<div class="line"><span class="lineno"> 2315</span>    <a class="code hl_variable" href="../../d8/d03/LootMgr_8cpp.html#a12b8cff5bc25ff6a80a044a72d037aaa">LootTemplates_Spell</a>.<a class="code hl_function" href="../../d1/de0/classLootStore.html#af0fe6608310a123d70cc8221e65e4556">ReportUnusedIds</a>(lootIdSet);</div>
<div class="line"><span class="lineno"> 2316</span> </div>
<div class="line"><span class="lineno"> 2317</span>    <span class="keywordflow">if</span> (count)</div>
<div class="line"><span class="lineno"> 2318</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} spell loot templates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../dd/d27/Timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2319</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2320</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell loot templates. DB table `spell_loot_template` is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2321</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2322</span>}</div>
<div class="ttc" id="aLootMgr_8cpp_html_a12b8cff5bc25ff6a80a044a72d037aaa"><div class="ttname"><a href="../../d8/d03/LootMgr_8cpp.html#a12b8cff5bc25ff6a80a044a72d037aaa">LootTemplates_Spell</a></div><div class="ttdeci">LootStore LootTemplates_Spell(&quot;spell_loot_template&quot;, &quot;spell id (random item creating)&quot;, false)</div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada12a3a862f48dcabecacfc7c7392a69bf"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada12a3a862f48dcabecacfc7c7392a69bf">SPELL_ATTR0_IS_TRADESKILL</a></div><div class="ttdeci">@ SPELL_ATTR0_IS_TRADESKILL</div><div class="ttdef"><b>Definition</b> SharedDefines.h:387</div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0"><div class="ttname"><a href="../../de/d0a/SharedDefines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a></div><div class="ttdeci">@ SPELL_ATTR0_NOT_SHAPESHIFTED</div><div class="ttdef"><b>Definition</b> SharedDefines.h:398</div></div>
<div class="ttc" id="aSpellMgr_8h_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../de/d30/SpellMgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition</b> SpellMgr.h:825</div></div>
<div class="ttc" id="aclassSpellInfo_html"><div class="ttname"><a href="../../d2/de9/classSpellInfo.html">SpellInfo</a></div><div class="ttdef"><b>Definition</b> SpellInfo.h:316</div></div>
<div class="ttc" id="aclassSpellInfo_html_a49bc14059c2bd3785231c52e0d54d382"><div class="ttname"><a href="../../d2/de9/classSpellInfo.html#a49bc14059c2bd3785231c52e0d54d382">SpellInfo::Id</a></div><div class="ttdeci">uint32 Id</div><div class="ttdef"><b>Definition</b> SpellInfo.h:320</div></div>
<div class="ttc" id="aclassSpellInfo_html_a4e28f041950aff97f628956390a51616"><div class="ttname"><a href="../../d2/de9/classSpellInfo.html#a4e28f041950aff97f628956390a51616">SpellInfo::IsLootCrafting</a></div><div class="ttdeci">bool IsLootCrafting() const</div><div class="ttdef"><b>Definition</b> SpellInfo.cpp:925</div></div>
<div class="ttc" id="aclassSpellInfo_html_a975746d6b737abb063ea037327abfc5a"><div class="ttname"><a href="../../d2/de9/classSpellInfo.html#a975746d6b737abb063ea037327abfc5a">SpellInfo::HasAttribute</a></div><div class="ttdeci">bool HasAttribute(SpellAttr0 attribute) const</div><div class="ttdef"><b>Definition</b> SpellInfo.h:415</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00415">SpellInfo::HasAttribute()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00925">SpellInfo::IsLootCrafting()</a>, <a class="el" href="../../#l00267">LootStore::LoadAndCollectLootIds()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../d9/d84/LootMgr_8h.html#ace36a12afd7b338b0b935b6a824c1bbe">LootTemplates_Spell</a>, <a class="el" href="../../#l00290">LootStore::ReportNonExistingId()</a>, <a class="el" href="../../#l00283">LootStore::ReportUnusedIds()</a>, <a class="el" href="../../#l00387">SPELL_ATTR0_IS_TRADESKILL</a>, <a class="el" href="../../#l00398">SPELL_ATTR0_NOT_SHAPESHIFTED</a>, and <a class="el" href="../../#l00825">sSpellMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00700">reload_commandscript::HandleReloadLootTemplatesSpellCommand()</a>, and <a class="el" href="../../#l00443">LoadLootTables()</a>.</p>

</div>
</div>
<a id="ac7f789f6da959300694693d249113e9f" name="ac7f789f6da959300694693d249113e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f789f6da959300694693d249113e9f">&#9670;&#160;</a></span>operator&lt;&lt;() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d72/structLootItem.html">LootItem</a> const &amp;&#160;</td>
          <td class="paramname"><em>li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  993</span>{</div>
<div class="line"><span class="lineno">  994</span>    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(li.itemid);</div>
<div class="line"><span class="lineno">  995</span>    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(li.count);                                  <span class="comment">// nr of items of this type</span></div>
<div class="line"><span class="lineno">  996</span>    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_define" href="../../de/d25/ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(li.itemid)-&gt;DisplayInfoID);</div>
<div class="line"><span class="lineno">  997</span>    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(li.randomSuffix);</div>
<div class="line"><span class="lineno">  998</span>    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(li.randomPropertyId);</div>
<div class="line"><span class="lineno">  999</span>    <span class="comment">//b &lt;&lt; uint8(0);                                        // slot type - will send after this function call</span></div>
<div class="line"><span class="lineno"> 1000</span>    <span class="keywordflow">return</span> b;</div>
<div class="line"><span class="lineno"> 1001</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00162">LootItem::count</a>, <a class="el" href="../../#l00155">LootItem::itemid</a>, <a class="el" href="../../#l00158">LootItem::randomPropertyId</a>, <a class="el" href="../../#l00157">LootItem::randomSuffix</a>, and <a class="el" href="../../#l01643">sObjectMgr</a>.</p>

</div>
</div>
<a id="a08df83acd4a8d8591eebb3753e121fc7" name="a08df83acd4a8d8591eebb3753e121fc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08df83acd4a8d8591eebb3753e121fc7">&#9670;&#160;</a></span>operator&lt;&lt;() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classByteBuffer.html">ByteBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/db3/structLootView.html">LootView</a> const &amp;&#160;</td>
          <td class="paramname"><em>lv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1004</span>{</div>
<div class="line"><span class="lineno"> 1005</span>    <span class="keywordflow">if</span> (lv.permission == <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a9072f1b1460c900c5dee08f9401861fa">NONE_PERMISSION</a>)</div>
<div class="line"><span class="lineno"> 1006</span>    {</div>
<div class="line"><span class="lineno"> 1007</span>        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                     <span class="comment">//gold</span></div>
<div class="line"><span class="lineno"> 1008</span>        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);                                      <span class="comment">// item count</span></div>
<div class="line"><span class="lineno"> 1009</span>        <span class="keywordflow">return</span> b;                                           <span class="comment">// nothing output more</span></div>
<div class="line"><span class="lineno"> 1010</span>    }</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>    <a class="code hl_struct" href="../../d8/d62/structLoot.html">Loot</a>&amp; l = lv.loot;</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>    <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> itemsShown = 0;</div>
<div class="line"><span class="lineno"> 1015</span> </div>
<div class="line"><span class="lineno"> 1016</span>    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a8a079b186937e50d51fc4636f8deb698">gold</a>);                                    <span class="comment">//gold</span></div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>    std::size_t count_pos = b.<a class="code hl_function" href="../../da/d07/classByteBuffer.html#a6e9aaf9195c43a9a03ee4a55c435e24f">wpos</a>();                            <span class="comment">// pos of item count byte</span></div>
<div class="line"><span class="lineno"> 1019</span>    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);                                          <span class="comment">// item count placeholder</span></div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">switch</span> (lv.permission)</div>
<div class="line"><span class="lineno"> 1022</span>    {</div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad84d7d18444b133278cd128fd4e791b9">GROUP_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1024</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0">MASTER_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a7263745734e215e07d51a59eb688edc2">RESTRICTED_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1026</span>            {</div>
<div class="line"><span class="lineno"> 1027</span>                <span class="keywordtype">bool</span> isMasterLooter = lv.viewer-&gt;GetGroup() &amp;&amp; lv.viewer-&gt;GetGroup()-&gt;GetMasterLooterGuid() == lv.viewer-&gt;GetGUID();</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>                <span class="comment">// if you are not the round-robin group looter, you can only see</span></div>
<div class="line"><span class="lineno"> 1030</span>                <span class="comment">// blocked rolled items and quest items, and !ffa items</span></div>
<div class="line"><span class="lineno"> 1031</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>.size(); ++i)</div>
<div class="line"><span class="lineno"> 1032</span>                {</div>
<div class="line"><span class="lineno"> 1033</span>                    <span class="keywordflow">if</span> (!l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].is_looted &amp;&amp; !l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].freeforall &amp;&amp; (l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].conditions.empty() || isMasterLooter) &amp;&amp; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].AllowedForPlayer(lv.viewer, l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a462871d75b43fa25808d3a1893eb4118">sourceWorldObjectGUID</a>))</div>
<div class="line"><span class="lineno"> 1034</span>                    {</div>
<div class="line"><span class="lineno"> 1035</span>                        <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> slot_type = 0;</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>                        <span class="keywordflow">if</span> (l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].is_blocked) <span class="comment">// for ML &amp; restricted is_blocked = !is_underthreshold</span></div>
<div class="line"><span class="lineno"> 1038</span>                        {</div>
<div class="line"><span class="lineno"> 1039</span>                            <span class="keywordflow">switch</span> (lv.permission)</div>
<div class="line"><span class="lineno"> 1040</span>                            {</div>
<div class="line"><span class="lineno"> 1041</span>                                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad84d7d18444b133278cd128fd4e791b9">GROUP_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1042</span>                                    slot_type = <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a5f038102313e70df26e6218c38c17e6b">LOOT_SLOT_TYPE_ROLL_ONGOING</a>;</div>
<div class="line"><span class="lineno"> 1043</span>                                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1044</span>                                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0">MASTER_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1045</span>                                    {</div>
<div class="line"><span class="lineno"> 1046</span>                                        <span class="keywordflow">if</span> (lv.viewer-&gt;GetGroup())</div>
<div class="line"><span class="lineno"> 1047</span>                                        {</div>
<div class="line"><span class="lineno"> 1048</span>                                            <span class="keywordflow">if</span> (lv.viewer-&gt;GetGroup()-&gt;GetMasterLooterGuid() == lv.viewer-&gt;GetGUID())</div>
<div class="line"><span class="lineno"> 1049</span>                                                slot_type = <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a2704402003a31c849c6f52da262bf294">LOOT_SLOT_TYPE_MASTER</a>;</div>
<div class="line"><span class="lineno"> 1050</span>                                            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1051</span>                                                slot_type = <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42ae33105bc1d7809a9f0a6fa174bc1acba">LOOT_SLOT_TYPE_LOCKED</a>;</div>
<div class="line"><span class="lineno"> 1052</span>                                        }</div>
<div class="line"><span class="lineno"> 1053</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1054</span>                                    }</div>
<div class="line"><span class="lineno"> 1055</span>                                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a7263745734e215e07d51a59eb688edc2">RESTRICTED_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1056</span>                                    slot_type = <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42ae33105bc1d7809a9f0a6fa174bc1acba">LOOT_SLOT_TYPE_LOCKED</a>;</div>
<div class="line"><span class="lineno"> 1057</span>                                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1058</span>                                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1059</span>                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1060</span>                            }</div>
<div class="line"><span class="lineno"> 1061</span>                        }</div>
<div class="line"><span class="lineno"> 1062</span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].rollWinnerGUID)</div>
<div class="line"><span class="lineno"> 1063</span>                        {</div>
<div class="line"><span class="lineno"> 1064</span>                            <span class="keywordflow">if</span> (l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].rollWinnerGUID == lv.viewer-&gt;GetGUID())</div>
<div class="line"><span class="lineno"> 1065</span>                                slot_type = <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42aa11325a7cb83156f4b8f07049189c2db">LOOT_SLOT_TYPE_OWNER</a>;</div>
<div class="line"><span class="lineno"> 1066</span>                            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1067</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1068</span>                        }</div>
<div class="line"><span class="lineno"> 1069</span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a65d385158f0ed6ca4cb241dd4cce4aa4">roundRobinPlayer</a> || lv.viewer-&gt;GetGUID() == l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a65d385158f0ed6ca4cb241dd4cce4aa4">roundRobinPlayer</a> || !l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].is_underthreshold)</div>
<div class="line"><span class="lineno"> 1070</span>                        {</div>
<div class="line"><span class="lineno"> 1071</span>                            <span class="comment">// no round robin owner or he has released the loot</span></div>
<div class="line"><span class="lineno"> 1072</span>                            <span class="comment">// or it IS the round robin group owner</span></div>
<div class="line"><span class="lineno"> 1073</span>                            <span class="comment">// =&gt; item is lootable</span></div>
<div class="line"><span class="lineno"> 1074</span>                            slot_type = <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a>;</div>
<div class="line"><span class="lineno"> 1075</span>                        }</div>
<div class="line"><span class="lineno"> 1076</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1077</span>                            <span class="comment">// item shall not be displayed.</span></div>
<div class="line"><span class="lineno"> 1078</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(i) &lt;&lt; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i];</div>
<div class="line"><span class="lineno"> 1081</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slot_type);</div>
<div class="line"><span class="lineno"> 1082</span>                        ++itemsShown;</div>
<div class="line"><span class="lineno"> 1083</span>                    }</div>
<div class="line"><span class="lineno"> 1084</span>                }</div>
<div class="line"><span class="lineno"> 1085</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1086</span>            }</div>
<div class="line"><span class="lineno"> 1087</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411abd17bc9b74a00f89fe6d142116edf89b">ROUND_ROBIN_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1088</span>            {</div>
<div class="line"><span class="lineno"> 1089</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>.size(); ++i)</div>
<div class="line"><span class="lineno"> 1090</span>                {</div>
<div class="line"><span class="lineno"> 1091</span>                    <span class="keywordflow">if</span> (!l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].is_looted &amp;&amp; !l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].freeforall &amp;&amp; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].conditions.empty() &amp;&amp; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].AllowedForPlayer(lv.viewer, l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a462871d75b43fa25808d3a1893eb4118">sourceWorldObjectGUID</a>))</div>
<div class="line"><span class="lineno"> 1092</span>                    {</div>
<div class="line"><span class="lineno"> 1093</span>                        <span class="keywordflow">if</span> (l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a65d385158f0ed6ca4cb241dd4cce4aa4">roundRobinPlayer</a> &amp;&amp; lv.viewer-&gt;GetGUID() != l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a65d385158f0ed6ca4cb241dd4cce4aa4">roundRobinPlayer</a>)</div>
<div class="line"><span class="lineno"> 1094</span>                            <span class="comment">// item shall not be displayed.</span></div>
<div class="line"><span class="lineno"> 1095</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(i) &lt;&lt; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i];</div>
<div class="line"><span class="lineno"> 1098</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a>);</div>
<div class="line"><span class="lineno"> 1099</span>                        ++itemsShown;</div>
<div class="line"><span class="lineno"> 1100</span>                    }</div>
<div class="line"><span class="lineno"> 1101</span>                }</div>
<div class="line"><span class="lineno"> 1102</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1103</span>            }</div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a2d9a4531b3187d6d98a5bb3245f99588">ALL_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1105</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a1750b08b9056ac1ab4f1115ed33ffa5f">OWNER_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1106</span>            {</div>
<div class="line"><span class="lineno"> 1107</span>                <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> slot_type = lv.permission == <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a1750b08b9056ac1ab4f1115ed33ffa5f">OWNER_PERMISSION</a> ? <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42aa11325a7cb83156f4b8f07049189c2db">LOOT_SLOT_TYPE_OWNER</a> : <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a>;</div>
<div class="line"><span class="lineno"> 1108</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>.size(); ++i)</div>
<div class="line"><span class="lineno"> 1109</span>                {</div>
<div class="line"><span class="lineno"> 1110</span>                    <span class="keywordflow">if</span> (!l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].is_looted &amp;&amp; !l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].freeforall &amp;&amp; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].conditions.empty() &amp;&amp; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i].AllowedForPlayer(lv.viewer, l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#a462871d75b43fa25808d3a1893eb4118">sourceWorldObjectGUID</a>))</div>
<div class="line"><span class="lineno"> 1111</span>                    {</div>
<div class="line"><span class="lineno"> 1112</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(i) &lt;&lt; l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[i];</div>
<div class="line"><span class="lineno"> 1113</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slot_type);</div>
<div class="line"><span class="lineno"> 1114</span>                        ++itemsShown;</div>
<div class="line"><span class="lineno"> 1115</span>                    }</div>
<div class="line"><span class="lineno"> 1116</span>                }</div>
<div class="line"><span class="lineno"> 1117</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1118</span>            }</div>
<div class="line"><span class="lineno"> 1119</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1120</span>            <span class="keywordflow">return</span> b;</div>
<div class="line"><span class="lineno"> 1121</span>    }</div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>    <a class="code hl_enumeration" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42">LootSlotType</a> slotType = lv.permission == <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a1750b08b9056ac1ab4f1115ed33ffa5f">OWNER_PERMISSION</a> ? <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42aa11325a7cb83156f4b8f07049189c2db">LOOT_SLOT_TYPE_OWNER</a> : <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a>;</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>    <span class="comment">// Xinef: items that do not follow loot rules need this</span></div>
<div class="line"><span class="lineno"> 1126</span>    <a class="code hl_enumeration" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42">LootSlotType</a> partySlotType = lv.permission == <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0">MASTER_PERMISSION</a> ? <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a2704402003a31c849c6f52da262bf294">LOOT_SLOT_TYPE_MASTER</a> : slotType;</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#a37571dff8ec8d0034df583b5dc062bf2">QuestItemMap</a> <span class="keyword">const</span>&amp; lootPlayerQuestItems = l.<a class="code hl_function" href="../../d8/d62/structLoot.html#aa9f074d6aada3f2fbf59303bdae43794">GetPlayerQuestItems</a>();</div>
<div class="line"><span class="lineno"> 1129</span>    QuestItemMap::const_iterator q_itr = lootPlayerQuestItems.find(lv.viewer-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keywordflow">if</span> (q_itr != lootPlayerQuestItems.end())</div>
<div class="line"><span class="lineno"> 1131</span>    {</div>
<div class="line"><span class="lineno"> 1132</span>        <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#aefbd6adf4dc1ea158a5273f01e0efa8c">QuestItemList</a>* q_list = q_itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1133</span>        <span class="keywordflow">for</span> (QuestItemList::const_iterator qi = q_list-&gt;begin(); qi != q_list-&gt;end(); ++qi)</div>
<div class="line"><span class="lineno"> 1134</span>        {</div>
<div class="line"><span class="lineno"> 1135</span>            <a class="code hl_struct" href="../../db/d72/structLootItem.html">LootItem</a>&amp; item = l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#afa9a10adf695d6591d45a3afd74e0825">quest_items</a>[qi-&gt;index];</div>
<div class="line"><span class="lineno"> 1136</span>            <span class="keywordflow">if</span> (!qi-&gt;is_looted &amp;&amp; !item.<a class="code hl_variable" href="../../db/d72/structLootItem.html#a9021fa353f7538706349702498a4e778">is_looted</a>)</div>
<div class="line"><span class="lineno"> 1137</span>            {</div>
<div class="line"><span class="lineno"> 1138</span>                <span class="keywordtype">bool</span> showInLoot = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1139</span>                <span class="keywordtype">bool</span> hasQuestForItem = lv.viewer-&gt;HasQuestForItem(item.<a class="code hl_variable" href="../../db/d72/structLootItem.html#a03aad2576badecebacfb0f4658fdbf4c">itemid</a>, 0, <span class="keyword">false</span>, &amp;showInLoot);</div>
<div class="line"><span class="lineno"> 1140</span>                <span class="keywordflow">if</span> (!hasQuestForItem)</div>
<div class="line"><span class="lineno"> 1141</span>                {</div>
<div class="line"><span class="lineno"> 1142</span>                    <span class="keywordflow">if</span> (!showInLoot)</div>
<div class="line"><span class="lineno"> 1143</span>                    {</div>
<div class="line"><span class="lineno"> 1144</span>                        <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d6/d31/structQuestItem.html">QuestItem</a>*<span class="keyword">&gt;</span>(&amp;(*qi))-&gt;is_looted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1145</span>                        <span class="keywordflow">if</span> (!item.<a class="code hl_variable" href="../../db/d72/structLootItem.html#ae9f49e27fd81c235fdc2c754918f55c4">freeforall</a>)</div>
<div class="line"><span class="lineno"> 1146</span>                        {</div>
<div class="line"><span class="lineno"> 1147</span>                            item.<a class="code hl_variable" href="../../db/d72/structLootItem.html#a9021fa353f7538706349702498a4e778">is_looted</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1148</span>                        }</div>
<div class="line"><span class="lineno"> 1149</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1150</span>                    }</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>                    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>.size() + (qi - q_list-&gt;begin()));</div>
<div class="line"><span class="lineno"> 1153</span>                    b &lt;&lt; item;</div>
<div class="line"><span class="lineno"> 1154</span>                    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(lv.permission == <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0">MASTER_PERMISSION</a> ? <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a2704402003a31c849c6f52da262bf294">LOOT_SLOT_TYPE_MASTER</a> : <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42ae33105bc1d7809a9f0a6fa174bc1acba">LOOT_SLOT_TYPE_LOCKED</a>);</div>
<div class="line"><span class="lineno"> 1155</span>                }</div>
<div class="line"><span class="lineno"> 1156</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1157</span>                {</div>
<div class="line"><span class="lineno"> 1158</span>                    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>.size() + (qi - q_list-&gt;begin()));</div>
<div class="line"><span class="lineno"> 1159</span>                    b &lt;&lt; item;</div>
<div class="line"><span class="lineno"> 1160</span> </div>
<div class="line"><span class="lineno"> 1161</span>                    <span class="keywordflow">if</span> (item.follow_loot_rules)</div>
<div class="line"><span class="lineno"> 1162</span>                    {</div>
<div class="line"><span class="lineno"> 1163</span>                        <span class="keywordflow">switch</span> (lv.permission)</div>
<div class="line"><span class="lineno"> 1164</span>                        {</div>
<div class="line"><span class="lineno"> 1165</span>                            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0">MASTER_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1166</span>                                b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a2704402003a31c849c6f52da262bf294">LOOT_SLOT_TYPE_MASTER</a>);</div>
<div class="line"><span class="lineno"> 1167</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1168</span>                            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a7263745734e215e07d51a59eb688edc2">RESTRICTED_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1169</span>                                b &lt;&lt; (item.is_blocked ? <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42ae33105bc1d7809a9f0a6fa174bc1acba">LOOT_SLOT_TYPE_LOCKED</a>) : <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slotType));</div>
<div class="line"><span class="lineno"> 1170</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1171</span>                            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad84d7d18444b133278cd128fd4e791b9">GROUP_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1172</span>                            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411abd17bc9b74a00f89fe6d142116edf89b">ROUND_ROBIN_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1173</span>                                <span class="keywordflow">if</span> (!item.is_blocked)</div>
<div class="line"><span class="lineno"> 1174</span>                                    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a>);</div>
<div class="line"><span class="lineno"> 1175</span>                                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1176</span>                                    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a5f038102313e70df26e6218c38c17e6b">LOOT_SLOT_TYPE_ROLL_ONGOING</a>);</div>
<div class="line"><span class="lineno"> 1177</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1178</span>                            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1179</span>                                b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slotType);</div>
<div class="line"><span class="lineno"> 1180</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1181</span>                        }</div>
<div class="line"><span class="lineno"> 1182</span>                    }</div>
<div class="line"><span class="lineno"> 1183</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!item.freeforall)</div>
<div class="line"><span class="lineno"> 1184</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(partySlotType);</div>
<div class="line"><span class="lineno"> 1185</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1186</span>                        b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slotType);</div>
<div class="line"><span class="lineno"> 1187</span>                }</div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>                ++itemsShown;</div>
<div class="line"><span class="lineno"> 1190</span>            }</div>
<div class="line"><span class="lineno"> 1191</span>        }</div>
<div class="line"><span class="lineno"> 1192</span>    }</div>
<div class="line"><span class="lineno"> 1193</span> </div>
<div class="line"><span class="lineno"> 1194</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#a37571dff8ec8d0034df583b5dc062bf2">QuestItemMap</a> <span class="keyword">const</span>&amp; lootPlayerFFAItems = l.<a class="code hl_function" href="../../d8/d62/structLoot.html#ac60d37c9b93ff3c1efa307366477fc49">GetPlayerFFAItems</a>();</div>
<div class="line"><span class="lineno"> 1195</span>    QuestItemMap::const_iterator ffa_itr = lootPlayerFFAItems.find(lv.viewer-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 1196</span>    <span class="keywordflow">if</span> (ffa_itr != lootPlayerFFAItems.end())</div>
<div class="line"><span class="lineno"> 1197</span>    {</div>
<div class="line"><span class="lineno"> 1198</span>        <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#aefbd6adf4dc1ea158a5273f01e0efa8c">QuestItemList</a>* ffa_list = ffa_itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1199</span>        <span class="keywordflow">for</span> (QuestItemList::const_iterator fi = ffa_list-&gt;begin(); fi != ffa_list-&gt;end(); ++fi)</div>
<div class="line"><span class="lineno"> 1200</span>        {</div>
<div class="line"><span class="lineno"> 1201</span>            <a class="code hl_struct" href="../../db/d72/structLootItem.html">LootItem</a>&amp; item = l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[fi-&gt;index];</div>
<div class="line"><span class="lineno"> 1202</span>            <span class="keywordflow">if</span> (!fi-&gt;is_looted &amp;&amp; !item.<a class="code hl_variable" href="../../db/d72/structLootItem.html#a9021fa353f7538706349702498a4e778">is_looted</a>)</div>
<div class="line"><span class="lineno"> 1203</span>            {</div>
<div class="line"><span class="lineno"> 1204</span>                b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(fi-&gt;index);</div>
<div class="line"><span class="lineno"> 1205</span>                b &lt;&lt; item;</div>
<div class="line"><span class="lineno"> 1206</span>                <span class="comment">// Xinef: Here are FFA items, so dont use owner permision</span></div>
<div class="line"><span class="lineno"> 1207</span>                b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a> <span class="comment">/*slotType*/</span>);</div>
<div class="line"><span class="lineno"> 1208</span>                ++itemsShown;</div>
<div class="line"><span class="lineno"> 1209</span>            }</div>
<div class="line"><span class="lineno"> 1210</span>        }</div>
<div class="line"><span class="lineno"> 1211</span>    }</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>    <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#a37571dff8ec8d0034df583b5dc062bf2">QuestItemMap</a> <span class="keyword">const</span>&amp; lootPlayerNonQuestNonFFAConditionalItems = l.<a class="code hl_function" href="../../d8/d62/structLoot.html#ad2018513176aca0f87694c36ed47551c">GetPlayerNonQuestNonFFAConditionalItems</a>();</div>
<div class="line"><span class="lineno"> 1214</span>    QuestItemMap::const_iterator nn_itr = lootPlayerNonQuestNonFFAConditionalItems.find(lv.viewer-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 1215</span>    <span class="keywordflow">if</span> (nn_itr != lootPlayerNonQuestNonFFAConditionalItems.end())</div>
<div class="line"><span class="lineno"> 1216</span>    {</div>
<div class="line"><span class="lineno"> 1217</span>        <a class="code hl_typedef" href="../../d9/d84/LootMgr_8h.html#aefbd6adf4dc1ea158a5273f01e0efa8c">QuestItemList</a>* conditional_list = nn_itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1218</span>        <span class="keywordflow">for</span> (QuestItemList::const_iterator ci = conditional_list-&gt;begin(); ci != conditional_list-&gt;end(); ++ci)</div>
<div class="line"><span class="lineno"> 1219</span>        {</div>
<div class="line"><span class="lineno"> 1220</span>            <a class="code hl_struct" href="../../db/d72/structLootItem.html">LootItem</a>&amp; item = l.<a class="code hl_variable" href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">items</a>[ci-&gt;index];</div>
<div class="line"><span class="lineno"> 1221</span>            <span class="keywordflow">if</span> (!ci-&gt;is_looted &amp;&amp; !item.<a class="code hl_variable" href="../../db/d72/structLootItem.html#a9021fa353f7538706349702498a4e778">is_looted</a>)</div>
<div class="line"><span class="lineno"> 1222</span>            {</div>
<div class="line"><span class="lineno"> 1223</span>                b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(ci-&gt;index);</div>
<div class="line"><span class="lineno"> 1224</span>                b &lt;&lt; item;</div>
<div class="line"><span class="lineno"> 1225</span>                <span class="keywordflow">if</span> (item.follow_loot_rules)</div>
<div class="line"><span class="lineno"> 1226</span>                {</div>
<div class="line"><span class="lineno"> 1227</span>                    <span class="keywordflow">switch</span> (lv.permission)</div>
<div class="line"><span class="lineno"> 1228</span>                    {</div>
<div class="line"><span class="lineno"> 1229</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0">MASTER_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1230</span>                            b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a2704402003a31c849c6f52da262bf294">LOOT_SLOT_TYPE_MASTER</a>);</div>
<div class="line"><span class="lineno"> 1231</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1232</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a7263745734e215e07d51a59eb688edc2">RESTRICTED_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1233</span>                            b &lt;&lt; (item.is_blocked ? <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42ae33105bc1d7809a9f0a6fa174bc1acba">LOOT_SLOT_TYPE_LOCKED</a>) : <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slotType));</div>
<div class="line"><span class="lineno"> 1234</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1235</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad84d7d18444b133278cd128fd4e791b9">GROUP_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1236</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411abd17bc9b74a00f89fe6d142116edf89b">ROUND_ROBIN_PERMISSION</a>:</div>
<div class="line"><span class="lineno"> 1237</span>                            <span class="keywordflow">if</span> (!item.is_blocked)</div>
<div class="line"><span class="lineno"> 1238</span>                                b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a>);</div>
<div class="line"><span class="lineno"> 1239</span>                            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1240</span>                                b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a5f038102313e70df26e6218c38c17e6b">LOOT_SLOT_TYPE_ROLL_ONGOING</a>);</div>
<div class="line"><span class="lineno"> 1241</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1242</span>                        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1243</span>                            b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slotType);</div>
<div class="line"><span class="lineno"> 1244</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1245</span>                    }</div>
<div class="line"><span class="lineno"> 1246</span>                }</div>
<div class="line"><span class="lineno"> 1247</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!item.freeforall)</div>
<div class="line"><span class="lineno"> 1248</span>                    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(partySlotType);</div>
<div class="line"><span class="lineno"> 1249</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1250</span>                    b &lt;&lt; <a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(slotType);</div>
<div class="line"><span class="lineno"> 1251</span>                ++itemsShown;</div>
<div class="line"><span class="lineno"> 1252</span>            }</div>
<div class="line"><span class="lineno"> 1253</span>        }</div>
<div class="line"><span class="lineno"> 1254</span>    }</div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span>    <span class="comment">//update number of items shown</span></div>
<div class="line"><span class="lineno"> 1257</span>    b.<a class="code hl_function" href="../../da/d07/classByteBuffer.html#ab14206d336f09c4096a84a27c9bb6777">put</a>&lt;<a class="code hl_typedef" href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;(count_pos, itemsShown);</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span>    <span class="keywordflow">return</span> b;</div>
<div class="line"><span class="lineno"> 1260</span>}</div>
<div class="ttc" id="aDefine_8h_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../da/d97/Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition</b> Define.h:109</div></div>
<div class="ttc" id="aLootMgr_8h_html_a10c103da8c7dee2fd4e431c086a4d411a1750b08b9056ac1ab4f1115ed33ffa5f"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a1750b08b9056ac1ab4f1115ed33ffa5f">OWNER_PERMISSION</a></div><div class="ttdeci">@ OWNER_PERMISSION</div><div class="ttdef"><b>Definition</b> LootMgr.h:72</div></div>
<div class="ttc" id="aLootMgr_8h_html_a10c103da8c7dee2fd4e431c086a4d411a2d9a4531b3187d6d98a5bb3245f99588"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a2d9a4531b3187d6d98a5bb3245f99588">ALL_PERMISSION</a></div><div class="ttdeci">@ ALL_PERMISSION</div><div class="ttdef"><b>Definition</b> LootMgr.h:67</div></div>
<div class="ttc" id="aLootMgr_8h_html_a10c103da8c7dee2fd4e431c086a4d411a7263745734e215e07d51a59eb688edc2"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a7263745734e215e07d51a59eb688edc2">RESTRICTED_PERMISSION</a></div><div class="ttdeci">@ RESTRICTED_PERMISSION</div><div class="ttdef"><b>Definition</b> LootMgr.h:70</div></div>
<div class="ttc" id="aLootMgr_8h_html_a10c103da8c7dee2fd4e431c086a4d411a9072f1b1460c900c5dee08f9401861fa"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411a9072f1b1460c900c5dee08f9401861fa">NONE_PERMISSION</a></div><div class="ttdeci">@ NONE_PERMISSION</div><div class="ttdef"><b>Definition</b> LootMgr.h:73</div></div>
<div class="ttc" id="aLootMgr_8h_html_a10c103da8c7dee2fd4e431c086a4d411abd17bc9b74a00f89fe6d142116edf89b"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411abd17bc9b74a00f89fe6d142116edf89b">ROUND_ROBIN_PERMISSION</a></div><div class="ttdeci">@ ROUND_ROBIN_PERMISSION</div><div class="ttdef"><b>Definition</b> LootMgr.h:71</div></div>
<div class="ttc" id="aLootMgr_8h_html_a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad3110498abe7a1e7532dd1f9688d9bd0">MASTER_PERMISSION</a></div><div class="ttdeci">@ MASTER_PERMISSION</div><div class="ttdef"><b>Definition</b> LootMgr.h:69</div></div>
<div class="ttc" id="aLootMgr_8h_html_a10c103da8c7dee2fd4e431c086a4d411ad84d7d18444b133278cd128fd4e791b9"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a10c103da8c7dee2fd4e431c086a4d411ad84d7d18444b133278cd128fd4e791b9">GROUP_PERMISSION</a></div><div class="ttdeci">@ GROUP_PERMISSION</div><div class="ttdef"><b>Definition</b> LootMgr.h:68</div></div>
<div class="ttc" id="aLootMgr_8h_html_a37571dff8ec8d0034df583b5dc062bf2"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a37571dff8ec8d0034df583b5dc062bf2">QuestItemMap</a></div><div class="ttdeci">std::map&lt; ObjectGuid, QuestItemList * &gt; QuestItemMap</div><div class="ttdef"><b>Definition</b> LootMgr.h:200</div></div>
<div class="ttc" id="aLootMgr_8h_html_a66687cf1196c7fa693fa85de99085c42"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42">LootSlotType</a></div><div class="ttdeci">LootSlotType</div><div class="ttdef"><b>Definition</b> LootMgr.h:113</div></div>
<div class="ttc" id="aLootMgr_8h_html_a66687cf1196c7fa693fa85de99085c42a2704402003a31c849c6f52da262bf294"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a2704402003a31c849c6f52da262bf294">LOOT_SLOT_TYPE_MASTER</a></div><div class="ttdeci">@ LOOT_SLOT_TYPE_MASTER</div><div class="ttdef"><b>Definition</b> LootMgr.h:116</div></div>
<div class="ttc" id="aLootMgr_8h_html_a66687cf1196c7fa693fa85de99085c42a5f038102313e70df26e6218c38c17e6b"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a5f038102313e70df26e6218c38c17e6b">LOOT_SLOT_TYPE_ROLL_ONGOING</a></div><div class="ttdeci">@ LOOT_SLOT_TYPE_ROLL_ONGOING</div><div class="ttdef"><b>Definition</b> LootMgr.h:115</div></div>
<div class="ttc" id="aLootMgr_8h_html_a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42a89e7b03ca05bd629c1aee0cb5b612128">LOOT_SLOT_TYPE_ALLOW_LOOT</a></div><div class="ttdeci">@ LOOT_SLOT_TYPE_ALLOW_LOOT</div><div class="ttdef"><b>Definition</b> LootMgr.h:114</div></div>
<div class="ttc" id="aLootMgr_8h_html_a66687cf1196c7fa693fa85de99085c42aa11325a7cb83156f4b8f07049189c2db"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42aa11325a7cb83156f4b8f07049189c2db">LOOT_SLOT_TYPE_OWNER</a></div><div class="ttdeci">@ LOOT_SLOT_TYPE_OWNER</div><div class="ttdef"><b>Definition</b> LootMgr.h:118</div></div>
<div class="ttc" id="aLootMgr_8h_html_a66687cf1196c7fa693fa85de99085c42ae33105bc1d7809a9f0a6fa174bc1acba"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#a66687cf1196c7fa693fa85de99085c42ae33105bc1d7809a9f0a6fa174bc1acba">LOOT_SLOT_TYPE_LOCKED</a></div><div class="ttdeci">@ LOOT_SLOT_TYPE_LOCKED</div><div class="ttdef"><b>Definition</b> LootMgr.h:117</div></div>
<div class="ttc" id="aLootMgr_8h_html_aefbd6adf4dc1ea158a5273f01e0efa8c"><div class="ttname"><a href="../../d9/d84/LootMgr_8h.html#aefbd6adf4dc1ea158a5273f01e0efa8c">QuestItemList</a></div><div class="ttdeci">std::vector&lt; QuestItem &gt; QuestItemList</div><div class="ttdef"><b>Definition</b> LootMgr.h:198</div></div>
<div class="ttc" id="aclassByteBuffer_html_a6e9aaf9195c43a9a03ee4a55c435e24f"><div class="ttname"><a href="../../da/d07/classByteBuffer.html#a6e9aaf9195c43a9a03ee4a55c435e24f">ByteBuffer::wpos</a></div><div class="ttdeci">std::size_t wpos() const</div><div class="ttdef"><b>Definition</b> ByteBuffer.h:330</div></div>
<div class="ttc" id="aclassByteBuffer_html_ab14206d336f09c4096a84a27c9bb6777"><div class="ttname"><a href="../../da/d07/classByteBuffer.html#ab14206d336f09c4096a84a27c9bb6777">ByteBuffer::put</a></div><div class="ttdeci">void put(std::size_t pos, T value)</div><div class="ttdef"><b>Definition</b> ByteBuffer.h:137</div></div>
<div class="ttc" id="astructLootItem_html"><div class="ttname"><a href="../../db/d72/structLootItem.html">LootItem</a></div><div class="ttdef"><b>Definition</b> LootMgr.h:154</div></div>
<div class="ttc" id="astructLootItem_html_a03aad2576badecebacfb0f4658fdbf4c"><div class="ttname"><a href="../../db/d72/structLootItem.html#a03aad2576badecebacfb0f4658fdbf4c">LootItem::itemid</a></div><div class="ttdeci">uint32 itemid</div><div class="ttdef"><b>Definition</b> LootMgr.h:155</div></div>
<div class="ttc" id="astructLootItem_html_a9021fa353f7538706349702498a4e778"><div class="ttname"><a href="../../db/d72/structLootItem.html#a9021fa353f7538706349702498a4e778">LootItem::is_looted</a></div><div class="ttdeci">bool is_looted</div><div class="ttdef"><b>Definition</b> LootMgr.h:163</div></div>
<div class="ttc" id="astructLootItem_html_ae9f49e27fd81c235fdc2c754918f55c4"><div class="ttname"><a href="../../db/d72/structLootItem.html#ae9f49e27fd81c235fdc2c754918f55c4">LootItem::freeforall</a></div><div class="ttdeci">bool freeforall</div><div class="ttdef"><b>Definition</b> LootMgr.h:165</div></div>
<div class="ttc" id="astructLoot_html"><div class="ttname"><a href="../../d8/d62/structLoot.html">Loot</a></div><div class="ttdef"><b>Definition</b> LootMgr.h:313</div></div>
<div class="ttc" id="astructLoot_html_a462871d75b43fa25808d3a1893eb4118"><div class="ttname"><a href="../../d8/d62/structLoot.html#a462871d75b43fa25808d3a1893eb4118">Loot::sourceWorldObjectGUID</a></div><div class="ttdeci">ObjectGuid sourceWorldObjectGUID</div><div class="ttdef"><b>Definition</b> LootMgr.h:330</div></div>
<div class="ttc" id="astructLoot_html_a65d385158f0ed6ca4cb241dd4cce4aa4"><div class="ttname"><a href="../../d8/d62/structLoot.html#a65d385158f0ed6ca4cb241dd4cce4aa4">Loot::roundRobinPlayer</a></div><div class="ttdeci">ObjectGuid roundRobinPlayer</div><div class="ttdef"><b>Definition</b> LootMgr.h:324</div></div>
<div class="ttc" id="astructLoot_html_a8a079b186937e50d51fc4636f8deb698"><div class="ttname"><a href="../../d8/d62/structLoot.html#a8a079b186937e50d51fc4636f8deb698">Loot::gold</a></div><div class="ttdeci">uint32 gold</div><div class="ttdef"><b>Definition</b> LootMgr.h:322</div></div>
<div class="ttc" id="astructLoot_html_aa9f074d6aada3f2fbf59303bdae43794"><div class="ttname"><a href="../../d8/d62/structLoot.html#aa9f074d6aada3f2fbf59303bdae43794">Loot::GetPlayerQuestItems</a></div><div class="ttdeci">QuestItemMap const &amp; GetPlayerQuestItems() const</div><div class="ttdef"><b>Definition</b> LootMgr.h:316</div></div>
<div class="ttc" id="astructLoot_html_ab9d61ed7d2aacadda6b4a648ab8c41b3"><div class="ttname"><a href="../../d8/d62/structLoot.html#ab9d61ed7d2aacadda6b4a648ab8c41b3">Loot::items</a></div><div class="ttdeci">std::vector&lt; LootItem &gt; items</div><div class="ttdef"><b>Definition</b> LootMgr.h:320</div></div>
<div class="ttc" id="astructLoot_html_ac60d37c9b93ff3c1efa307366477fc49"><div class="ttname"><a href="../../d8/d62/structLoot.html#ac60d37c9b93ff3c1efa307366477fc49">Loot::GetPlayerFFAItems</a></div><div class="ttdeci">QuestItemMap const &amp; GetPlayerFFAItems() const</div><div class="ttdef"><b>Definition</b> LootMgr.h:317</div></div>
<div class="ttc" id="astructLoot_html_ad2018513176aca0f87694c36ed47551c"><div class="ttname"><a href="../../d8/d62/structLoot.html#ad2018513176aca0f87694c36ed47551c">Loot::GetPlayerNonQuestNonFFAConditionalItems</a></div><div class="ttdeci">QuestItemMap const &amp; GetPlayerNonQuestNonFFAConditionalItems() const</div><div class="ttdef"><b>Definition</b> LootMgr.h:318</div></div>
<div class="ttc" id="astructLoot_html_afa9a10adf695d6591d45a3afd74e0825"><div class="ttname"><a href="../../d8/d62/structLoot.html#afa9a10adf695d6591d45a3afd74e0825">Loot::quest_items</a></div><div class="ttdeci">std::vector&lt; LootItem &gt; quest_items</div><div class="ttdef"><b>Definition</b> LootMgr.h:321</div></div>
<div class="ttc" id="astructQuestItem_html"><div class="ttname"><a href="../../d6/d31/structQuestItem.html">QuestItem</a></div><div class="ttdef"><b>Definition</b> LootMgr.h:185</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a867a728f0e7d52d0c546457d9199bbe0" name="a867a728f0e7d52d0c546457d9199bbe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867a728f0e7d52d0c546457d9199bbe0">&#9670;&#160;</a></span>LootTemplates_Creature</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Creature(&quot;creature_loot_template&quot;, &quot;creature entry&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;creature_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;creature entry&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00116">boss_high_king_maulgar::DoAction()</a>, <a class="el" href="../../#l00583">reload_commandscript::HandleReloadLootTemplatesCreatureCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l17765">Unit::Kill()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, <a class="el" href="../../#l00175">instance_utgarde_keep::instance_utgarde_keep_InstanceMapScript::SetData()</a>, and <a class="el" href="../../#l00107">boss_priestess_delrissa::SummonedCreatureDies()</a>.</p>

</div>
</div>
<a id="a5df89c4848d191ab038eed9a8f81b913" name="a5df89c4848d191ab038eed9a8f81b913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df89c4848d191ab038eed9a8f81b913">&#9670;&#160;</a></span>LootTemplates_Disenchant</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Disenchant(&quot;disenchant_loot_template&quot;, &quot;item disenchant id&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;disenchant_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;item disenchant id&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01421">Group::CountTheRoll()</a>, <a class="el" href="../../#l00601">reload_commandscript::HandleReloadLootTemplatesDisenchantCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="af45baef147256b11372c092b0ac53f91" name="af45baef147256b11372c092b0ac53f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45baef147256b11372c092b0ac53f91">&#9670;&#160;</a></span>LootTemplates_Fishing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Fishing(&quot;fishing_loot_template&quot;, &quot;area id&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;fishing_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;area id&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01004">GameObject::GetFishLoot()</a>, <a class="el" href="../../#l00611">reload_commandscript::HandleReloadLootTemplatesFishingCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, and <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>.</p>

</div>
</div>
<a id="a2092f58e2dc595c617668f039de77935" name="a2092f58e2dc595c617668f039de77935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2092f58e2dc595c617668f039de77935">&#9670;&#160;</a></span>LootTemplates_Gameobject</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Gameobject(&quot;gameobject_loot_template&quot;, &quot;gameobject entry&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;gameobject_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;gameobject entry&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01311">GameObject::ActivateToQuest()</a>, <a class="el" href="../../#l00621">reload_commandscript::HandleReloadLootTemplatesGameobjectCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, <a class="el" href="../../#l08575">ObjectMgr::LoadGameObjectForQuests()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="a3148b185e4fb344eaa918ccc37ff8e84" name="a3148b185e4fb344eaa918ccc37ff8e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3148b185e4fb344eaa918ccc37ff8e84">&#9670;&#160;</a></span>LootTemplates_Item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Item(&quot;item_loot_template&quot;, &quot;item entry&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;item_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;item entry&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00631">reload_commandscript::HandleReloadLootTemplatesItemCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, <a class="el" href="../../#l00163">LootItemStorage::LoadStoredLoot()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="aba8aafe6a5d2d251b6e2f539b27f5949" name="aba8aafe6a5d2d251b6e2f539b27f5949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8aafe6a5d2d251b6e2f539b27f5949">&#9670;&#160;</a></span>LootTemplates_Mail</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Mail(&quot;mail_loot_template&quot;, &quot;mail template id&quot;, false) </td>
          <td>(</td>
          <td class="paramtype">&quot;mail_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;mail template id&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00671">reload_commandscript::HandleReloadLootTemplatesMailCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, and <a class="el" href="../../#l00099">MailDraft::prepareItems()</a>.</p>

</div>
</div>
<a id="a433757800c8ee4e9b654d504a4ee828a" name="a433757800c8ee4e9b654d504a4ee828a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433757800c8ee4e9b654d504a4ee828a">&#9670;&#160;</a></span>LootTemplates_Milling</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Milling(&quot;milling_loot_template&quot;, &quot;item entry (herb)&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;milling_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;item entry (herb)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l07189">Spell::CheckItems()</a>, <a class="el" href="../../#l00641">reload_commandscript::HandleReloadLootTemplatesMillingCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="a94fe5d87a40ef83d99db6ccfde0a719f" name="a94fe5d87a40ef83d99db6ccfde0a719f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94fe5d87a40ef83d99db6ccfde0a719f">&#9670;&#160;</a></span>LootTemplates_Pickpocketing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Pickpocketing(&quot;pickpocketing_loot_template&quot;, &quot;creature pickpocket lootid&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;pickpocketing_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;creature pickpocket lootid&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01759">SpellInfo::CheckTarget()</a>, <a class="el" href="../../#l00651">reload_commandscript::HandleReloadLootTemplatesPickpocketingCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="abbe10d61650265aabbc5de5685a8b9bb" name="abbe10d61650265aabbc5de5685a8b9bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe10d61650265aabbc5de5685a8b9bb">&#9670;&#160;</a></span>LootTemplates_Player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Player(&quot;player_loot_template&quot;, &quot;team id&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;player_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;team id&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00710">reload_commandscript::HandleReloadLootTemplatesPlayerCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="a5e98772296a6d93715a4ed74eb2b5bdf" name="a5e98772296a6d93715a4ed74eb2b5bdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e98772296a6d93715a4ed74eb2b5bdf">&#9670;&#160;</a></span>LootTemplates_Prospecting</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Prospecting(&quot;prospecting_loot_template&quot;, &quot;item entry (ore)&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;prospecting_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;item entry (ore)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l07189">Spell::CheckItems()</a>, <a class="el" href="../../#l00661">reload_commandscript::HandleReloadLootTemplatesProspectingCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="a556a2458977647462ba38f61da196218" name="a556a2458977647462ba38f61da196218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a556a2458977647462ba38f61da196218">&#9670;&#160;</a></span>LootTemplates_Reference</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Reference(&quot;reference_loot_template&quot;, &quot;reference id&quot;, false) </td>
          <td>(</td>
          <td class="paramtype">&quot;reference_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;reference id&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, and <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>.</p>

</div>
</div>
<a id="a195e88b39c43d01cbf8b1871a7129a60" name="a195e88b39c43d01cbf8b1871a7129a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195e88b39c43d01cbf8b1871a7129a60">&#9670;&#160;</a></span>LootTemplates_Skinning</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Skinning(&quot;skinning_loot_template&quot;, &quot;creature skinning id&quot;, true) </td>
          <td>(</td>
          <td class="paramtype">&quot;skinning_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;creature skinning id&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">true&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l03003">Creature::AllLootRemovedFromCorpse()</a>, <a class="el" href="../../#l06292">AuraEffect::HandlePeriodicTriggerSpellAuraTick()</a>, <a class="el" href="../../#l00690">reload_commandscript::HandleReloadLootTemplatesSkinningCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>, and <a class="el" href="../../#l07809">Player::SendLoot()</a>.</p>

</div>
</div>
<a id="a12b8cff5bc25ff6a80a044a72d037aaa" name="a12b8cff5bc25ff6a80a044a72d037aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b8cff5bc25ff6a80a044a72d037aaa">&#9670;&#160;</a></span>LootTemplates_Spell</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de0/classLootStore.html">LootStore</a> LootTemplates_Spell(&quot;spell_loot_template&quot;, &quot;spell id (random item creating)&quot;, false) </td>
          <td>(</td>
          <td class="paramtype">&quot;spell_loot_template&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;spell id (random item creating)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01785">Spell::EffectCreateItem2()</a>, <a class="el" href="../../#l01825">Spell::EffectCreateRandomItem()</a>, <a class="el" href="../../#l00700">reload_commandscript::HandleReloadLootTemplatesSpellCommand()</a>, <a class="el" href="../../#l01459">ConditionMgr::isSourceTypeValid()</a>, and <a class="el" href="../../#l01042">ConditionMgr::LoadConditions()</a>.</p>

</div>
</div>
<a id="a6777c1d78d0dc1837339a3dcc257f25c" name="a6777c1d78d0dc1837339a3dcc257f25c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6777c1d78d0dc1837339a3dcc257f25c">&#9670;&#160;</a></span>qualityToRate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20">Rates</a> const qualityToRate[<a class="el" href="../../de/d0a/SharedDefines_8h.html#a8b7f3e9bd0473c61e8fd7bb42b24faaa">MAX_ITEM_QUALITY</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a6f3eac3af48c50eec4108da9f1b3a9a5">RATE_DROP_ITEM_POOR</a>,                                    </div>
<div class="line">    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20af5413810a96288df23edc1e6e0127d42">RATE_DROP_ITEM_NORMAL</a>,                                  </div>
<div class="line">    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a77d3232028f974c439867f0ccd07f4d5">RATE_DROP_ITEM_UNCOMMON</a>,                                </div>
<div class="line">    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a3966d4e49f90a1c0aee8f0dafa79e243">RATE_DROP_ITEM_RARE</a>,                                    </div>
<div class="line">    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20aa5266b79e09b412b9465f31d4ebce74e">RATE_DROP_ITEM_EPIC</a>,                                    </div>
<div class="line">    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a65226e0db8ade2e497d4243ad80462e4">RATE_DROP_ITEM_LEGENDARY</a>,                               </div>
<div class="line">    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20aa7f70444bc45630f378911c786cfa273">RATE_DROP_ITEM_ARTIFACT</a>,                                </div>
<div class="line">}</div>
<div class="ttc" id="aIWorld_8h_html_a7ba5c3e6b385572c3bd751b6c9da9a20a3966d4e49f90a1c0aee8f0dafa79e243"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a3966d4e49f90a1c0aee8f0dafa79e243">RATE_DROP_ITEM_RARE</a></div><div class="ttdeci">@ RATE_DROP_ITEM_RARE</div><div class="ttdef"><b>Definition</b> IWorld.h:443</div></div>
<div class="ttc" id="aIWorld_8h_html_a7ba5c3e6b385572c3bd751b6c9da9a20a65226e0db8ade2e497d4243ad80462e4"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a65226e0db8ade2e497d4243ad80462e4">RATE_DROP_ITEM_LEGENDARY</a></div><div class="ttdeci">@ RATE_DROP_ITEM_LEGENDARY</div><div class="ttdef"><b>Definition</b> IWorld.h:445</div></div>
<div class="ttc" id="aIWorld_8h_html_a7ba5c3e6b385572c3bd751b6c9da9a20a6f3eac3af48c50eec4108da9f1b3a9a5"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a6f3eac3af48c50eec4108da9f1b3a9a5">RATE_DROP_ITEM_POOR</a></div><div class="ttdeci">@ RATE_DROP_ITEM_POOR</div><div class="ttdef"><b>Definition</b> IWorld.h:440</div></div>
<div class="ttc" id="aIWorld_8h_html_a7ba5c3e6b385572c3bd751b6c9da9a20a77d3232028f974c439867f0ccd07f4d5"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a77d3232028f974c439867f0ccd07f4d5">RATE_DROP_ITEM_UNCOMMON</a></div><div class="ttdeci">@ RATE_DROP_ITEM_UNCOMMON</div><div class="ttdef"><b>Definition</b> IWorld.h:442</div></div>
<div class="ttc" id="aIWorld_8h_html_a7ba5c3e6b385572c3bd751b6c9da9a20aa5266b79e09b412b9465f31d4ebce74e"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20aa5266b79e09b412b9465f31d4ebce74e">RATE_DROP_ITEM_EPIC</a></div><div class="ttdeci">@ RATE_DROP_ITEM_EPIC</div><div class="ttdef"><b>Definition</b> IWorld.h:444</div></div>
<div class="ttc" id="aIWorld_8h_html_a7ba5c3e6b385572c3bd751b6c9da9a20aa7f70444bc45630f378911c786cfa273"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20aa7f70444bc45630f378911c786cfa273">RATE_DROP_ITEM_ARTIFACT</a></div><div class="ttdeci">@ RATE_DROP_ITEM_ARTIFACT</div><div class="ttdef"><b>Definition</b> IWorld.h:446</div></div>
<div class="ttc" id="aIWorld_8h_html_a7ba5c3e6b385572c3bd751b6c9da9a20af5413810a96288df23edc1e6e0127d42"><div class="ttname"><a href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20af5413810a96288df23edc1e6e0127d42">RATE_DROP_ITEM_NORMAL</a></div><div class="ttdeci">@ RATE_DROP_ITEM_NORMAL</div><div class="ttdef"><b>Definition</b> IWorld.h:441</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="lineno">   34</span>{</div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a6f3eac3af48c50eec4108da9f1b3a9a5">RATE_DROP_ITEM_POOR</a>,                                    <span class="comment">// ITEM_QUALITY_POOR</span></div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20af5413810a96288df23edc1e6e0127d42">RATE_DROP_ITEM_NORMAL</a>,                                  <span class="comment">// ITEM_QUALITY_NORMAL</span></div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a77d3232028f974c439867f0ccd07f4d5">RATE_DROP_ITEM_UNCOMMON</a>,                                <span class="comment">// ITEM_QUALITY_UNCOMMON</span></div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a3966d4e49f90a1c0aee8f0dafa79e243">RATE_DROP_ITEM_RARE</a>,                                    <span class="comment">// ITEM_QUALITY_RARE</span></div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20aa5266b79e09b412b9465f31d4ebce74e">RATE_DROP_ITEM_EPIC</a>,                                    <span class="comment">// ITEM_QUALITY_EPIC</span></div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20a65226e0db8ade2e497d4243ad80462e4">RATE_DROP_ITEM_LEGENDARY</a>,                               <span class="comment">// ITEM_QUALITY_LEGENDARY</span></div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_enumvalue" href="../../d2/d78/IWorld_8h.html#a7ba5c3e6b385572c3bd751b6c9da9a20aa7f70444bc45630f378911c786cfa273">RATE_DROP_ITEM_ARTIFACT</a>,                                <span class="comment">// ITEM_QUALITY_ARTIFACT</span></div>
<div class="line"><span class="lineno">   42</span>};</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_f7e0c1f1a42fff32e0ff6393fb6a6d60.html">azerothcore-wotlk</a></li><li class="navelem"><a class="el" href="../../dir_ee82ee7794f367a672177b3bd595def7.html">src</a></li><li class="navelem"><a class="el" href="../../dir_cfd62069f43c6d31c3f6e771507ef478.html">server</a></li><li class="navelem"><a class="el" href="../../dir_355661791026b33f9301c754e4db8b50.html">game</a></li><li class="navelem"><a class="el" href="../../dir_10297b48ba7ced035a247ae7b230d081.html">Loot</a></li><li class="navelem"><a class="el" href="../../d8/d03/LootMgr_8cpp.html">LootMgr.cpp</a></li>
    <li class="footer">Generated on Wed Feb 12 2025 06:19:57 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
